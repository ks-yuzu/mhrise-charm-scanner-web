{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/svelte-lightbox/src/LightboxThumbnail.svelte","../../node_modules/svelte/easing/index.mjs","../../node_modules/svelte/transition/index.mjs","../../node_modules/svelte-lightbox/src/Modal/LightboxHeader.svelte","../../node_modules/svelte-lightbox/src/Modal/LightboxBody.svelte","../../node_modules/svelte-lightbox/src/Modal/LightboxFooter.svelte","../../node_modules/svelte-lightbox/src/Modal/Index.svelte","../../node_modules/svelte-lightbox/src/Gallery/InternalGallery.svelte","../../node_modules/svelte/store/index.mjs","../../node_modules/svelte-lightbox/src/Lightbox.svelte","../../node_modules/mdbsvelte/src/utils.js","../../node_modules/mdbsvelte/src/MDBBtn.svelte","../../node_modules/mdbsvelte/src/MDBBtnGroup.svelte","../../node_modules/mdbsvelte/src/MDBModal.svelte","../../node_modules/mdbsvelte/src/MDBModalBody.svelte","../../node_modules/mdbsvelte/src/MDBModalHeader.svelte","../../node_modules/mdbsvelte/src/MDBModalFooter.svelte","../../src/components/parts/ConfirmModal.svelte","../../src/stores/stores.js","../../src/string-util.ts","../../src/pages/CharmIxporter.svelte","../../node_modules/dayjs/dayjs.min.js","../../node_modules/svelte/motion/index.mjs","../../node_modules/svelte-range-slider-pips/src/RangePips.svelte","../../node_modules/svelte-range-slider-pips/src/RangeSlider.svelte","../../src/components/parts/CameraReader.svelte","../../node_modules/simple-svelte-autocomplete/src/SimpleAutocomplete.svelte","../../src/components/parts/CharmPositionInput.svelte","../../src/assets/mhrise/metadata.ts","../../src/components/parts/CharmRarityInput.svelte","../../src/assets/mhrise/mhrise-skills.js","../../src/components/parts/CharmSkillInput.svelte","../../src/components/parts/CharmSkillLevelInput.svelte","../../src/components/parts/CharmSlotsInput.svelte","../../node_modules/dexie/dist/dexie.mjs","../../src/util.js","../../src/assets/mhrise/mhrise-charm-scanner.ts","../../src/components/parts/CharmMinimap.svelte","../../src/components/parts/RecordButton.svelte","../../src/components/parts/SvelteTable.svelte","../../src/components/parts/CharmTable.svelte","../../src/components/parts/CharmTableWithPager.svelte","../../src/assets/mhrise/mhrise-charm.ts","../../src/stores/flags.ts","../../src/pages/CharmDisposalSupporter.svelte","../../src/pages/CharmRinneSupporter.svelte","../../src/pages/CharmSearcher.svelte","../../src/pages/CharmList.svelte","../../src/pages/CharmRealtimeScanner.svelte","../../src/components/parts/VideoReader.svelte","../../src/pages/CharmScanner.svelte","../../src/components/nav/NavOptions.svelte","../../src/components/nav/Nav.svelte","../../src/components/parts/Hamburger.svelte","../../node_modules/@sqlite.org/sqlite-wasm/sqlite-wasm/jswasm/sqlite3-bundler-friendly.mjs","../../node_modules/@sqlite.org/sqlite-wasm/sqlite-wasm/jswasm/sqlite3-worker1-promiser-bundler-friendly.js","../../src/assets/mhrise/mhrise-charm-decorations.js","../../src/assets/mhrise/mhrise-charm-manager.ts","../../src/App.svelte","../../src/main.ts"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot_spread(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_spread_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_spread_changes_fn(dirty) | get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            const remove = [];\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j++];\n                if (!attributes[attribute.name]) {\n                    remove.push(attribute.name);\n                }\n            }\n            for (let k = 0; k < remove.length; k++) {\n                node.removeAttribute(remove[k]);\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(anchor = null) {\n        this.a = anchor;\n        this.e = this.n = null;\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.h(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = node.ownerDocument;\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = doc.head.appendChild(element('style')).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\nfunction update_await_block_branch(info, ctx, dirty) {\n    const child_ctx = ctx.slice();\n    const { resolved } = info;\n    if (info.current === info.then) {\n        child_ctx[info.value] = resolved;\n    }\n    if (info.current === info.catch) {\n        child_ctx[info.error] = resolved;\n    }\n    info.block.p(child_ctx, dirty);\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : context || []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = on_mount.map(run).filter(is_function);\n            if (on_destroy) {\n                on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : options.context || []),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.38.2' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to seperate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_custom_elements_slots, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_await_block_branch, update_keyed_each, update_slot, update_slot_spread, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","<script>\n    import { createEventDispatcher } from 'svelte';\n    const dispatch = createEventDispatcher();\n\n    export let thumbnailClasses = '';\n    export let thumbnailStyle = '';\n    export let protect = false;\n</script>\n\n<div class=\"clickable\" on:click={ () => dispatch('click') }>\n    <div class={thumbnailClasses} style={thumbnailStyle} class:svelte-lightbox-unselectable={protect}>\n        <slot/>\n    </div>\n</div>\n\n<style>\n    div.clickable {\n        position: static;\n        cursor: zoom-in;\n    }\n    div.svelte-lightbox-unselectable {\n        user-select: none;\n        pointer-events: none;\n    }\n</style>","export { identity as linear } from '../internal/index.mjs';\n\n/*\nAdapted from https://github.com/mattdesl\nDistributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md\n*/\nfunction backInOut(t) {\n    const s = 1.70158 * 1.525;\n    if ((t *= 2) < 1)\n        return 0.5 * (t * t * ((s + 1) * t - s));\n    return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n}\nfunction backIn(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n}\nfunction backOut(t) {\n    const s = 1.70158;\n    return --t * t * ((s + 1) * t + s) + 1;\n}\nfunction bounceOut(t) {\n    const a = 4.0 / 11.0;\n    const b = 8.0 / 11.0;\n    const c = 9.0 / 10.0;\n    const ca = 4356.0 / 361.0;\n    const cb = 35442.0 / 1805.0;\n    const cc = 16061.0 / 1805.0;\n    const t2 = t * t;\n    return t < a\n        ? 7.5625 * t2\n        : t < b\n            ? 9.075 * t2 - 9.9 * t + 3.4\n            : t < c\n                ? ca * t2 - cb * t + cc\n                : 10.8 * t * t - 20.52 * t + 10.72;\n}\nfunction bounceInOut(t) {\n    return t < 0.5\n        ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0))\n        : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\nfunction bounceIn(t) {\n    return 1.0 - bounceOut(1.0 - t);\n}\nfunction circInOut(t) {\n    if ((t *= 2) < 1)\n        return -0.5 * (Math.sqrt(1 - t * t) - 1);\n    return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\nfunction circIn(t) {\n    return 1.0 - Math.sqrt(1.0 - t * t);\n}\nfunction circOut(t) {\n    return Math.sqrt(1 - --t * t);\n}\nfunction cubicInOut(t) {\n    return t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\nfunction cubicIn(t) {\n    return t * t * t;\n}\nfunction cubicOut(t) {\n    const f = t - 1.0;\n    return f * f * f + 1.0;\n}\nfunction elasticInOut(t) {\n    return t < 0.5\n        ? 0.5 *\n            Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) *\n            Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n        : 0.5 *\n            Math.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *\n            Math.pow(2.0, -10.0 * (2.0 * t - 1.0)) +\n            1.0;\n}\nfunction elasticIn(t) {\n    return Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction elasticOut(t) {\n    return (Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0);\n}\nfunction expoInOut(t) {\n    return t === 0.0 || t === 1.0\n        ? t\n        : t < 0.5\n            ? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)\n            : -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;\n}\nfunction expoIn(t) {\n    return t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction expoOut(t) {\n    return t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n}\nfunction quadInOut(t) {\n    t /= 0.5;\n    if (t < 1)\n        return 0.5 * t * t;\n    t--;\n    return -0.5 * (t * (t - 2) - 1);\n}\nfunction quadIn(t) {\n    return t * t;\n}\nfunction quadOut(t) {\n    return -t * (t - 2.0);\n}\nfunction quartInOut(t) {\n    return t < 0.5\n        ? +8.0 * Math.pow(t, 4.0)\n        : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n}\nfunction quartIn(t) {\n    return Math.pow(t, 4.0);\n}\nfunction quartOut(t) {\n    return Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\nfunction quintInOut(t) {\n    if ((t *= 2) < 1)\n        return 0.5 * t * t * t * t * t;\n    return 0.5 * ((t -= 2) * t * t * t * t + 2);\n}\nfunction quintIn(t) {\n    return t * t * t * t * t;\n}\nfunction quintOut(t) {\n    return --t * t * t * t * t + 1;\n}\nfunction sineInOut(t) {\n    return -0.5 * (Math.cos(Math.PI * t) - 1);\n}\nfunction sineIn(t) {\n    const v = Math.cos(t * Math.PI * 0.5);\n    if (Math.abs(v) < 1e-14)\n        return 1;\n    else\n        return 1 - v;\n}\nfunction sineOut(t) {\n    return Math.sin((t * Math.PI) / 2);\n}\n\nexport { backIn, backInOut, backOut, bounceIn, bounceInOut, bounceOut, circIn, circInOut, circOut, cubicIn, cubicInOut, cubicOut, elasticIn, elasticInOut, elasticOut, expoIn, expoInOut, expoOut, quadIn, quadInOut, quadOut, quartIn, quartInOut, quartOut, quintIn, quintInOut, quintOut, sineIn, sineInOut, sineOut };\n","import { cubicInOut, linear, cubicOut } from '../easing/index.mjs';\nimport { is_function, assign } from '../internal/index.mjs';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nfunction blur(node, { delay = 0, duration = 400, easing = cubicInOut, amount = 5, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const f = style.filter === 'none' ? '' : style.filter;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `opacity: ${target_opacity - (od * u)}; filter: ${f} blur(${u * amount}px);`\n    };\n}\nfunction fade(node, { delay = 0, duration = 400, easing = linear } = {}) {\n    const o = +getComputedStyle(node).opacity;\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => `opacity: ${t * o}`\n    };\n}\nfunction fly(node, { delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * x}px, ${(1 - t) * y}px);\n\t\t\topacity: ${target_opacity - (od * u)}`\n    };\n}\nfunction slide(node, { delay = 0, duration = 400, easing = cubicOut } = {}) {\n    const style = getComputedStyle(node);\n    const opacity = +style.opacity;\n    const height = parseFloat(style.height);\n    const padding_top = parseFloat(style.paddingTop);\n    const padding_bottom = parseFloat(style.paddingBottom);\n    const margin_top = parseFloat(style.marginTop);\n    const margin_bottom = parseFloat(style.marginBottom);\n    const border_top_width = parseFloat(style.borderTopWidth);\n    const border_bottom_width = parseFloat(style.borderBottomWidth);\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => 'overflow: hidden;' +\n            `opacity: ${Math.min(t * 20, 1) * opacity};` +\n            `height: ${t * height}px;` +\n            `padding-top: ${t * padding_top}px;` +\n            `padding-bottom: ${t * padding_bottom}px;` +\n            `margin-top: ${t * margin_top}px;` +\n            `margin-bottom: ${t * margin_bottom}px;` +\n            `border-top-width: ${t * border_top_width}px;` +\n            `border-bottom-width: ${t * border_bottom_width}px;`\n    };\n}\nfunction scale(node, { delay = 0, duration = 400, easing = cubicOut, start = 0, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const sd = 1 - start;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `\n\t\t\ttransform: ${transform} scale(${1 - (sd * u)});\n\t\t\topacity: ${target_opacity - (od * u)}\n\t\t`\n    };\n}\nfunction draw(node, { delay = 0, speed, duration, easing = cubicInOut } = {}) {\n    const len = node.getTotalLength();\n    if (duration === undefined) {\n        if (speed === undefined) {\n            duration = 800;\n        }\n        else {\n            duration = len / speed;\n        }\n    }\n    else if (typeof duration === 'function') {\n        duration = duration(len);\n    }\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `stroke-dasharray: ${t * len} ${u * len}`\n    };\n}\nfunction crossfade(_a) {\n    var { fallback } = _a, defaults = __rest(_a, [\"fallback\"]);\n    const to_receive = new Map();\n    const to_send = new Map();\n    function crossfade(from, node, params) {\n        const { delay = 0, duration = d => Math.sqrt(d) * 30, easing = cubicOut } = assign(assign({}, defaults), params);\n        const to = node.getBoundingClientRect();\n        const dx = from.left - to.left;\n        const dy = from.top - to.top;\n        const dw = from.width / to.width;\n        const dh = from.height / to.height;\n        const d = Math.sqrt(dx * dx + dy * dy);\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        const opacity = +style.opacity;\n        return {\n            delay,\n            duration: is_function(duration) ? duration(d) : duration,\n            easing,\n            css: (t, u) => `\n\t\t\t\topacity: ${t * opacity};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${t + (1 - t) * dh});\n\t\t\t`\n        };\n    }\n    function transition(items, counterparts, intro) {\n        return (node, params) => {\n            items.set(params.key, {\n                rect: node.getBoundingClientRect()\n            });\n            return () => {\n                if (counterparts.has(params.key)) {\n                    const { rect } = counterparts.get(params.key);\n                    counterparts.delete(params.key);\n                    return crossfade(rect, node, params);\n                }\n                // if the node is disappearing altogether\n                // (i.e. wasn't claimed by the other list)\n                // then we need to supply an outro\n                items.delete(params.key);\n                return fallback && fallback(node, params, intro);\n            };\n        };\n    }\n    return [\n        transition(to_send, to_receive, false),\n        transition(to_receive, to_send, true)\n    ];\n}\n\nexport { blur, crossfade, draw, fade, fly, scale, slide };\n","<script>\n    import { createEventDispatcher } from 'svelte';\n    const dispatch = createEventDispatcher();\n\n    export let size = 'xs';\n    export let style = '';\n    export let headerClasses = '';\n    export let buttonClasses = '';\n</script>\n\n<div class={\"svelte-lightbox-header \" + headerClasses}>\n    <button on:click={ () => dispatch('close')} {size} {style} class={buttonClasses}>\n        ×\n    </button>\n</div>\n\n<style>\n    div.svelte-lightbox-header {\n        width: auto;\n        height: 3rem;\n        display: flex;\n        justify-content: flex-end;\n        align-items: center;\n    }\n    button {\n        background: transparent;\n        font-size: 3rem;\n        border: none;\n        color: white;\n    }\n    button:hover {\n        color: lightgray;\n        cursor: pointer;\n    }\n</style>\n","<script>\n    export let image = {};\n    export let protect = false;\n    export let portrait = false;\n</script>\n\n<div class=\"svelte-lightbox-body\" class:svelte-lightbox-unselectable={protect}>\n    {#if image.src}\n        <img src={image.src} alt={image.alt} style={image.style} class={image.class}>\n    {:else}\n        <div class:svelte-lightbox-image-portrait={portrait}>\n            <slot />\n        </div>\n    {/if}\n</div>\n\n<style>\n    div.svelte-lightbox-body {\n        background-color: transparent;\n        width: auto;\n        height: auto;\n        max-height: 80vh;\n    }\n    div.svelte-lightbox-unselectable {\n        user-select: none;\n        pointer-events: none;\n    }\n    div.svelte-lightbox-image-portrait{\n        max-width: 90vh;\n    }\n</style>","<script>\n    export let title = '';\n    export let description = '';\n    export let galleryLength;\n    export let activeImage;\n\n    export let classes = '';\n    export let style = '';\n</script>\n\n<div class={\"svelte-lightbox-footer \" + classes} {style}>\n    <h2>\n        {@html title}\n    </h2>\n    <h5>\n        {@html description}\n    </h5>\n    {#if galleryLength}\n        <p>\n            Image {activeImage+1} of {galleryLength}\n        </p>\n    {/if}\n</div>\n\n<style>\n    div.svelte-lightbox-footer {\n        background-color: transparent;\n        color: white;\n        text-align: left;\n        width: inherit;\n        height: auto;\n    }\n</style>","<script>\n    import {fade} from 'svelte/transition';\n    import { createEventDispatcher } from 'svelte';\n    const dispatch = createEventDispatcher();\n\n    import Header from './LightboxHeader.svelte';\n    import Body from './LightboxBody.svelte';\n    import Footer from './LightboxFooter.svelte';\n\n    export let modalClasses = '';\n    export let modalStyle = '';\n    export let transitionDuration = 500;\n    export let image = {};\n    export let protect = false;\n    export let portrait = false;\n    export let title = '';\n    export let description = '';\n    export let gallery;\n    export let activeImage;\n    let actualTitle;\n    let actualDescription;\n\n    //let allModalClasses = modalClasses;\n    $: allModalClasses = `${modalClasses} svelte-lightbox-overlay clearfix`;\n    $: actualTitle = title;\n    $: actualDescription = description;\n\n    $: if (gallery && !title && !description) {\n            actualTitle = gallery[activeImage].title;\n            actualDescription = gallery[activeImage].description;\n    }\n\n</script>\n\n<div class=\"cover clearfix\">\n\n    <div class={allModalClasses} style={modalStyle} transition:fade={{duration:transitionDuration}} on:click={ () => dispatch('topModalClick') }>\n\n        <div class=\"svelte-lightbox\" on:click={ () => dispatch('modalClick') }>\n\n            <Header on:close={ () => dispatch('close') }/>\n\n            <Body bind:image={image} bind:protect={protect} bind:portrait={portrait}>\n                <slot/>\n            </Body>\n\n\n            <Footer bind:title={actualTitle} bind:description={actualDescription} bind:galleryLength={gallery.length}\n                    bind:activeImage={activeImage}/>\n\n        </div>\n\n    </div>\n\n</div>\n\n\n<style>\n    .cover {\n        position: fixed;\n        z-index: 1000000!important;\n        background-color: rgba(43, 39, 45, 0.87);\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        overflow: hidden;\n        width: 100%;\n        height: 100%;\n    }\n    .svelte-lightbox-overlay {\n        position: relative;\n        z-index: 1000001;\n        height: 100%;\n        width: 100%;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        padding: 1rem;\n    }\n    .cover:before {\n         content: '';\n         position: absolute;\n         top: 0; bottom: 0; left: 0; right: 0;\n         opacity: 0;\n         z-index: -1;\n     }\n    .svelte-lightbox {\n        position: absolute;\n        background-color: transparent;\n        width: auto;\n        height: auto;\n        max-width: 90%;\n        max-height: 90%;\n        z-index: 1000002;\n    }\n    .clearfix::after {\n        content: \"\";\n        clear: both;\n        display: table;\n    }\n\n    /* I need help with styling this */\n</style>\n","<script>\n    export let activeImage = 0;\n    let slotContent;\n    let images;\n\n    $: images = slotContent?.children\n    $: {\n        console.log(typeof images)\n        if (images && activeImage < images.length) {\n            Object.values(images).forEach(img=>{\n                img.hidden = true;\n                return img\n            })\n            images[activeImage].hidden = false;\n        } else if (images && activeImage >= images.length) {\n            console.error(\"LightboxGallery: Selected image doesn't exist, invalid activeImage\")\n        }\n    }\n\n    const previousImage = () => {\n        activeImage--\n    }\n\n    const nextImage = () => {\n        activeImage++\n    }\n\n</script>\n\n<div class=\"wrapper\">\n    <button on:click={previousImage} disabled={activeImage === 0} class=\"previous-button\">\n        <svg viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n            <g>\n                <path class=\"arrow\" d=\"M8.7,7.22,4.59,11.33a1,1,0,0,0,0,1.41l4,4\"/>\n            </g>\n        </svg>\n    </button>\n\n    <div bind:this={slotContent} class=\"slot\">\n        <slot>\n        </slot>\n    </div>\n\n    <button on:click={nextImage} disabled={activeImage === images?.length-1} class=\"next-button\">\n        <svg viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n            <g>\n                <path class=\"arrow\" d=\"M15.3,16.78l4.11-4.11a1,1,0,0,0,0-1.41l-4-4\"/>\n            </g>\n        </svg>\n    </button>\n</div>\n\n\n<style>\n    .arrow{\n        fill:none;\n        stroke: black;\n        stroke-linecap:round;\n        stroke-linejoin:bevel;\n        stroke-width:1.5px;\n        margin: 10px;\n    }\n    button {\n        background: transparent;\n        color: black;\n        border: none;\n        font-size: 1rem;\n        width: 50%;\n        height: 100%;\n    }\n    button:active {\n        background: transparent;\n    }\n    button:disabled {\n        color: gray;\n    }\n    .wrapper {\n        position: relative;\n        display: flex;\n        width: auto;\n        height: auto;\n    }\n    .previous-button {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 50%;\n        z-index: 4;\n        text-align: left;\n    }\n    .slot {\n        order: 1;\n    }\n    .next-button {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        right: 0;\n        z-index: 4;\n        text-align: right;\n    }\n    svg {\n        height: 5rem;\n    }\n</style>","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal/index.mjs';\nexport { get_store_value as get } from '../internal/index.mjs';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = [];\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (let i = 0; i < subscribers.length; i += 1) {\n                    const s = subscribers[i];\n                    s[1]();\n                    subscriber_queue.push(s, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.push(subscriber);\n        if (subscribers.length === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            const index = subscribers.indexOf(subscriber);\n            if (index !== -1) {\n                subscribers.splice(index, 1);\n            }\n            if (subscribers.length === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","<script>\n    import Thumbnail from './LightboxThumbnail.svelte';\n    import Modal from './Modal/Index.svelte';\n    import InternalGallery from './Gallery/InternalGallery.svelte';\n    import {onMount} from 'svelte';\n    import {writable} from \"svelte/store\";\n    import ExternalGallery from \"./Gallery/ExternalGallery.svelte\";\n\n    //exporting classes, for passing classes into thumbnail\n    export let thumbnailClasses = '';\n    export let thumbnailStyle = '';\n    //exporting classes, for passing classes into wrapper\n    export let modalClasses = '';\n    export let modalStyle = '';\n    //number that hold which image is active\n    export let activeImage = 0;\n    //array with image descriptions\n    export let gallery = false;\n    export let title = '';\n    export let description = '';\n    //exporting duration of fade transition\n    export let transitionDuration = 500;\n    //bool that enables drag n drop protection\n    export let protect = false;\n    //enables other image than in slot\n    export let image = {};\n    //enables portrait mode\n    export let portrait = false;\n    //disables scrolling <body>\n    export let noScroll = true;\n    export let thumbnail = false;\n\n    let visible = false;\n\n    const toggle = () => {\n        visible = !visible;\n        if (noScroll) {\n            mountedT()\n        }\n    };\n    let mountedT = () => {\n    };\n\n    onMount(() => {\n        let defaultOverflow = document.body.style.overflow;\n        mountedT = () => {\n            if (visible) {\n                document.body.style.overflow = 'hidden';\n            } else {\n                document.body.style.overflow = defaultOverflow;\n            }\n        };\n    })\n\n  const handleKeyDown = (e) => {\n    if (e.code === 'Escape') { visible = false }\n  }\n</script>\n\n<svelte:window on:keydown={handleKeyDown}/>\n\n<Thumbnail bind:thumbnailClasses bind:thumbnailStyle bind:protect on:click={toggle}>\n    {#if thumbnail || gallery}\n        <slot name=\"thumbnail\"/>\n    {:else}\n        <slot/>\n    {/if}\n</Thumbnail>\n\n{#if visible}\n    <Modal bind:modalClasses bind:modalStyle bind:transitionDuration bind:image bind:protect\n           bind:portrait bind:title bind:description bind:gallery bind:activeImage\n           on:close={toggle} on:topModalClick={toggle} on:modalClick={toggle}>\n        {#if thumbnail}\n            <slot name=\"image\"/>\n        {:else if gallery}\n            <InternalGallery bind:activeImage>\n                <slot name=\"thumbnail\"/>\n                <slot>\n                </slot>\n            </InternalGallery>\n        {:else}\n            <slot/>\n        {/if}\n    </Modal>\n{/if}\n","export function clean($$props, extra_keys) {\n  let keys = [\"children\", \"$$scope\", \"$$slots\"].concat(extra_keys)\n  const rest = {};\n  for (const key of Object.keys($$props)) {\n    if (!(keys.includes(key))) {\n      rest[key] = $$props[key];\n    }\n  }\n  return rest;\n}\n\nexport function getOriginalBodyPadding() {\n  const style = window ? window.getComputedStyle(document.body, null) : {};\n\n  return parseInt((style && style.getPropertyValue('padding-right')) || 0, 10);\n}\n\nexport function getScrollbarWidth() {\n  let scrollDiv = document.createElement('div');\n  // .modal-scrollbar-measure styles // https://github.com/twbs/bootstrap/blob/v4.0.0-alpha.4/scss/_modal.scss#L106-L113\n  scrollDiv.style.position = 'absolute';\n  scrollDiv.style.top = '-9999px';\n  scrollDiv.style.width = '50px';\n  scrollDiv.style.height = '50px';\n  scrollDiv.style.overflow = 'scroll';\n  document.body.appendChild(scrollDiv);\n  const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n  document.body.removeChild(scrollDiv);\n  return scrollbarWidth;\n}\n\nexport function setScrollbarWidth(padding) {\n  document.body.style.paddingRight = padding > 0 ? `${padding}px` : null;\n}\n\nexport function isBodyOverflowing() {\n  return window ? document.body.clientWidth < window.innerWidth : false;\n}\n\nexport function isObject(value) {\n  const type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport function conditionallyUpdateScrollbar() {\n  const scrollbarWidth = getScrollbarWidth();\n  // https://github.com/twbs/bootstrap/blob/v4.0.0-alpha.6/js/src/modal.js#L433\n  const fixedContent = document.querySelectorAll(\n    '.fixed-top, .fixed-bottom, .is-fixed, .sticky-top'\n  )[0];\n  const bodyPadding = fixedContent\n    ? parseInt(fixedContent.style.paddingRight || 0, 10)\n    : 0;\n\n  if (isBodyOverflowing()) {\n    setScrollbarWidth(bodyPadding + scrollbarWidth);\n  }\n}\n\nexport function getColumnSizeClass(isXs, colWidth, colSize) {\n  if (colSize === true || colSize === '') {\n    return isXs ? 'col' : `col-${colWidth}`;\n  } else if (colSize === 'auto') {\n    return isXs ? 'col-auto' : `col-${colWidth}-auto`;\n  }\n\n  return isXs ? `col-${colSize}` : `col-${colWidth}-${colSize}`;\n}\n\nexport function browserEvent(target, ...args) {\n  target.addEventListener(...args);\n\n  return () => target.removeEventListener(...args);\n}\n\nexport function getNewCarouselActiveIndex(direction, items, activeIndex) {\n  if (direction === 'prev') {\n    return activeIndex === 0 ? items.length - 1 : activeIndex - 1;\n  } else if (direction === 'next') {\n    return activeIndex === items.length - 1 ? 0 : activeIndex + 1;\n  }\n}\n\nfunction toVal(mix) {\n  var k, y, str = '';\n  if (mix) {\n    if (typeof mix === 'object') {\n      if (Array.isArray(mix)) {\n        for (k = 0; k < mix.length; k++) {\n          if (mix[k] && (y = toVal(mix[k]))) {\n            str && (str += ' ');\n            str += y;\n          }\n        }\n      } else {\n        for (k in mix) {\n          if (mix[k] && (y = toVal(k))) {\n            str && (str += ' ');\n            str += y;\n          }\n        }\n      }\n    } else if (typeof mix !== 'boolean' && !mix.call) {\n      str && (str += ' ');\n      str += mix;\n    }\n  }\n  return str;\n}\n\nexport function clsx() {\n  let i = 0, x, str = '';\n  while (i < arguments.length) {\n    if (x = toVal(arguments[i++])) {\n      str && (str += ' ');\n      str += x\n    }\n  }\n  return str;\n}\n\nexport function fragment(node) {\n  node.parentElement.appendChild(document.adoptNode(node).content);\n}\n\nimport {bubble, listen} from 'svelte/internal';\n\nexport function forwardEventsBuilder(component, additionalEvents = []) {\n  const events = [\n    'focus', 'blur', 'change', 'input', 'update','submit',\n    'fullscreenchange', 'fullscreenerror', 'scroll',\n    'cut', 'copy', 'paste',\n    'keydown', 'keypress', 'keyup',\n    'auxclick', 'click', 'contextmenu', 'dblclick', 'mousedown', 'mouseenter', 'mouseleave', 'mousemove', 'mouseover', 'mouseout', 'mouseup', 'pointerlockchange', 'pointerlockerror', 'select', 'wheel',\n    'drag', 'dragend', 'dragenter', 'dragstart', 'dragleave', 'dragover', 'drop',\n    'touchcancel', 'touchend', 'touchmove', 'touchstart',\n    'pointerover', 'pointerenter', 'pointerdown', 'pointermove', 'pointerup', 'pointercancel', 'pointerout', 'pointerleave', 'gotpointercapture', 'lostpointercapture',\n    ...additionalEvents\n  ];\n\n  function forward(e) {\n    bubble(component, e);\n  }\n\n  return node => {\n    const destructors = [];\n\n    for (let i = 0; i < events.length; i++) {\n      destructors.push(listen(node, events[i], forward));\n    }\n\n    return {\n      destroy: () => {\n        for (let i = 0; i < destructors.length; i++) {\n          destructors[i]();\n        }\n      }\n    }\n  };\n}\n\nexport const getColorClass = color => {\n  const colorArray = color.split(' ');\n  const specialColors = [\n    'danger',\n    'warning',\n    'success',\n    'info',\n    'default',\n    'primary',\n    'secondary',\n    'elegant',\n    'stylish',\n    'unique',\n    'special'\n  ];\n  let colorClasses = '';\n\n  colorArray.forEach(color => {\n    if (specialColors.includes(color)) {\n      if (color.includes('dark')) {\n        color.replace('-', '-color-');\n        colorClasses += `${color} `;\n      } else {\n        colorClasses += `${color}-color`;\n      }\n    } else {\n      colorClasses += `${color} `;\n    }\n  });\n\n  return colorClasses;\n};\n","<script>\n\n  import {clean, clsx ,forwardEventsBuilder} from './utils';\n  import {current_component} from 'svelte/internal';\n  const forwardEvents = forwardEventsBuilder(current_component);\nlet className = '';\n  export {className as class};\n  export let active = false;\n  export let block = false;\n  export let children = undefined;\n  export let close = false;\n  export let color;\n  export let disabled = false;\n  export let type = \"button\";\n  export let href = '';\n  export let outline = false;\n  export let size = '';\n  export let style = '';\n  export let value = '';\n  export let gradient;\n  let domElement;\n  export let rounded;\n\n  if(rounded){\n    style=\"border-radius: 10em\"+style\n  }\n\n  if (!color) {\n    href ? color = \"primary\" : color = 'default';\n  }\n\n  const props = clean($$props, [\"color\", \"gradient\", \"value\", \"style\", \"size\"]);\n\n\n  $: ariaLabel = $$props['aria-label'];\n\n  $: classes = clsx(\n    className,\n    {close},\n    close || 'btn waves-effect waves-light',\n    gradient ? `${gradient}-gradient` : close || `btn${outline ? '-outline' : ''}-${color}`,\n    size ? `btn-${size}` : false,\n    block ? 'btn-block' : false,\n    {active},\n  );\n\n  $: defaultAriaLabel = close ? 'Close' : null;\n</script>\n\n{#if href}\n  <a\n    use:forwardEvents {...props}\n    class={classes}\n    {disabled}\n    {href}\n    aria-label={ariaLabel || defaultAriaLabel}\n    {style}>\n    {#if children}\n      {children}\n    {:else}\n      <slot/>\n    {/if}\n  </a>\n{:else}\n  <button\n    use:forwardEvents {...props}\n    type={type}\n    class={classes}\n    {disabled}\n    {value}\n    aria-label={ariaLabel || defaultAriaLabel}\n    {style}\n    bind:this={domElement}\n  >\n    <slot>\n      {#if close}\n        <span aria-hidden=\"true\">×</span>\n      {:else if children}\n        {children}\n      {:else}\n        <slot/>\n      {/if}\n    </slot>\n  </button>\n{/if}\n","<script>\n  import {clean, clsx ,forwardEventsBuilder} from './utils';\n  import {current_component} from 'svelte/internal';\n  const forwardEvents = forwardEventsBuilder(current_component);\nlet className = '';\n  const props = clean($$props, []);\n  export let size;\n  export let vertical;\n\n  let elementClasses = [vertical ? \"btn-group-vertical\" : \"btn-group\"];\n\n  if (className) {\n    elementClasses.push(className)\n  }\n\n  if (size) {\n    elementClasses.push(`btn-group-${size}`)\n  }\n\n</script>\n\n<div use:forwardEvents {...props} role=\"group\" class={elementClasses.join(' ')}>\n  <slot/>\n</div>\n","<script context=\"module\">\n  let openCount = 0;\n</script>\n<script>\n  import {onDestroy, onMount, afterUpdate} from 'svelte';\n  import {fade as fadeTransition, fly as flyTransition} from 'svelte/transition';\n\n  import {\n    conditionallyUpdateScrollbar,\n    getOriginalBodyPadding,\n    setScrollbarWidth,\n    clean, browserEvent, clsx, forwardEventsBuilder\n  } from './utils';\n\n  import {current_component} from 'svelte/internal';\n\n  const forwardEvents = forwardEventsBuilder(current_component);\n\n  let className = '';\n  export {className as class};\n  export let isOpen;\n  export let autoFocus = true;\n  export let centered = false;\n  export let duration = 500;\n  export let backdropDuration = duration;\n  export let scrollable = false;\n  export let size = '';\n  export let toggle = undefined;\n  export let labelledBy = '';\n  export let backdrop = true;\n  export let onEnter = undefined;\n  export let onExit = undefined;\n  export let onOpened = () => {\n  };\n  export let onClosed = () => {\n  };\n  export let wrapClassName = '';\n  export let modalClassName = '';\n  export let backdropClassName = '';\n  export let contentClassName = '';\n  export let fade = true;\n  export let zIndex = 1050;\n  export let unmountOnClose = true;\n  export let returnFocusAfterClose = true;\n  export let displacementX = 0;\n  export let displacementY = -300;\n  export let side;\n  export let position = '';\n  export let fullHeight;\n  export let frame;\n  const props = clean($$props, [\"isOpen\", \"autoFocus\", \"centered\", \"duration\", \"backdropDuration\", \"scrollable\",\n    \"size\", \"toggle\", \"labelledBy\", \"toggle\", \"onEnter\", \"onExit\", \"onOpened\", \"onClosed\", \"wrapClassName\",\n    \"modalClassName\", \"backdropClassName\", \"contentClassName\", \"fade\", \"zIndex\", \"unmountOnClose\",\n    \"returnFocusAfterClose\", \"side\", \"position\", \"frame\", \"backdrop\"]);\n\n  let hasOpened = false;\n  let _isMounted = false;\n  let _triggeringElement;\n  let _originalBodyPadding;\n  let _lastIsOpen = isOpen;\n  let _lastHasOpened = hasOpened;\n  let _dialog;\n  let _mouseDownElement;\n  let _removeEscListener;\n  let modalClasses;\n\n  onMount(() => {\n    if (isOpen) {\n      init();\n      hasOpened = true;\n    }\n\n    if (typeof onEnter === 'function') {\n      onEnter();\n    }\n\n    if (hasOpened && autoFocus) {\n      setFocus();\n    }\n  });\n\n  onDestroy(() => {\n    if (typeof onExit === 'function') {\n      onExit();\n    }\n\n    destroy();\n    if (hasOpened) {\n      close();\n    }\n  });\n\n  afterUpdate(() => {\n    if (isOpen && !_lastIsOpen) {\n      init();\n      hasOpened = true;\n    }\n\n    if (autoFocus && hasOpened && !_lastHasOpened) {\n      setFocus();\n    }\n\n    _lastIsOpen = isOpen;\n    _lastHasOpened = hasOpened;\n  });\n\n  function setFocus() {\n    if (\n      _dialog &&\n      _dialog.parentNode &&\n      typeof _dialog.parentNode.focus === 'function'\n    ) {\n      _dialog.parentNode.focus();\n    }\n  }\n\n  function init() {\n    try {\n      _triggeringElement = document.activeElement;\n    } catch (err) {\n      _triggeringElement = null;\n    }\n\n    _originalBodyPadding = getOriginalBodyPadding();\n    conditionallyUpdateScrollbar();\n    if (openCount === 0) {\n      document.body.className = clsx(document.body.className, 'modal-open');\n    }\n\n    ++openCount;\n    _isMounted = true;\n  }\n\n  function manageFocusAfterClose() {\n    if (_triggeringElement) {\n      if (\n        typeof _triggeringElement.focus === 'function' &&\n        returnFocusAfterClose\n      ) {\n        _triggeringElement.focus();\n      }\n\n      _triggeringElement = null;\n    }\n  }\n\n  function destroy() {\n    manageFocusAfterClose();\n  }\n\n  function close() {\n    if (openCount <= 1) {\n      const modalOpenClassName = 'modal-open';\n      const modalOpenClassNameRegex = new RegExp(\n        `(^| )${modalOpenClassName}( |$)`\n      );\n      document.body.className = document.body.className\n        .replace(modalOpenClassNameRegex, ' ')\n        .trim();\n    }\n\n    manageFocusAfterClose();\n    openCount = Math.max(0, openCount - 1);\n\n    setScrollbarWidth(_originalBodyPadding);\n  }\n\n  function handleBackdropClick(e) {\n    if (e.target === _mouseDownElement) {\n      e.stopPropagation();\n      if (!isOpen || !backdrop) {\n        return;\n      }\n\n      const backdropElem = _dialog ? _dialog.parentNode : null;\n      if (backdropElem && e.target === backdropElem && toggle) {\n        toggle(e);\n      }\n    }\n  }\n\n  function onModalOpened() {\n    _removeEscListener = browserEvent(document, 'keydown', event => {\n      if (event.key && event.key === 'Escape') {\n        toggle(event);\n      }\n    });\n\n    onOpened();\n  }\n\n  function onModalClosed() {\n    onClosed();\n\n    if (_removeEscListener) {\n      _removeEscListener();\n    }\n\n    if (unmountOnClose) {\n      destroy();\n    }\n    close();\n    if (_isMounted) {\n      hasOpened = false;\n    }\n    _isMounted = false;\n  }\n\n  function handleBackdropMouseDown(e) {\n    _mouseDownElement = e.target;\n  }\n\n  const dialogBaseClass = 'modal-dialog';\n\n  $: classes = clsx(dialogBaseClass, className,\n    {\n      [`modal-${size}`]: size,\n      [`${dialogBaseClass}-centered`]: centered,\n      [`${dialogBaseClass}-scrollable`]: scrollable,\n      'modal-side': side,\n      'modal-full-height': fullHeight,\n      'modal-frame': frame,\n      [`modal-${position}`]: position\n    });\n\n  if (position.indexOf(\"right\") !== -1) {\n    displacementX = 300;\n    if (fullHeight) displacementY = 0\n  }\n\n  if (position.indexOf(\"left\") !== -1) {\n    displacementX = -300;\n    if (fullHeight) displacementY = 0\n  }\n\n\n  if (position.indexOf(\"top\") !== -1) {\n    displacementY = -300;\n    if (fullHeight) displacementX = 0\n  }\n\n  if (position.indexOf(\"bottom\") !== -1) {\n    displacementY = 300;\n    if (fullHeight) displacementX = 0\n  }\n\n  modalClasses = clsx('modal', 'show', modalClassName);\n\n</script>\n\n{#if _isMounted && isOpen}\n  <div\n    transition:flyTransition={{ x: displacementX,y:displacementY, duration: fade && duration }}\n    ariaLabelledby={labelledBy}\n    class={modalClasses}\n    role=\"dialog\"\n    style=\"display: block;\"\n    on:introend={onModalOpened}\n    on:outroend={onModalClosed}\n    on:click={handleBackdropClick}\n    on:mousedown={handleBackdropMouseDown}>\n    <div class={classes} role=\"document\" bind:this={_dialog}>\n      <div class={clsx('modal-content', contentClassName)}>\n        <slot name=\"external\"/>\n        <slot/>\n      </div>\n    </div>\n  </div>\n  <div\n    transition:fadeTransition={{ duration: fade && backdropDuration }}\n    class={clsx({'modal-backdrop': backdrop}, 'show', backdropClassName)}/>\n{/if}\n","<script>\n  import { clean,clsx,forwardEventsBuilder } from './utils';\n  import {current_component} from 'svelte/internal';\n  const forwardEvents = forwardEventsBuilder(current_component);\n\n  let className = '';\n  export { className as class };\n\n  const props = clean($$props);\n\n  $: classes = clsx(className, 'modal-body');\n</script>\n\n<div use:forwardEvents {...props} class={classes}>\n  <slot />\n</div>\n","<script>\n  import {clean, clsx, forwardEventsBuilder} from './utils';\n  import {current_component} from 'svelte/internal';\n\n  const forwardEvents = forwardEventsBuilder(current_component);\n\n  let className = '';\n  export {className as class};\n  export let toggle = undefined;\n  export let closeAriaLabel = 'Close';\n  export let charCode = 215;\n  export let children = undefined;\n\n  const props = clean($$props);\n\n  $: closeIcon =\n    typeof charCode === 'number' ? String.fromCharCode(charCode) : charCode;\n\n  $: classes = clsx(className, 'modal-header');\n</script>\n\n<div use:forwardEvents {...props} class={classes}>\n  <h5 class=\"modal-title\">\n    {#if children}\n      {children}\n    {:else}\n      <slot/>\n    {/if}\n  </h5>\n  <slot name=\"close\">\n    {#if typeof toggle === 'function'}\n      <button\n        type=\"button\"\n        on:click={toggle}\n        class=\"close\"\n        aria-label={closeAriaLabel}>\n        <span aria-hidden=\"true\">{closeIcon}</span>\n      </button>\n    {/if}\n  </slot>\n</div>\n","<script>\n  import {clean, clsx, forwardEventsBuilder} from './utils';\n  import {current_component} from 'svelte/internal';\n  const forwardEvents = forwardEventsBuilder(current_component);\n\n  let className = '';\n  export {className as class};\n\n  const props = clean($$props);\n\n  $: classes = clsx(className, 'modal-footer');\n</script>\n\n<div use:forwardEvents {...props} class={classes}>\n  <slot/>\n</div>\n","<script lang=\"ts\">\n  interface ConfirmParams {\n    message?:         string\n    colorOkayButton?: string\n    labelOkayButton?: string\n    onOkay?:          (event: CustomEvent) => void\n    onCancel?:        (event: CustomEvent) => void\n  }\n\n  import MDBBtn         from 'mdbsvelte/src/MDBBtn.svelte'\n  import MDBModal       from 'mdbsvelte/src/MDBModal.svelte'\n  import MDBModalBody   from 'mdbsvelte/src/MDBModalBody.svelte'\n  import MDBModalHeader from 'mdbsvelte/src/MDBModalHeader.svelte'\n  import MDBModalFooter from 'mdbsvelte/src/MDBModalFooter.svelte'\n\n  let message:         string\n  let onOkay:          (event: CustomEvent) => void\n  let onCancel:        (event: CustomEvent) => void\n  let colorOkayButton: string\n  let labelOkayButton: string\n\n  let isOpen = false;\n\n  export const confirm = (params: ConfirmParams) => {\n    return new Promise((resolve, reject) => {\n      message         = params.message         || ''\n      colorOkayButton = params.colorOkayButton || 'primary'\n      labelOkayButton = params.labelOkayButton || 'OK'\n\n      onOkay   = (event: CustomEvent) => {\n        (params.onOkay   || (() => {}))(event)\n        resolve(true)\n      }\n      onCancel = (event: CustomEvent) => {\n        (params.onCancel || (() => {}))(event)\n        reject('cancel')\n      }\n\n      isOpen = true\n    })\n  }\n\n  function toggle() {\n    isOpen = !isOpen\n  }\n\n  function _onCancel(event: CustomEvent) {\n    isOpen = false\n    onCancel(event as CustomEvent)\n  }\n\n  function _onOkay(event: CustomEvent) {\n    isOpen = false\n    onOkay(event as CustomEvent)\n  }\n</script>\n\n<MDBModal isOpen={isOpen} toggle={toggle}>\n  <MDBModalHeader toggle={toggle}>確認</MDBModalHeader>\n  <MDBModalBody>\n    {message}\n  </MDBModalBody>\n  <MDBModalFooter>\n    <MDBBtn color={colorOkayButton} on:click={_onOkay}>{labelOkayButton}</MDBBtn>\n    <MDBBtn color=\"primary\" outline on:click={_onCancel}>Cancel</MDBBtn>\n  </MDBModalFooter>\n</MDBModal>\n","import {writable} from 'svelte/store'\n\nexport const charmManager = writable(null)\n","export const zenkaku2hankaku = (str) => str.replace(/[Ａ-Ｚａ-ｚ０-９]/g, s => String.fromCharCode(s.charCodeAt(0) - 0xFEE0));\nexport const hankaku2zenkaku = (str) => str.replace(/[A-Za-z0-9]/g, s => String.fromCharCode(s.charCodeAt(0) + 0xFEE0));\n","<script lang=\"ts\">\n  import MDBBtn                             from 'mdbsvelte/src/MDBBtn.svelte'\n  import MDBBtnGroup                        from 'mdbsvelte/src/MDBBtnGroup.svelte'\n  import ConfirmModal                       from '../components/parts/ConfirmModal.svelte'\n  import type {Charm, CharmEntry}           from 'assets/mhrise/mhrise-charm'\n  import {charmManager}                     from 'stores/stores.js'\n  import {zenkaku2hankaku, hankaku2zenkaku} from 'string-util'\n\n\n  // TYPES\n  const IMPORT_MODE = {\n    APPEND:    'append',\n    OVERWRITE: 'overwrite',\n  } as const\n  type IMPORT_MODE = typeof IMPORT_MODE[keyof typeof IMPORT_MODE]\n\n  // VARIABLES\n  let textareaValue: string = ''\n  let confirm: (params: any) => Promise<any>\n\n  // FUNCTIONS\n  async function importCharms({mode}) {\n    if ( textareaValue.trim().length <= 0 ) {\n      console.log('blank!!')\n      return\n    }\n\n    if ( mode !== IMPORT_MODE.APPEND && mode !== IMPORT_MODE.OVERWRITE ) {\n      console.log('internal error')\n      return\n    }\n\n    const result = await confirm({\n      message:         mode === IMPORT_MODE.OVERWRITE\n                                ? '護石を上書きインポートします。\\n既存の護石は削除され、元に戻すことはできません。よろしいですか？'\n                                : '護石を追加インポートします。',\n      colorOkayButton: mode === IMPORT_MODE.OVERWRITE ? 'danger' : 'primary',\n    })\n    console.log(result)\n\n    if ( mode === IMPORT_MODE.OVERWRITE ) {\n      await $charmManager.reset()\n    }\n\n    // console.log($charmManager.charms)\n\n    const charms: Charm[] = textareaValue.trim().split('\\n').map(line => {\n      const [s1, sl1, s2, sl2, slot1, slot2, slot3] = line.split(/,\\s*/)\n\n      return {\n        skills:      [s1, s2].map(i => i === '' ? '無し' : zenkaku2hankaku(i)),\n        skillLevels: [sl1, sl2].map(i => parseInt(i)),\n        slots:       [slot1, slot2, slot3].map(i => parseInt(i)),\n      } as Charm\n    })\n    console.log(charms)\n\n    $charmManager.registerCharms(charms)\n  }\n\n  async function exportCharms() {\n    // console.log($charmManager.charmTableName)\n\n    textareaValue = $charmManager.charms.map((row: CharmEntry) => {\n      const {skill1, skill1Level, skill2, skill2Level, slot1, slot2, slot3} = row\n      return [\n        hankaku2zenkaku(skill1 === '無し' ? '' : skill1), skill1Level,\n        hankaku2zenkaku(skill2 === '無し' ? '' : skill2), skill2Level,\n        slot1, slot2, slot3,\n      ].join(',')\n    }).join('\\n')\n\n    // $charmManager.exportIdx()\n  }\n\n</script>\n\n\n<div class=\"tab-content\">\n  <div id=\"charm-ixporter\">\n    <textarea id=\"input\" bind:value={textareaValue}></textarea>\n\n    <MDBBtnGroup class=\"shadow-0\">\n      {#each [\n        {label: 'エクスポート',     isDisabled: () => $charmManager == null, onClick: exportCharms},\n        {label: '追加インポート',   isDisabled: () => $charmManager == null || textareaValue.trim().length === 0, onClick: () => importCharms({mode: IMPORT_MODE.APPEND})},\n        {label: '上書きインポート', isDisabled: () => $charmManager == null || textareaValue.trim().length === 0, onClick: () => importCharms({mode: IMPORT_MODE.OVERWRITE})} ] as p}\n      <MDBBtn color=\"primary\"\n              class=\"shadow-0 mx-1 px-0\"\n              style=\"width: 8rem;\"\n              disabled={p.isDisabled()}\n              on:click={p.onClick}>\n        {p.label}\n      </MDBBtn>\n      {/each}\n    </MDBBtnGroup>\n\n    <!-- <MDBModal isOpen={isConfirmModalOpen} toggle={toggleConfirmModal}> -->\n    <!--   <MDBModalHeader toggle={toggleConfirmModal}>確認</MDBModalHeader> -->\n    <!--   <MDBModalBody> -->\n    <!--     {#if importMode === IMPORT_MODE.OVERWRITE} -->\n    <!--       上書きインポートを実行すると既存の護石は削除されます。<br> -->\n    <!--       <span class=\"font-weight-bold\"> 一度上書きすると元には戻せません。</span><br> -->\n    <!--     {:else if importMode === IMPORT_MODE.APPEND} -->\n    <!--       追加インポートでは既存の護石は保持されます。<br> -->\n    <!--     {/if} -->\n    <!--     <br> -->\n    <!--     インポートを実行しますか？<br> -->\n    <!--   </MDBModalBody> -->\n    <!--   <MDBModalFooter> -->\n    <!--     <MDBBtn color=\"danger\" on:click={toggleConfirmModal}>Import</MDBBtn> -->\n    <!--     <MDBBtn color=\"primary\" outline on:click={toggleConfirmModal}>Cancel</MDBBtn> -->\n    <!--   </MDBModalFooter> -->\n    <!-- </MDBModal> -->\n\n    <ConfirmModal bind:confirm>\n    </ConfirmModal>\n  </div>\n</div>\n\n\n<style>\n  .tab-content {\n    margin:     0;\n    padding:    0;\n    height:     100%;\n    overflow:   auto; /* width 100% でスクロールさせる用 */\n  }\n\n  .tab-content > #charm-ixporter {\n    margin:     1rem auto;\n    padding:    0;\n\n    width:      95%;\n  }\n\n  /* .tab-content > #charm-ixporter > h2 { */\n  /*   margin-top:  1rem; */\n\n  /*   font-size:   1rem; */\n  /*   font-weight: bold; */\n  /*   text-align:  left; */\n  /* } */\n\n  .tab-content > #charm-ixporter > textarea {\n    margin:      0 auto;\n    width:       100%;\n\n    height:      20rem;\n    font-size:   small;\n    font-family: monospace;\n\n    border:      solid 1px #ddd;\n    overflow:    auto;\n  }\n</style>\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",f=\"month\",h=\"quarter\",c=\"year\",d=\"date\",$=\"Invalid Date\",l=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\")},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},g={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,f),s=n-i<0,u=e.clone().add(r+(s?-1:1),f);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:f,y:c,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:h}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},v=\"en\",D={};D[v]=M;var p=function(t){return t instanceof _},S=function t(e,n,r){var i;if(!e)return v;if(\"string\"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split(\"-\");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(v=i),i||!r&&v},w=function(t,e){if(p(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},O=g;O.l=S,O.i=p,O.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=S(t.locale,null,!0),this.parse(t)}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(O.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match(l);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return O},m.isValid=function(){return!(this.$d.toString()===$)},m.isSame=function(t,e){var n=w(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return w(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<w(t)},m.$g=function(t,e,n){return O.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!O.u(e)||e,h=O.p(t),$=function(t,e){var i=O.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},l=function(t,e){return O.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,g=\"set\"+(this.$u?\"UTC\":\"\");switch(h){case c:return r?$(1,0):$(31,11);case f:return r?$(1,M):$(0,M+1);case o:var v=this.$locale().weekStart||0,D=(y<v?y+7:y)-v;return $(r?m-D:m+(6-D),M);case a:case d:return l(g+\"Hours\",0);case u:return l(g+\"Minutes\",1);case s:return l(g+\"Seconds\",2);case i:return l(g+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=O.p(t),h=\"set\"+(this.$u?\"UTC\":\"\"),$=(n={},n[a]=h+\"Date\",n[d]=h+\"Date\",n[f]=h+\"Month\",n[c]=h+\"FullYear\",n[u]=h+\"Hours\",n[s]=h+\"Minutes\",n[i]=h+\"Seconds\",n[r]=h+\"Milliseconds\",n)[o],l=o===a?this.$D+(e-this.$W):e;if(o===f||o===c){var y=this.clone().set(d,1);y.$d[$](l),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else $&&this.$d[$](l);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[O.p(t)]()},m.add=function(r,h){var d,$=this;r=Number(r);var l=O.p(h),y=function(t){var e=w($);return O.w(e.date(e.date()+Math.round(t*r)),$)};if(l===f)return this.set(f,this.$M+r);if(l===c)return this.set(c,this.$y+r);if(l===a)return y(1);if(l===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[l]||1,m=this.$d.getTime()+r*M;return O.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||$;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=O.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,f=n.months,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].substr(0,s)},c=function(t){return O.s(s%12||12,t,\"0\")},d=n.meridiem||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:O.s(a+1,2,\"0\"),MMM:h(n.monthsShort,a,f,3),MMMM:h(f,a),D:this.$D,DD:O.s(this.$D,2,\"0\"),d:String(this.$W),dd:h(n.weekdaysMin,this.$W,o,2),ddd:h(n.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:O.s(s,2,\"0\"),h:c(1),hh:c(2),a:d(s,u,!0),A:d(s,u,!1),m:String(u),mm:O.s(u,2,\"0\"),s:String(this.$s),ss:O.s(this.$s,2,\"0\"),SSS:O.s(this.$ms,3,\"0\"),Z:i};return r.replace(y,(function(t,e){return e||l[t]||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,$){var l,y=O.p(d),M=w(r),m=(M.utcOffset()-this.utcOffset())*e,g=this-M,v=O.m(this,M);return v=(l={},l[c]=v/12,l[f]=v,l[h]=v/3,l[o]=(g-m)/6048e5,l[a]=(g-m)/864e5,l[u]=g/n,l[s]=g/e,l[i]=g/t,l)[y]||g,$?v:O.a(v)},m.daysInMonth=function(){return this.endOf(f).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=S(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return O.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),b=_.prototype;return w.prototype=b,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",f],[\"$y\",c],[\"$D\",d]].forEach((function(t){b[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),w.extend=function(t,e){return t.$i||(t(e,_,w),t.$i=!0),w},w.locale=S,w.isDayjs=p,w.unix=function(t){return w(1e3*t)},w.en=D[v],w.Ls=D,w.p={},w}));","import { writable } from '../store/index.mjs';\nimport { now, loop, assign } from '../internal/index.mjs';\nimport { linear } from '../easing/index.mjs';\n\nfunction is_date(obj) {\n    return Object.prototype.toString.call(obj) === '[object Date]';\n}\n\nfunction tick_spring(ctx, last_value, current_value, target_value) {\n    if (typeof current_value === 'number' || is_date(current_value)) {\n        // @ts-ignore\n        const delta = target_value - current_value;\n        // @ts-ignore\n        const velocity = (current_value - last_value) / (ctx.dt || 1 / 60); // guard div by 0\n        const spring = ctx.opts.stiffness * delta;\n        const damper = ctx.opts.damping * velocity;\n        const acceleration = (spring - damper) * ctx.inv_mass;\n        const d = (velocity + acceleration) * ctx.dt;\n        if (Math.abs(d) < ctx.opts.precision && Math.abs(delta) < ctx.opts.precision) {\n            return target_value; // settled\n        }\n        else {\n            ctx.settled = false; // signal loop to keep ticking\n            // @ts-ignore\n            return is_date(current_value) ?\n                new Date(current_value.getTime() + d) : current_value + d;\n        }\n    }\n    else if (Array.isArray(current_value)) {\n        // @ts-ignore\n        return current_value.map((_, i) => tick_spring(ctx, last_value[i], current_value[i], target_value[i]));\n    }\n    else if (typeof current_value === 'object') {\n        const next_value = {};\n        for (const k in current_value) {\n            // @ts-ignore\n            next_value[k] = tick_spring(ctx, last_value[k], current_value[k], target_value[k]);\n        }\n        // @ts-ignore\n        return next_value;\n    }\n    else {\n        throw new Error(`Cannot spring ${typeof current_value} values`);\n    }\n}\nfunction spring(value, opts = {}) {\n    const store = writable(value);\n    const { stiffness = 0.15, damping = 0.8, precision = 0.01 } = opts;\n    let last_time;\n    let task;\n    let current_token;\n    let last_value = value;\n    let target_value = value;\n    let inv_mass = 1;\n    let inv_mass_recovery_rate = 0;\n    let cancel_task = false;\n    function set(new_value, opts = {}) {\n        target_value = new_value;\n        const token = current_token = {};\n        if (value == null || opts.hard || (spring.stiffness >= 1 && spring.damping >= 1)) {\n            cancel_task = true; // cancel any running animation\n            last_time = now();\n            last_value = new_value;\n            store.set(value = target_value);\n            return Promise.resolve();\n        }\n        else if (opts.soft) {\n            const rate = opts.soft === true ? .5 : +opts.soft;\n            inv_mass_recovery_rate = 1 / (rate * 60);\n            inv_mass = 0; // infinite mass, unaffected by spring forces\n        }\n        if (!task) {\n            last_time = now();\n            cancel_task = false;\n            task = loop(now => {\n                if (cancel_task) {\n                    cancel_task = false;\n                    task = null;\n                    return false;\n                }\n                inv_mass = Math.min(inv_mass + inv_mass_recovery_rate, 1);\n                const ctx = {\n                    inv_mass,\n                    opts: spring,\n                    settled: true,\n                    dt: (now - last_time) * 60 / 1000\n                };\n                const next_value = tick_spring(ctx, last_value, value, target_value);\n                last_time = now;\n                last_value = value;\n                store.set(value = next_value);\n                if (ctx.settled) {\n                    task = null;\n                }\n                return !ctx.settled;\n            });\n        }\n        return new Promise(fulfil => {\n            task.promise.then(() => {\n                if (token === current_token)\n                    fulfil();\n            });\n        });\n    }\n    const spring = {\n        set,\n        update: (fn, opts) => set(fn(target_value, value), opts),\n        subscribe: store.subscribe,\n        stiffness,\n        damping,\n        precision\n    };\n    return spring;\n}\n\nfunction get_interpolator(a, b) {\n    if (a === b || a !== a)\n        return () => a;\n    const type = typeof a;\n    if (type !== typeof b || Array.isArray(a) !== Array.isArray(b)) {\n        throw new Error('Cannot interpolate values of different type');\n    }\n    if (Array.isArray(a)) {\n        const arr = b.map((bi, i) => {\n            return get_interpolator(a[i], bi);\n        });\n        return t => arr.map(fn => fn(t));\n    }\n    if (type === 'object') {\n        if (!a || !b)\n            throw new Error('Object cannot be null');\n        if (is_date(a) && is_date(b)) {\n            a = a.getTime();\n            b = b.getTime();\n            const delta = b - a;\n            return t => new Date(a + t * delta);\n        }\n        const keys = Object.keys(b);\n        const interpolators = {};\n        keys.forEach(key => {\n            interpolators[key] = get_interpolator(a[key], b[key]);\n        });\n        return t => {\n            const result = {};\n            keys.forEach(key => {\n                result[key] = interpolators[key](t);\n            });\n            return result;\n        };\n    }\n    if (type === 'number') {\n        const delta = b - a;\n        return t => a + t * delta;\n    }\n    throw new Error(`Cannot interpolate ${type} values`);\n}\nfunction tweened(value, defaults = {}) {\n    const store = writable(value);\n    let task;\n    let target_value = value;\n    function set(new_value, opts) {\n        if (value == null) {\n            store.set(value = new_value);\n            return Promise.resolve();\n        }\n        target_value = new_value;\n        let previous_task = task;\n        let started = false;\n        let { delay = 0, duration = 400, easing = linear, interpolate = get_interpolator } = assign(assign({}, defaults), opts);\n        if (duration === 0) {\n            if (previous_task) {\n                previous_task.abort();\n                previous_task = null;\n            }\n            store.set(value = target_value);\n            return Promise.resolve();\n        }\n        const start = now() + delay;\n        let fn;\n        task = loop(now => {\n            if (now < start)\n                return true;\n            if (!started) {\n                fn = interpolate(value, new_value);\n                if (typeof duration === 'function')\n                    duration = duration(value, new_value);\n                started = true;\n            }\n            if (previous_task) {\n                previous_task.abort();\n                previous_task = null;\n            }\n            const elapsed = now - start;\n            if (elapsed > duration) {\n                store.set(value = new_value);\n                return false;\n            }\n            // @ts-ignore\n            store.set(value = fn(easing(elapsed / duration)));\n            return true;\n        });\n        return task.promise;\n    }\n    return {\n        set,\n        update: (fn, opts) => set(fn(target_value, value), opts),\n        subscribe: store.subscribe\n    };\n}\n\nexport { spring, tweened };\n","<script>\n\n  // range slider props\n  export let range = false;\n  export let min = 0;\n  export let max = 100;\n  export let step = 1;\n  export let values = [(max + min) / 2];\n  export let vertical = false;\n  export let reversed = false;\n  export let hoverable = true;\n  export let disabled = false;\n\n  // range pips / values props\n  export let pipstep = undefined;\n  export let all = true;\n  export let first = undefined;\n  export let last = undefined;\n  export let rest = undefined;\n\n  // formatting props\n  export let prefix = \"\";\n  export let suffix = \"\";\n  export let formatter = (v,i) => v;\n\n  // stylistic props\n  export let focus = undefined;\n  export let orientationStart = undefined;\n\n  // methods\n  export let percentOf = undefined;\n  export let moveHandle = undefined;\n  export let fixFloat = undefined;\n\n  $: pipStep = pipstep || ((max - min) / step >= ( vertical ? 50 : 100 ) ? (max - min) / ( vertical ? 10 : 20 ) : 1);\n\n  $: pipCount = parseInt((max - min) / (step * pipStep), 10);\n\n  $: pipVal = function(val) {\n    return fixFloat( min + val * step * pipStep );\n  };\n\n  $: isSelected = function(val) {\n    return values.some(v => fixFloat(v) === fixFloat(val));\n  };\n\n  $: inRange = function(val) {\n    if (range === \"min\") {\n      return values[0] > val;\n    } else if (range === \"max\") {\n      return values[0] < val;\n    } else if (range) {\n      return values[0] < val && values[1] > val;\n    }\n  };\n\n  function labelClick(val) {\n    if ( !disabled ) {\n      moveHandle( undefined, val );\n    }\n  }\n</script>\n\n<style>\n  :global(.rangeSlider) {\n    --pip: var(--range-pip, lightslategray);\n    --pip-text: var(--range-pip-text, var(--pip));\n    --pip-active: var(--range-pip-active, darkslategrey);\n    --pip-active-text: var(--range-pip-active-text, var(--pip-active));\n    --pip-hover: var(--range-pip-hover, darkslategrey);\n    --pip-hover-text: var(--range-pip-hover-text, var(--pip-hover));\n    --pip-in-range: var(--range-pip-in-range, var(--pip-active));\n    --pip-in-range-text: var(--range-pip-in-range-text, var(--pip-active-text));\n  }\n  :global(.rangePips) {\n    position: absolute;\n    height: 1em;\n    left: 0;\n    right: 0;\n    bottom: -1em;\n  }\n  :global(.rangePips.vertical) {\n    height: auto;\n    width: 1em;\n    left: 100%;\n    right: auto;\n    top: 0;\n    bottom: 0;\n  }\n  :global(.rangePips .pip) {\n    height: 0.4em;\n    position: absolute;\n    top: 0.25em;\n    width: 1px;\n    white-space: nowrap;\n  }\n  :global(.rangePips.vertical .pip) {\n    height: 1px;\n    width: 0.4em;\n    left: 0.25em;\n    top: auto;\n    bottom: auto;\n  }\n  :global(.rangePips .pipVal) {\n    position: absolute;\n    top: 0.4em;\n    transform: translate(-50%, 25%);\n  }\n  :global(.rangePips.vertical .pipVal) {\n    position: absolute;\n    top: 0;\n    left: 0.4em;\n    transform: translate(25%, -50%);\n  }\n  :global(.rangePips .pip) {\n    transition: all 0.15s ease;\n  }\n  :global(.rangePips .pipVal) {\n    transition: all 0.15s ease, font-weight 0s linear;\n  }\n  :global(.rangePips .pip) {\n    color: lightslategray;\n    color: var(--pip-text);\n    background-color: lightslategray;\n    background-color: var(--pip);\n  }\n  :global(.rangePips .pip.selected) {\n    color: darkslategrey;\n    color: var(--pip-active-text);\n    background-color: darkslategrey;\n    background-color: var(--pip-active);\n  }\n  :global(.rangePips.hoverable:not(.disabled) .pip:hover) {\n    color: darkslategrey;\n    color: var(--pip-hover-text);\n    background-color: darkslategrey;\n    background-color: var(--pip-hover);\n  }\n  :global(.rangePips .pip.in-range) {\n    color: darkslategrey;\n    color: var(--pip-in-range-text);\n    background-color: darkslategrey;\n    background-color: var(--pip-in-range);\n  }\n  :global(.rangePips .pip.selected) {\n    height: 0.75em;\n  }\n  :global(.rangePips.vertical .pip.selected) {\n    height: 1px;\n    width: 0.75em;\n  }\n  :global(.rangePips .pip.selected .pipVal) {\n    font-weight: bold;\n    top: 0.75em;\n  }\n  :global(.rangePips.vertical .pip.selected .pipVal) {\n    top: 0;\n    left: 0.75em;\n  }\n  :global(.rangePips.hoverable:not(.disabled) .pip:not(.selected):hover) {\n    transition: none;\n  }\n  :global(.rangePips.hoverable:not(.disabled) .pip:not(.selected):hover .pipVal) {\n    transition: none;\n    font-weight: bold;\n  }\n</style>\n\n<div \n  class=\"rangePips\" \n  class:disabled\n  class:hoverable \n  class:vertical \n  class:reversed \n  class:focus \n>\n  {#if ( all && first !== false ) || first }\n    <span\n      class=\"pip first\"\n      class:selected={isSelected(min)}\n      class:in-range={inRange(min)}\n      style=\"{orientationStart}: 0%;\"\n      on:click={labelClick(min)}\n      on:touchend|preventDefault={labelClick(min)}\n    >\n      {#if all === 'label' || first === 'label'}\n        <span class=\"pipVal\">\n          {#if prefix}<span class=\"pipVal-prefix\">{prefix}</span>{/if}{formatter(fixFloat(min),0,0)}{#if suffix}<span class=\"pipVal-suffix\">{suffix}</span>{/if}\n        </span>\n      {/if}\n    </span>\n  {/if}\n\n  {#if ( all && rest !== false ) || rest}\n    {#each Array(pipCount + 1) as _, i}\n      {#if pipVal(i) !== min && pipVal(i) !== max}\n        <span\n          class=\"pip\"\n          class:selected={isSelected(pipVal(i))}\n          class:in-range={inRange(pipVal(i))}\n          style=\"{orientationStart}: {percentOf(pipVal(i))}%;\"\n          on:click={labelClick(pipVal(i))}\n          on:touchend|preventDefault={labelClick(pipVal(i))}\n        >\n          {#if all === 'label' || rest === 'label'}\n            <span class=\"pipVal\">\n              {#if prefix}<span class=\"pipVal-prefix\">{prefix}</span>{/if}{formatter(pipVal(i),i,percentOf(pipVal(i)))}{#if suffix}<span class=\"pipVal-suffix\">{suffix}</span>{/if}\n            </span>\n          {/if}\n        </span>\n      {/if}\n    {/each}\n  {/if}\n\n  {#if ( all && last !== false ) || last}\n    <span\n      class=\"pip last\"\n      class:selected={isSelected(max)}\n      class:in-range={inRange(max)}\n      style=\"{orientationStart}: 100%;\"\n      on:click={labelClick(max)}\n      on:touchend|preventDefault={labelClick(max)}\n    >\n      {#if all === 'label' || last === 'label'}\n        <span class=\"pipVal\">\n          {#if prefix}<span class=\"pipVal-prefix\">{prefix}</span>{/if}{formatter(fixFloat(max),pipCount,100)}{#if suffix}<span class=\"pipVal-suffix\">{suffix}</span>{/if}\n        </span>\n      {/if}\n    </span>\n  {/if}\n  \n</div>\n","<script>\n  import { spring } from \"svelte/motion\";\n  import { createEventDispatcher } from \"svelte\";\n  import RangePips from \"./RangePips.svelte\";\n\n  // dom references\n  export let slider = undefined;\n\n  // range slider props\n  export let range = false;\n  export let pushy = false;\n  export let min = 0;\n  export let max = 100;\n  export let step = 1;\n  export let values = [(max + min) / 2];\n  export let vertical = false;\n  export let float = false;\n  export let reversed = false;\n  export let hoverable = true;\n  export let disabled = false;\n\n  // range pips / values props\n  export let pips = false;\n  export let pipstep = undefined;\n  export let all = undefined;\n  export let first = undefined;\n  export let last = undefined;\n  export let rest = undefined;\n\n  // formatting props\n  export let id = undefined;\n  export let prefix = \"\";\n  export let suffix = \"\";\n  export let formatter = (v,i,p) => v;\n  export let handleFormatter = formatter;\n\n  // stylistic props\n  export let precision = 2;\n  export let springValues = { stiffness: 0.15, damping: 0.4 };\n\n  // prepare dispatched events\n  const dispatch = createEventDispatcher();\n\n  // state management\n  let valueLength = 0;\n  let focus = false;\n  let handleActivated = false;\n  let handlePressed = false;\n  let keyboardActive = false;\n  let activeHandle = values.length - 1;\n  let startValue;\n  let previousValue;\n\n  // copy the initial values in to a spring function which\n  // will update every time the values array is modified\n\n  let springPositions;\n\n  const fixFloat = (v) => parseFloat(v.toFixed(precision));\n\n  $: {\n\n    // check that \"values\" is an array, or set it as array\n    // to prevent any errors in springs, or range trimming\n    if ( !Array.isArray( values ) ) {\n      values = [(max + min) / 2];\n      console.error( \"'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)\" );\n    }\n    // trim the range so it remains as a min/max (only 2 handles)\n    // and also align the handles to the steps\n    values = trimRange(values.map((v) => alignValueToStep(v)));\n\n    // check if the valueLength (length of values[]) has changed,\n    // because if so we need to re-seed the spring function with the\n    // new values array.\n    if ( valueLength !== values.length ) {\n      // set the initial spring values when the slider initialises,\n      // or when values array length has changed\n      springPositions = spring(values.map((v) => percentOf(v)), springValues );\n    } else {\n      // update the value of the spring function for animated handles\n      // whenever the values has updated\n      springPositions.set(values.map((v) => percentOf(v)));\n    }\n    // set the valueLength for the next check\n    valueLength = values.length;\n  };\n\n  /**\n   * take in a value, and then calculate that value's percentage\n   * of the overall range (min-max);\n   * @param {number} val the value we're getting percent for\n   * @return {number} the percentage value\n   **/\n  $: percentOf = function (val) {\n    let perc = ((val - min) / (max - min)) * 100;\n    if (isNaN(perc) || perc <= 0) {\n      return 0;\n    } else if (perc >= 100) {\n      return 100;\n    } else {\n      return fixFloat(perc);\n    }\n  };\n\n  /**\n   * clamp a value from the range so that it always\n   * falls within the min/max values\n   * @param {number} val the value to clamp\n   * @return {number} the value after it's been clamped\n   **/\n  $: clampValue = function (val) {\n    // return the min/max if outside of that range\n    return val <= min ? min : val >= max ? max : val;\n  };\n\n  /**\n   * align the value with the steps so that it\n   * always sits on the closest (above/below) step\n   * @param {number} val the value to align\n   * @return {number} the value after it's been aligned\n   **/\n  $: alignValueToStep = function (val) {\n    // sanity check for performance\n    if (val <= min) {\n      return fixFloat(min);\n    } else if (val >= max) {\n      return fixFloat(max);\n    }\n    // find the middle-point between steps\n    // and see if the value is closer to the\n    // next step, or previous step\n    let remainder = (val - min) % step;\n    let aligned = val - remainder;\n    if (Math.abs(remainder) * 2 >= step) {\n      aligned += remainder > 0 ? step : -step;\n    }\n    // make sure the value is within acceptable limits\n    aligned = clampValue(aligned);\n    // make sure the returned value is set to the precision desired\n    // this is also because javascript often returns weird floats\n    // when dealing with odd numbers and percentages\n    return fixFloat(aligned);\n  };\n\n  /**\n   * the orientation of the handles/pips based on the\n   * input values of vertical and reversed\n   **/\n  $: orientationStart = vertical ? reversed ? 'top' : 'bottom' : reversed ? 'right' : 'left';\n  $: orientationEnd = vertical ? reversed ? 'bottom' : 'top' : reversed ? 'left' : 'right';\n\n  /**\n   * helper func to get the index of an element in it's DOM container\n   * @param {object} el dom object reference we want the index of\n   * @returns {number} the index of the input element\n   **/\n  function index(el) {\n    if (!el) return -1;\n    var i = 0;\n    while ((el = el.previousElementSibling)) {\n      i++;\n    }\n    return i;\n  }\n\n  /**\n   * normalise a mouse or touch event to return the\n   * client (x/y) object for that event\n   * @param {event} e a mouse/touch event to normalise\n   * @returns {object} normalised event client object (x,y)\n   **/\n  function normalisedClient(e) {\n    if (e.type.includes(\"touch\")) {\n      return e.touches[0];\n    } else {\n      return e;\n    }\n  }\n\n  /**\n   * check if an element is a handle on the slider\n   * @param {object} el dom object reference we want to check\n   * @returns {boolean}\n   **/\n  function targetIsHandle(el) {\n    const handles = slider.querySelectorAll(\".handle\");\n    const isHandle = Array.prototype.includes.call(handles, el);\n    const isChild = Array.prototype.some.call(handles, (e) => e.contains(el));\n    return isHandle || isChild;\n  }\n\n  /**\n   * trim the values array based on whether the property\n   * for 'range' is 'min', 'max', or truthy. This is because we\n   * do not want more than one handle for a min/max range, and we do\n   * not want more than two handles for a true range.\n   * @param {array} values the input values for the rangeSlider\n   * @return {array} the range array for creating a rangeSlider\n   **/\n  function trimRange(values) {\n    if (range === \"min\" || range === \"max\") {\n      return values.slice(0, 1);\n    } else if (range) {\n      return values.slice(0, 2);\n    } else {\n      return values;\n    }\n  }\n\n  /**\n   * helper to return the slider dimensions for finding\n   * the closest handle to user interaction\n   * @return {object} the range slider DOM client rect\n   **/\n  function getSliderDimensions() {\n    return slider.getBoundingClientRect();\n  }\n\n  /**\n   * helper to return closest handle to user interaction\n   * @param {object} clientPos the client{x,y} positions to check against\n   * @return {number} the index of the closest handle to clientPos\n   **/\n  function getClosestHandle(clientPos) {\n    // first make sure we have the latest dimensions\n    // of the slider, as it may have changed size\n    const dims = getSliderDimensions();\n    // calculate the interaction position, percent and value\n    let handlePos = 0;\n    let handlePercent = 0;\n    let handleVal = 0;\n    if (vertical) {\n      handlePos = clientPos.clientY - dims.top;\n      handlePercent = (handlePos / dims.height) * 100;\n      handlePercent = reversed ? handlePercent : 100 - handlePercent;\n    } else {\n      handlePos = clientPos.clientX - dims.left;\n      handlePercent = (handlePos / dims.width) * 100;\n      handlePercent = reversed ? 100 - handlePercent : handlePercent;\n    }\n    handleVal = ((max - min) / 100) * handlePercent + min;\n\n    let closest;\n\n    // if we have a range, and the handles are at the same\n    // position, we want a simple check if the interaction\n    // value is greater than return the second handle\n    if (range === true && values[0] === values[1]) {\n      if (handleVal > values[1]) {\n        return 1;\n      } else {\n        return 0;\n      }\n      // if there are multiple handles, and not a range, then\n      // we sort the handles values, and return the first one closest\n      // to the interaction value\n    } else {\n      closest = values.indexOf(\n        [...values].sort((a, b) => Math.abs(handleVal - a) - Math.abs(handleVal - b))[0]\n      );\n    }\n    return closest;\n  }\n\n  /**\n   * take the interaction position on the slider, convert\n   * it to a value on the range, and then send that value\n   * through to the moveHandle() method to set the active\n   * handle's position\n   * @param {object} clientPos the client{x,y} of the interaction\n   **/\n  function handleInteract(clientPos) {\n    // first make sure we have the latest dimensions\n    // of the slider, as it may have changed size\n    const dims = getSliderDimensions();\n    // calculate the interaction position, percent and value\n    let handlePos = 0;\n    let handlePercent = 0;\n    let handleVal = 0;\n    if (vertical) {\n      handlePos = clientPos.clientY - dims.top;\n      handlePercent = (handlePos / dims.height) * 100;\n      handlePercent = reversed ? handlePercent : 100 - handlePercent;\n    } else {\n      handlePos = clientPos.clientX - dims.left;\n      handlePercent = (handlePos / dims.width) * 100;\n      handlePercent = reversed ? 100 - handlePercent : handlePercent;\n    }\n    handleVal = ((max - min) / 100) * handlePercent + min;\n    // move handle to the value\n    moveHandle(activeHandle, handleVal);\n  }\n\n  /**\n   * move a handle to a specific value, respecting the clamp/align rules\n   * @param {number} index the index of the handle we want to move\n   * @param {number} value the value to move the handle to\n   * @return {number} the value that was moved to (after alignment/clamping)\n   **/\n  function moveHandle(index, value) {\n    // align & clamp the value so we're not doing extra\n    // calculation on an out-of-range value down below\n    value = alignValueToStep(value);\n    // use the active handle if handle index is not provided\n    if ( typeof index === 'undefined' ) {\n      index = activeHandle;\n    }\n    // if this is a range slider perform special checks\n    if (range) {\n      // restrict the handles of a range-slider from\n      // going past one-another unless \"pushy\" is true\n      if (index === 0 && value > values[1]) {\n        if (pushy) {\n          values[1] = value;\n        } else {\n          value = values[1];\n        }\n      } else if (index === 1 && value < values[0]) {\n        if (pushy) {\n          values[0] = value;\n        } else {\n          value = values[0];\n        }\n      }\n    }\n\n    // if the value has changed, update it\n    if (values[index] !== value) {\n      values[index] = value;\n    }\n\n    // fire the change event when the handle moves,\n    // and store the previous value for the next time\n    if (previousValue !== value) {\n      eChange();\n      previousValue = value;\n    }\n    return value;\n  }\n\n  /**\n   * helper to find the beginning range value for use with css style\n   * @param {array} values the input values for the rangeSlider\n   * @return {number} the beginning of the range\n   **/\n  function rangeStart(values) {\n    if (range === \"min\") {\n      return 0;\n    } else {\n      return values[0];\n    }\n  }\n\n  /**\n   * helper to find the ending range value for use with css style\n   * @param {array} values the input values for the rangeSlider\n   * @return {number} the end of the range\n   **/\n  function rangeEnd(values) {\n    if (range === \"max\") {\n      return 0;\n    } else if (range === \"min\") {\n      return 100 - values[0];\n    } else {\n      return 100 - values[1];\n    }\n  }\n\n  /**\n   * when the user has unfocussed (blurred) from the\n   * slider, deactivate all handles\n   * @param {event} e the event from browser\n   **/\n  function sliderBlurHandle(e) {\n    if (keyboardActive) {\n      focus = false;\n      handleActivated = false;\n      handlePressed = false;\n    }\n  }\n\n  /**\n   * when the user focusses the handle of a slider\n   * set it to be active\n   * @param {event} e the event from browser\n   **/\n  function sliderFocusHandle(e) {\n    if ( !disabled ) {\n      activeHandle = index(e.target);\n      focus = true;\n    }\n  }\n\n  /**\n   * handle the keyboard accessible features by checking the\n   * input type, and modfier key then moving handle by appropriate amount\n   * @param {event} e the event from browser\n   **/\n  function sliderKeydown(e) {\n    if ( !disabled ) {\n      const handle = index(e.target);\n      let jump = e.ctrlKey || e.metaKey || e.shiftKey ? step * 10 : step;\n      let prevent = false;\n\n      switch (e.key) {\n        case \"PageDown\":\n          jump *= 10;\n        case \"ArrowRight\":\n        case \"ArrowUp\":\n          moveHandle(handle, values[handle] + jump);\n          prevent = true;\n          break;\n        case \"PageUp\":\n          jump *= 10;\n        case \"ArrowLeft\":\n        case \"ArrowDown\":\n          moveHandle(handle, values[handle] - jump);\n          prevent = true;\n          break;\n        case \"Home\":\n          moveHandle(handle, min);\n          prevent = true;\n          break;\n        case \"End\":\n          moveHandle(handle, max);\n          prevent = true;\n          break;\n      }\n      if (prevent) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    }\n  }\n\n  /**\n   * function to run when the user touches\n   * down on the slider element anywhere\n   * @param {event} e the event from browser\n   **/\n  function sliderInteractStart(e) {\n    if ( !disabled ) {\n      const el = e.target;\n      const clientPos = normalisedClient(e);\n      // set the closest handle as active\n      focus = true;\n      handleActivated = true;\n      handlePressed = true;\n      activeHandle = getClosestHandle(clientPos);\n\n      // fire the start event\n      startValue = previousValue = alignValueToStep(values[activeHandle]);\n      eStart();\n\n      // for touch devices we want the handle to instantly\n      // move to the position touched for more responsive feeling\n      if (e.type === \"touchstart\" && !el.matches(\".pipVal\")) {\n        handleInteract(clientPos);\n      }\n    }\n  }\n\n  /**\n   * function to run when the user stops touching\n   * down on the slider element anywhere\n   * @param {event} e the event from browser\n   **/\n  function sliderInteractEnd(e) {\n    // fire the stop event for touch devices\n    if (e.type === \"touchend\") {\n      eStop();\n    }\n    handlePressed = false;\n  }\n\n  /**\n   * unfocus the slider if the user clicked off of\n   * it, somewhere else on the screen\n   * @param {event} e the event from browser\n   **/\n  function bodyInteractStart(e) {\n    keyboardActive = false;\n    if (focus && e.target !== slider && !slider.contains(e.target)) {\n      focus = false;\n    }\n  }\n\n  /**\n   * send the clientX through to handle the interaction\n   * whenever the user moves acros screen while active\n   * @param {event} e the event from browser\n   **/\n  function bodyInteract(e) {\n    if ( !disabled ) {\n      if (handleActivated) {\n        handleInteract(normalisedClient(e));\n      }\n    }\n  }\n\n  /**\n   * if user triggers mouseup on the body while\n   * a handle is active (without moving) then we\n   * trigger an interact event there\n   * @param {event} e the event from browser\n   **/\n  function bodyMouseUp(e) {\n    if ( !disabled ) {\n      const el = e.target;\n      // this only works if a handle is active, which can\n      // only happen if there was sliderInteractStart triggered\n      // on the slider, already\n      if (handleActivated) {\n        if (el === slider || slider.contains(el)) {\n          focus = true;\n          // don't trigger interact if the target is a handle (no need) or\n          // if the target is a label (we want to move to that value from rangePips)\n          if (!targetIsHandle(el) && !el.matches(\".pipVal\")) {\n            handleInteract(normalisedClient(e));\n          }\n        }\n        // fire the stop event for mouse device\n        // when the body is triggered with an active handle\n        eStop();\n      }\n    }\n    handleActivated = false;\n    handlePressed = false;\n  }\n\n  /**\n   * if user triggers touchend on the body then we\n   * defocus the slider completely\n   * @param {event} e the event from browser\n   **/\n  function bodyTouchEnd(e) {\n    handleActivated = false;\n    handlePressed = false;\n  }\n\n  function bodyKeyDown(e) {\n    if ( !disabled ) {\n      if (e.target === slider || slider.contains(e.target)) {\n        keyboardActive = true;\n      }\n    }\n  }\n\n  function eStart() {\n    !disabled && dispatch(\"start\", {\n      activeHandle,\n      value: startValue,\n      values: values.map((v) => alignValueToStep(v)),\n    });\n  }\n\n  function eStop() {\n    !disabled && dispatch(\"stop\", {\n      activeHandle,\n      startValue: startValue,\n      value: values[activeHandle],\n      values: values.map((v) => alignValueToStep(v)),\n    });\n  }\n\n  function eChange() {\n    !disabled && dispatch(\"change\", {\n      activeHandle,\n      startValue: startValue,\n      previousValue:\n        typeof previousValue === \"undefined\" ? startValue : previousValue,\n      value: values[activeHandle],\n      values: values.map((v) => alignValueToStep(v)),\n    });\n  }\n</script>\n\n<style>\n  :global(.rangeSlider) {\n    --slider: var(--range-slider, #d7dada);\n    --handle-inactive: var(--range-handle-inactive, #99a2a2);\n    --handle: var(--range-handle, #838de7);\n    --handle-focus: var(--range-handle-focus, #4a40d4);\n    --handle-border: var(--range-handle-border, var(--handle));\n    --range-inactive: var(--range-range-inactive, var(--handle-inactive));\n    --range: var(--range-range, var(--handle-focus));\n    --float-inactive: var(--range-float-inactive, var(--handle-inactive));\n    --float: var(--range-float, var(--handle-focus));\n    --float-text: var(--range-float-text, white);\n  }\n  :global(.rangeSlider) {\n    position: relative;\n    border-radius: 100px;\n    height: 0.5em;\n    margin: 1em;\n    transition: opacity 0.2s ease;\n    user-select: none;\n  }\n  :global(.rangeSlider *) {\n    user-select: none;\n  }\n  :global(.rangeSlider.pips) {\n    margin-bottom: 1.8em;\n  }\n  :global(.rangeSlider.pip-labels) {\n    margin-bottom: 2.8em;\n  }\n  :global(.rangeSlider.vertical) {\n    display: inline-block;\n    border-radius: 100px;\n    width: 0.5em;\n    min-height: 200px;\n  }\n  :global(.rangeSlider.vertical.pips) {\n    margin-right: 1.8em;\n    margin-bottom: 1em;\n  }\n  :global(.rangeSlider.vertical.pip-labels) {\n    margin-right: 2.8em;\n    margin-bottom: 1em;\n  }\n  :global(.rangeSlider .rangeHandle) {\n    position: absolute;\n    display: block;\n    height: 1.4em;\n    width: 1.4em;\n    top: 0.25em;\n    bottom: auto;\n    transform: translateY(-50%) translateX(-50%);\n    z-index: 2;\n  }\n  :global(.rangeSlider.reversed .rangeHandle) {\n    transform: translateY(-50%) translateX(50%);\n  }\n  :global(.rangeSlider.vertical .rangeHandle) {\n    left: 0.25em;\n    top: auto;\n    transform: translateY(50%) translateX(-50%);\n  }\n  :global(.rangeSlider.vertical.reversed .rangeHandle) {\n    transform: translateY(-50%) translateX(-50%);\n  }\n  :global(.rangeSlider .rangeNub),\n  :global(.rangeSlider .rangeHandle:before) {\n    position: absolute;\n    left: 0;\n    top: 0;\n    display: block;\n    border-radius: 10em;\n    height: 100%;\n    width: 100%;\n    transition: box-shadow 0.2s ease;\n  }\n  :global(.rangeSlider .rangeHandle:before) {\n    content: \"\";\n    left: 1px;\n    top: 1px;\n    bottom: 1px;\n    right: 1px;\n    height: auto;\n    width: auto;\n    box-shadow: 0 0 0 0px var(--handle-border);\n    opacity: 0;\n  }\n  :global(.rangeSlider.hoverable:not(.disabled) .rangeHandle:hover:before) {\n    box-shadow: 0 0 0 8px var(--handle-border);\n    opacity: 0.2;\n  }\n  :global(.rangeSlider.hoverable:not(.disabled) .rangeHandle.press:before),\n  :global(.rangeSlider.hoverable:not(.disabled) .rangeHandle.press:hover:before) {\n    box-shadow: 0 0 0 12px var(--handle-border);\n    opacity: 0.4;\n  }\n  :global(.rangeSlider.range:not(.min):not(.max) .rangeNub) {\n    border-radius: 10em 10em 10em 1.6em;\n  }\n  :global(.rangeSlider.range .rangeHandle:nth-of-type(1) .rangeNub) {\n    transform: rotate(-135deg);\n  }\n  :global(.rangeSlider.range .rangeHandle:nth-of-type(2) .rangeNub) {\n    transform: rotate(45deg);\n  }\n  :global(.rangeSlider.range.reversed .rangeHandle:nth-of-type(1) .rangeNub) {\n    transform: rotate(45deg);\n  }\n  :global(.rangeSlider.range.reversed .rangeHandle:nth-of-type(2) .rangeNub) {\n    transform: rotate(-135deg);\n  }\n  :global(.rangeSlider.range.vertical .rangeHandle:nth-of-type(1) .rangeNub) {\n    transform: rotate(135deg);\n  }\n  :global(.rangeSlider.range.vertical .rangeHandle:nth-of-type(2) .rangeNub) {\n    transform: rotate(-45deg);\n  }\n  :global(.rangeSlider.range.vertical.reversed .rangeHandle:nth-of-type(1) .rangeNub) {\n    transform: rotate(-45deg);\n  }\n  :global(.rangeSlider.range.vertical.reversed .rangeHandle:nth-of-type(2) .rangeNub) {\n    transform: rotate(135deg);\n  }\n  :global(.rangeSlider .rangeFloat) {\n    display: block;\n    position: absolute;\n    left: 50%;\n    top: -0.5em;\n    transform: translate(-50%, -100%);\n    font-size: 1em;\n    text-align: center;\n    opacity: 0;\n    pointer-events: none;\n    white-space: nowrap;\n    transition: all 0.2s ease;\n    font-size: 0.9em;\n    padding: 0.2em 0.4em;\n    border-radius: 0.2em;\n  }\n  :global(.rangeSlider .rangeHandle.active .rangeFloat),\n  :global(.rangeSlider.hoverable .rangeHandle:hover .rangeFloat) {\n    opacity: 1;\n    top: -0.2em;\n    transform: translate(-50%, -100%);\n  }\n  :global(.rangeSlider .rangeBar) {\n    position: absolute;\n    display: block;\n    transition: background 0.2s ease;\n    border-radius: 1em;\n    height: 0.5em;\n    top: 0;\n    user-select: none;\n    z-index: 1;\n  }\n  :global(.rangeSlider.vertical .rangeBar) {\n    width: 0.5em;\n    height: auto;\n  }\n  :global(.rangeSlider) {\n    background-color: #d7dada;\n    background-color: var(--slider);\n  }\n  :global(.rangeSlider .rangeBar) {\n    background-color: #99a2a2;\n    background-color: var(--range-inactive);\n  }\n  :global(.rangeSlider.focus .rangeBar) {\n    background-color: #838de7;\n    background-color: var(--range);\n  }\n  :global(.rangeSlider .rangeNub) {\n    background-color: #99a2a2;\n    background-color: var(--handle-inactive);\n  }\n  :global(.rangeSlider.focus .rangeNub) {\n    background-color: #838de7;\n    background-color: var(--handle);\n  }\n  :global(.rangeSlider .rangeHandle.active .rangeNub) {\n    background-color: #4a40d4;\n    background-color: var(--handle-focus);\n  }\n  :global(.rangeSlider .rangeFloat) {\n    color: white;\n    color: var(--float-text);\n    background-color: #99a2a2;\n    background-color: var(--float-inactive);\n  }\n  :global(.rangeSlider.focus .rangeFloat) {\n    background-color: #4a40d4;\n    background-color: var(--float);\n  }\n  :global(.rangeSlider.disabled) {\n    opacity: 0.5;\n  }\n  :global(.rangeSlider.disabled .rangeNub) {\n    background-color: #d7dada;\n    background-color: var(--slider);\n  }\n</style>\n\n<div\n  {id}\n  bind:this={slider}\n  class=\"rangeSlider\"\n  class:range\n  class:disabled\n  class:hoverable\n  class:vertical\n  class:reversed\n  class:focus\n  class:min={range === 'min'}\n  class:max={range === 'max'}\n  class:pips\n  class:pip-labels={all === 'label' || first === 'label' || last === 'label' || rest === 'label'}\n  on:mousedown={sliderInteractStart}\n  on:mouseup={sliderInteractEnd}\n  on:touchstart|preventDefault={sliderInteractStart}\n  on:touchend|preventDefault={sliderInteractEnd}\n>\n  {#each values as value, index}\n    <span\n      role=\"slider\"\n      class=\"rangeHandle\"\n      class:active={focus && activeHandle === index}\n      class:press={handlePressed && activeHandle === index}\n      data-handle={index}\n      on:blur={sliderBlurHandle}\n      on:focus={sliderFocusHandle}\n      on:keydown={sliderKeydown}\n      style=\"{orientationStart}: {$springPositions[index]}%; z-index: {activeHandle === index ? 3 : 2};\"\n      aria-valuemin={range === true && index === 1 ? values[0] : min}\n      aria-valuemax={range === true && index === 0 ? values[1] : max}\n      aria-valuenow={value}\n      aria-valuetext=\"{prefix}{handleFormatter(value,index,percentOf(value))}{suffix}\"\n      aria-orientation={vertical ? 'vertical' : 'horizontal'}\n      aria-disabled={disabled}\n      {disabled}\n      tabindex=\"{ disabled ? -1 : 0 }\"\n    >\n      <span class=\"rangeNub\" />\n      {#if float}\n        <span class=\"rangeFloat\">\n          {#if prefix}<span class=\"rangeFloat-prefix\">{prefix}</span>{/if}{handleFormatter(value,index,percentOf(value))}{#if suffix}<span class=\"rangeFloat-suffix\">{suffix}</span>{/if}\n        </span>\n      {/if}\n    </span>\n  {/each}\n  {#if range}\n    <span\n      class=\"rangeBar\"\n      style=\"{orientationStart}: {rangeStart($springPositions)}%; \n             {orientationEnd}: {rangeEnd($springPositions)}%;\" />\n  {/if}\n  {#if pips}\n    <RangePips\n      {values}\n      {min}\n      {max}\n      {step}\n      {range}\n      {vertical}\n      {reversed}\n      {orientationStart}\n      {hoverable}\n      {disabled}\n      {all}\n      {first}\n      {last}\n      {rest}\n      {pipstep}\n      {prefix}\n      {suffix}\n      {formatter}\n      {focus}\n      {percentOf}\n      {moveHandle}\n      {fixFloat}\n    />\n  {/if}\n</div>\n\n<svelte:window\n  on:mousedown={bodyInteractStart}\n  on:touchstart={bodyInteractStart}\n  on:mousemove={bodyInteract}\n  on:touchmove={bodyInteract}\n  on:mouseup={bodyMouseUp}\n  on:touchend={bodyTouchEnd}\n  on:keydown={bodyKeyDown} />\n","<script lang=\"ts\">\n  import cv from 'opencv-ts'\n  import dayjs from 'dayjs'\n\n  const videoWidth = 1280\n  const videoHeight = 720\n\n  // export let videoName = 'realtime-capture'\n  export let isVideoVisible = true\n  export let imageProcessor\n\n  let videos = []\n  let audios = []\n  let video\n  let audio\n  let domVideo\n  let videoStream\n  $: {\n    onSelectVideoInput({audio, video})\n  }\n\n  export async function init() {\n    if (navigator.mediaDevices?.getUserMedia == null) { return }\n    navigator.mediaDevices.getUserMedia({audio: true, video: true})\n\n    const devices = await getInputDevices()\n    await new Promise(r => setTimeout(r, 2000))\n    videos = devices.videos\n    audios = devices.audios\n    video = videos.find(i => i.label.includes('USB'))?.deviceId\n    // audio = audios.find(i => i.label.includes('USB Digital Audio'))\n  }\n\n  async function getInputDevices() {\n    const devices = await navigator.mediaDevices.enumerateDevices()\n    return {\n      videos: devices.filter(i => i.kind === 'videoinput'),\n      audios: devices.filter(i => i.kind === 'audioinput'),\n    }\n  }\n\n  async function onSelectVideoInput({audio, video}) {\n    const stream = await getVideoStream({video, audio})\n    if (stream == null) { return }\n    videoStream = stream // show video\n\n    // domVideo.height = 720\n    domVideo.srcObject = videoStream\n    if (domVideo.paused) {\n      domVideo.play()\n      run()\n    }\n  }\n\n  async function getVideoStream({video, audio}) {\n    if ( video == null ) { return }\n\n    const mediaConstraints = {\n      video: {\n        // deviceId: {exact: video},\n        deviceId: video,\n        width: {\n          min: 1280,\n          max: 1280,\n          // ideal: 1920,\n          // max: 2560,\n        },\n        height: {\n          min: 720,\n          max: 720,\n          // ideal: 1080,\n          // max: 1440,\n        },\n      },\n      // audio: {\n      //   // deviceId: {exact: audio},\n      //   deviceId: audio,\n      // },\n    }\n    console.log({mediaConstraints})\n    return await navigator.mediaDevices.getUserMedia(mediaConstraints)\n  }\n\n  async function run() {\n    const capture = new cv.VideoCapture(domVideo)\n    let frame = new cv.Mat(videoHeight, videoWidth, cv.CV_8UC4)\n    while ( true ) {\n      await new Promise(r => requestAnimationFrame(r))\n      await capture.read(frame)\n      await imageProcessor(frame) // TODO: 非同期でも？\n    }\n  }\n</script>\n\n\n<div class=\"camera-reader\">\n  <div>\n    <select bind:value={video}>\n      <option value={null}>なし</option>\n      {#each videos as video}\n        <option value={video.deviceId}>{video.label}</option>\n      {/each}\n    </select>\n    <select bind:value={audio}>\n      <option value={null}>なし</option>\n      {#each audios as audio}\n        <option value={audio.deviceId}>{audio.label}</option>\n      {/each}\n    </select>\n  </div>\n\n  <video bind:this={domVideo}\n         width=\"1280\"\n         height=\"720\"\n         style=\"{isVideoVisible ? '' : 'display: none'}\">\n    <track kind=\"captions\" />\n  </video>\n</div>\n\n\n<style>\n  .camera-reader video {\n    max-width: 100%;\n\n    aspect-ratio: 16 / 9;\n    object-fit: contain;\n\n    background: #ccc;\n  }\n</style>\n","<script>\n  // the list of items  the user can select from\n  export let items = [];\n\n  // function to use to get all items (alternative to providing items)\n  export let searchFunction = false;\n\n  // field of each item that's used for the labels in the list\n  export let labelFieldName = undefined;\n  export let keywordsFieldName = labelFieldName;\n  export let valueFieldName = undefined;\n\n  export let labelFunction = function(item) {\n    if (item === undefined || item === null) {\n      return \"\";\n    }\n    return labelFieldName ? item[labelFieldName] : item;\n  };\n\n  export let keywordsFunction = function(item) {\n    if (item === undefined || item === null) {\n      return \"\";\n    }\n    return keywordsFieldName ? item[keywordsFieldName] : labelFunction(item);\n  };\n\n  export let valueFunction = function(item) {\n    if (item === undefined || item === null) {\n      return item;\n    }\n    return valueFieldName ? item[valueFieldName] : item;\n  };\n\n  export let keywordsCleanFunction = function(keywords) {\n    return keywords;\n  };\n\n  export let textCleanFunction = function(userEnteredText) {\n    return userEnteredText;\n  };\n\n  export let beforeChange = function(oldSelectedItem, newSelectedItem) {\n    return true;\n  };\n  export let onChange = function(newSelectedItem) {};\n\n  // Behaviour properties\n  export let selectFirstIfEmpty = false;\n  export let minCharactersToSearch = 1;\n  export let maxItemsToShowInList = 0;\n\n  // delay to wait after a keypress to search for new items\n  export let delay = 0;\n\n  // true to perform local filtering of items, even if searchFunction is provided\n  export let localFiltering = true;\n\n  // UI properties\n  // text displayed when no items match the input text\n  export let noResultsText = \"No results found\";\n\n  // the text displayed when no option is selected\n  export let placeholder = undefined;\n\n  // apply a className to the control\n  export let className = undefined;\n\n  // HTML input UI properties\n  // apply a className to the input control\n  export let inputClassName = undefined;\n  // apply a id to the input control\n  export let inputId = undefined;\n  // generate an HTML input with this name, containing the current value\n  export let name = undefined;\n  // add the title to the HTML input\n  export let title = undefined;\n  // enable the html5 autocompletion to the HTML input\n  export let html5autocomplete = undefined;\n\n  // apply a className to the dropdown div\n  export let dropdownClassName = undefined;\n\n  // option to hide the dropdown arrow\n  export let hideArrow = false;\n\n  // option to show clear selection button\n  export let showClear = false;\n\n  // adds the disabled tag to the HTML input\n  export let disabled = false;\n\n  export let debug = false;\n\n  // --- Public State ----\n\n  // selected item state\n  export let selectedItem = undefined;\n  export let value = undefined;\n\n  // --- Internal State ----\n  const uniqueId = \"sautocomplete-\" + Math.floor(Math.random() * 1000);\n\n  // HTML elements\n  let input;\n  let list;\n\n  // UI state\n  let opened = false;\n  let highlightIndex = -1;\n  let text;\n  let filteredTextLength = 0;\n\n  // view model\n  let filteredListItems;\n  let listItems = [];\n\n  // other state\n  let inputDelayTimeout;\n\n  // -- Reactivity --\n  function onSelectedItemChanged() {\n    value = valueFunction(selectedItem);\n    text = safeLabelFunction(selectedItem);\n    onChange(selectedItem);\n  }\n\n  $: selectedItem, onSelectedItemChanged();\n\n  $: showList =\n    opened && ((items && items.length > 0) || filteredTextLength > 0);\n\n  // --- Functions ---\n  function safeStringFunction(theFunction, argument) {\n    if (typeof theFunction !== \"function\") {\n      console.error(\n        \"Not a function: \" + theFunction + \", argument: \" + argument\n      );\n    }\n    let originalResult;\n    try {\n      originalResult = theFunction(argument);\n    } catch (error) {\n      console.warn(\n        \"Error executing Autocomplete function on value: \" +\n          argument +\n          \" function: \" +\n          theFunction\n      );\n    }\n    let result = originalResult;\n    if (result === undefined || result === null) {\n      result = \"\";\n    }\n    if (typeof result !== \"string\") {\n      result = result.toString();\n    }\n    return result;\n  }\n\n  function safeLabelFunction(item) {\n    // console.log(\"labelFunction: \" + labelFunction);\n    // console.log(\"safeLabelFunction, item: \" + item);\n    return safeStringFunction(labelFunction, item);\n  }\n\n  function safeKeywordsFunction(item) {\n    // console.log(\"safeKeywordsFunction\");\n    const keywords = safeStringFunction(keywordsFunction, item);\n    let result = safeStringFunction(keywordsCleanFunction, keywords);\n    result = result.toLowerCase().trim();\n    if (debug) {\n      console.log(\n        \"Extracted keywords: '\" +\n          result +\n          \"' from item: \" +\n          JSON.stringify(item)\n      );\n    }\n    return result;\n  }\n\n  function prepareListItems() {\n    let tStart;\n    if (debug) {\n      tStart = performance.now();\n      console.log(\"prepare items to search\");\n      console.log(\"items: \" + JSON.stringify(items));\n    }\n\n    if (!Array.isArray(items)) {\n      console.warn(\n        \"Autocomplete items / search function did not return array but\",\n        items\n      );\n      items = [];\n    }\n\n    const length = items ? items.length : 0;\n    listItems = new Array(length);\n\n    if (length > 0) {\n      items.forEach((item, i) => {\n        const listItem = getListItem(item);\n        if (listItem == undefined) {\n          console.log(\"Undefined item for: \", item);\n        }\n        listItems[i] = listItem;\n      });\n    }\n\n    if (debug) {\n      const tEnd = performance.now();\n      console.log(\n        listItems.length +\n          \" items to search prepared in \" +\n          (tEnd - tStart) +\n          \" milliseconds\"\n      );\n    }\n  }\n\n  function getListItem(item) {\n    return {\n      // keywords representation of the item\n      keywords: safeKeywordsFunction(item),\n      // item label\n      label: safeLabelFunction(item),\n      // store reference to the origial item\n      item: item\n    };\n  }\n\n  $: items, prepareListItems();\n\n  function prepareUserEnteredText(userEnteredText) {\n    if (userEnteredText === undefined || userEnteredText === null) {\n      return \"\";\n    }\n\n    const textFiltered = userEnteredText\n      .replace(/[&/\\\\#,+()$~%.'\":*?<>{}]/g, \" \")\n      .trim();\n\n    filteredTextLength = textFiltered.length;\n\n    if (minCharactersToSearch > 1) {\n      if (filteredTextLength < minCharactersToSearch) {\n        return \"\";\n      }\n    }\n\n    const cleanUserEnteredText = textCleanFunction(textFiltered);\n    const textFilteredLowerCase = cleanUserEnteredText.toLowerCase().trim();\n\n    if (debug) {\n      console.log(\n        \"Change user entered text '\" +\n          userEnteredText +\n          \"' into '\" +\n          textFilteredLowerCase +\n          \"'\"\n      );\n    }\n    return textFilteredLowerCase;\n  }\n\n  async function search() {\n    let tStart;\n    if (debug) {\n      tStart = performance.now();\n      console.log(\"Searching user entered text: '\" + text + \"'\");\n    }\n\n    const textFiltered = prepareUserEnteredText(text);\n\n    if (textFiltered === \"\") {\n      filteredListItems = listItems;\n      closeIfMinCharsToSearchReached();\n      if (debug) {\n        console.log(\n          \"User entered text is empty set the list of items to all items\"\n        );\n      }\n      return;\n    }\n\n    // external search which provides items\n    if (searchFunction) {\n      items = await searchFunction(textFiltered);\n      prepareListItems();\n    }\n\n    // local search\n    let tempfilteredListItems;\n    if (localFiltering) {\n      const searchWords = textFiltered.split(\" \");\n\n      tempfilteredListItems = listItems.filter(listItem => {\n        if (!listItem) {\n          return false;\n        }\n        const itemKeywords = listItem.keywords;\n\n        let matches = 0;\n        searchWords.forEach(searchWord => {\n          if (itemKeywords.includes(searchWord)) {\n            matches++;\n          }\n        });\n\n        return matches >= searchWords.length;\n      });\n    } else {\n      tempfilteredListItems = listItems;\n    }\n\n    const hlfilter = highlightFilter(textFiltered, [\"label\"]);\n    const filteredListItemsHighlighted = tempfilteredListItems.map(hlfilter);\n\n    filteredListItems = filteredListItemsHighlighted;\n    closeIfMinCharsToSearchReached();\n    if (debug) {\n      const tEnd = performance.now();\n      console.log(\n        \"Search took \" +\n          (tEnd - tStart) +\n          \" milliseconds, found \" +\n          filteredListItems.length +\n          \" items\"\n      );\n    }\n  }\n\n  // $: text, search();\n\n  function selectListItem(listItem) {\n    if (debug) {\n      console.log(\"selectListItem\");\n    }\n    if (\"undefined\" === typeof listItem) {\n      if (debug) {\n        console.log(`listItem ${i} is undefined. Can not select.`);\n      }\n      return false;\n    }\n    const newSelectedItem = listItem.item;\n    if (beforeChange(selectedItem, newSelectedItem)) {\n      selectedItem = newSelectedItem;\n    }\n    return true;\n  }\n\n  function selectItem() {\n    if (debug) {\n      console.log(\"selectItem\");\n    }\n    const listItem = filteredListItems[highlightIndex];\n    if (selectListItem(listItem)) {\n      close();\n    }\n  }\n\n  function up() {\n    if (debug) {\n      console.log(\"up\");\n    }\n\n    open();\n    if (highlightIndex > 0) highlightIndex--;\n    highlight();\n  }\n\n  function down() {\n    if (debug) {\n      console.log(\"down\");\n    }\n\n    open();\n    if (highlightIndex < filteredListItems.length - 1) highlightIndex++;\n    highlight();\n  }\n\n  function highlight() {\n    if (debug) {\n      console.log(\"highlight\");\n    }\n\n    const query = \".selected\";\n    if (debug) {\n      console.log(\"Seaching DOM element: \" + query + \" in \" + list);\n    }\n    const el = list && list.querySelector(query);\n    if (el) {\n      if (typeof el.scrollIntoViewIfNeeded === \"function\") {\n        if (debug) {\n          console.log(\"Scrolling selected item into view\");\n        }\n        el.scrollIntoViewIfNeeded();\n      } else {\n        if (debug) {\n          console.warn(\n            \"Could not scroll selected item into view, scrollIntoViewIfNeeded not supported\"\n          );\n        }\n      }\n    } else {\n      if (debug) {\n        console.warn(\"Selected item not found to scroll into view\");\n      }\n    }\n  }\n\n  function onListItemClick(listItem) {\n    if (debug) {\n      console.log(\"onListItemClick\");\n    }\n\n    if (selectListItem(listItem)) {\n      close();\n    }\n  }\n\n  function onDocumentClick(e) {\n    if (debug) {\n      console.log(\"onDocumentClick: \" + JSON.stringify(e.target));\n    }\n    if (e.target.closest(\".\" + uniqueId)) {\n      if (debug) {\n        console.log(\"onDocumentClick inside\");\n      }\n      // resetListToAllItemsAndOpen();\n      highlight();\n    } else {\n      if (debug) {\n        console.log(\"onDocumentClick outside\");\n      }\n      close();\n    }\n  }\n\n  function onKeyDown(e) {\n    if (debug) {\n      console.log(\"onKeyDown\");\n    }\n\n    let key = e.key;\n    if (key === \"Tab\" && e.shiftKey) key = \"ShiftTab\";\n    const fnmap = {\n      Tab: opened ? down.bind(this) : null,\n      ShiftTab: opened ? up.bind(this) : null,\n      ArrowDown: down.bind(this),\n      ArrowUp: up.bind(this),\n      Escape: onEsc.bind(this)\n    };\n    const fn = fnmap[key];\n    if (typeof fn === \"function\") {\n      e.preventDefault();\n      fn(e);\n    }\n  }\n\n  function onKeyPress(e) {\n    if (debug) {\n      console.log(\"onKeyPress\");\n    }\n\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n      selectItem();\n    }\n  }\n\n  function onInput(e) {\n    if (debug) {\n      console.log(\"onInput\");\n    }\n\n    text = e.target.value;\n    if (inputDelayTimeout) {\n      clearTimeout(inputDelayTimeout);\n    }\n\n    if (delay) {\n      inputDelayTimeout = setTimeout(processInput, delay);\n    } else {\n      processInput();\n    }\n  }\n\n  function processInput() {\n    search();\n    highlightIndex = 0;\n    open();\n  }\n\n  function onInputClick() {\n    if (debug) {\n      console.log(\"onInputClick\");\n    }\n    resetListToAllItemsAndOpen();\n  }\n\n  function onEsc(e) {\n    if (debug) {\n      console.log(\"onEsc\");\n    }\n\n    //if (text) return clear();\n    e.stopPropagation();\n    if (opened) {\n      input.focus();\n      close();\n    }\n  }\n\n  function onFocus() {\n    if (debug) {\n      console.log(\"onFocus\");\n    }\n\n    resetListToAllItemsAndOpen();\n  }\n\n  function resetListToAllItemsAndOpen() {\n    if (debug) {\n      console.log(\"resetListToAllItemsAndOpen\");\n    }\n\n    filteredListItems = listItems;\n\n    open();\n\n    // find selected item\n    if (selectedItem) {\n      if (debug) {\n        console.log(\n          \"Searching currently selected item: \" + JSON.stringify(selectedItem)\n        );\n      }\n      for (let i = 0; i < listItems.length; i++) {\n        const listItem = listItems[i];\n        if (\"undefined\" === typeof listItem) {\n          if (debug) {\n            console.log(`listItem ${i} is undefined. Skipping.`);\n          }\n          continue;\n        }\n        if (debug) {\n          console.log(\"Item \" + i + \": \" + JSON.stringify(listItem));\n        }\n        if (selectedItem == listItem.item) {\n          highlightIndex = i;\n          if (debug) {\n            console.log(\n              \"Found selected item: \" + i + \": \" + JSON.stringify(listItem)\n            );\n          }\n          highlight();\n          break;\n        }\n      }\n    }\n  }\n\n  function open() {\n    if (debug) {\n      console.log(\"open\");\n    }\n\n    // check if the search text has more than the min chars required\n    if (isMinCharsToSearchReached()) {\n      return;\n    }\n\n    opened = true;\n  }\n\n  function close() {\n    if (debug) {\n      console.log(\"close\");\n    }\n    opened = false;\n\n    if (!text && selectFirstIfEmpty) {\n      highlightFilter = 0;\n      selectItem();\n    }\n  }\n\n  function isMinCharsToSearchReached() {\n    return (\n      minCharactersToSearch > 1 && filteredTextLength < minCharactersToSearch\n    );\n  }\n\n  function closeIfMinCharsToSearchReached() {\n    if (isMinCharsToSearchReached()) {\n      close();\n    }\n  }\n\n  function clear() {\n    if (debug) {\n      console.log(\"clear\");\n    }\n\n    text = \"\";\n    selectedItem = undefined;\n\n    setTimeout(() => {\n      input.focus();\n      close();\n    });\n  }\n\n  function onBlur() {\n    if (debug) {\n      console.log(\"onBlur\");\n    }\n    close();\n  }\n  // 'item number one'.replace(/(it)(.*)(nu)(.*)(one)/ig, '<b>$1</b>$2 <b>$3</b>$4 <b>$5</b>')\n  function highlightFilter(q, fields) {\n    const qs = \"(\" + q.trim().replace(/\\s/g, \")(.*)(\") + \")\";\n    const reg = new RegExp(qs, \"ig\");\n    let n = 1;\n    const len = qs.split(\")(\").length + 1;\n    let repl = \"\";\n    for (; n < len; n++) repl += n % 2 ? `<b>$${n}</b>` : `$${n}`;\n\n    return i => {\n      const newI = Object.assign({ highlighted: {} }, i);\n      if (fields) {\n        fields.forEach(f => {\n          if (!newI[f]) return;\n          newI.highlighted[f] = newI[f].replace(reg, repl);\n        });\n      }\n      return newI;\n    };\n  }\n</script>\n\n<style>\n  .autocomplete {\n    min-width: 200px;\n    display: inline-block;\n    max-width: 100%;\n    position: relative;\n    vertical-align: top;\n    height: 2.25em;\n  }\n\n  .autocomplete:not(.hide-arrow)::after {\n    border: 3px solid transparent;\n    border-radius: 2px;\n    border-right: 0;\n    border-top: 0;\n    content: \" \";\n    display: block;\n    height: 0.625em;\n    margin-top: -0.4375em;\n    pointer-events: none;\n    position: absolute;\n    top: 50%;\n    -webkit-transform: rotate(-45deg);\n    transform: rotate(-45deg);\n    -webkit-transform-origin: center;\n    transform-origin: center;\n    width: 0.625em;\n    border-color: #3273dc;\n    right: 1.125em;\n    z-index: 4;\n  }\n\n  .autocomplete.show-clear:not(.hide-arrow)::after {\n    right: 2.3em;\n  }\n\n  .autocomplete * {\n    box-sizing: border-box;\n  }\n  .autocomplete-input {\n    font: inherit;\n    width: 100%;\n    height: 100%;\n    padding: 5px 11px;\n  }\n\n  .autocomplete:not(.hide-arrow) .autocomplete-input {\n    padding-right: 2em;\n  }\n  .autocomplete.show-clear:not(.hide-arrow) .autocomplete-input {\n    padding-right: 3.2em;\n  }\n  .autocomplete.hide-arrow.show-clear .autocomplete-input {\n    padding-right: 2em;\n  }\n\n  .autocomplete-list {\n    background: #fff;\n    position: relative;\n    width: 100%;\n    overflow-y: auto;\n    z-index: 99;\n    padding: 10px 0;\n    top: 0px;\n    border: 1px solid #999;\n    max-height: calc(15 * (1rem + 10px) + 15px);\n    user-select: none;\n  }\n  .autocomplete-list:empty {\n    padding: 0;\n  }\n  .autocomplete-list-item {\n    padding: 5px 15px;\n    color: #333;\n    cursor: pointer;\n    line-height: 1;\n  }\n\n  .autocomplete-list-item.selected {\n    background-color: #2e69e2;\n    color: #fff;\n  }\n  .autocomplete-list-item-no-results {\n    padding: 5px 15px;\n    color: #999;\n    line-height: 1;\n  }\n\n  .autocomplete-list.hidden {\n    display: none;\n  }\n\n  .autocomplete.show-clear .autocomplete-clear-button {\n    cursor: pointer;\n    display: block;\n    text-align: center;\n    position: absolute;\n    right: 0.1em;\n    padding: 0.3em 0.6em;\n    top: 50%;\n    -webkit-transform: translateY(-50%);\n    -ms-transform: translateY(-50%);\n    transform: translateY(-50%);\n    z-index: 4;\n  }\n\n  .autocomplete:not(.show-clear) .autocomplete-clear-button {\n    display: none;\n  }\n</style>\n\n<div\n  class=\"{className ? className : ''}\n  {hideArrow ? 'hide-arrow is-multiple' : ''}\n  {showClear ? 'show-clear' : ''} autocomplete select is-fullwidth {uniqueId}\">\n  <input\n    type=\"text\"\n    class=\"{inputClassName ? inputClassName : ''} input autocomplete-input\"\n    id={inputId ? inputId : ''}\n    autocomplete={html5autocomplete ? 'on' : 'off'}\n    {placeholder}\n    {name}\n    {disabled}\n    {title}\n    bind:this={input}\n    bind:value={text}\n    on:input={onInput}\n    on:focus={onFocus}\n    on:keydown={onKeyDown}\n    on:click={onInputClick}\n    on:keypress={onKeyPress} />\n  {#if showClear}\n    <span on:click={clear} class=\"autocomplete-clear-button\">&#10006;</span>\n  {/if}\n  <div\n    class=\"{dropdownClassName ? dropdownClassName : ''} autocomplete-list {showList ? '' : 'hidden'}\n    is-fullwidth\"\n    bind:this={list}>\n    {#if filteredListItems && filteredListItems.length > 0}\n      {#each filteredListItems as listItem, i}\n        {#if listItem && (maxItemsToShowInList <= 0 || i < maxItemsToShowInList)}\n          {#if listItem}\n            <div\n              class=\"autocomplete-list-item {i === highlightIndex ? 'selected' : ''}\"\n              on:click={() => onListItemClick(listItem)}\n              on:pointerenter={() => {\n                highlightIndex = i;\n              }}>\n              <slot\n                name=\"item\"\n                item={listItem.item}\n                label={listItem.highlighted ? listItem.highlighted.label : listItem.label}>\n                {#if listItem.highlighted}\n                  {@html listItem.highlighted.label}\n                {:else}\n                  {@html listItem.label}\n                {/if}\n              </slot>\n            </div>\n          {/if}\n        {/if}\n      {/each}\n\n      {#if maxItemsToShowInList > 0 && filteredListItems.length > maxItemsToShowInList}\n        <div class=\"autocomplete-list-item-no-results\">\n          ...{filteredListItems.length - maxItemsToShowInList} results not shown\n        </div>\n      {/if}\n    {:else if noResultsText}\n      <div class=\"autocomplete-list-item-no-results\">\n        <slot name=\"no-results\" {noResultsText}>{noResultsText}</slot>\n      </div>\n    {/if}\n  </div>\n</div>\n\n<svelte:window on:click={onDocumentClick} />\n","<script lang=\"ts\">\nimport AutoComplete from 'simple-svelte-autocomplete'\n\nexport let inputIdPrefix\nexport let page\nexport let row\nexport let col\n\nconst MAX_PAGE = 30\nconst PAGE_LIST = [...Array(MAX_PAGE + 1).keys()].slice(1) // 補完用リスト\n\nconst MAX_ROW = 5\nconst ROW_LIST = [...Array(MAX_ROW + 1).keys()].slice(1) // 補完用リスト\n\nconst MAX_COL = 8\nconst COL_LIST = [...Array(MAX_COL + 1).keys()].slice(1) // 補完用リスト\n</script>\n\n<div>\n  <AutoComplete items={PAGE_LIST}\n                bind:selectedItem={page}\n                inputId=\"{inputIdPrefix}page\"\n                placeholder=\"ページ\"\n                showClear={false}\n                hideArrow={true}\n                className=\"autocomplete-charm-page\"\n                />\n\n  <AutoComplete items={ROW_LIST}\n                bind:selectedItem={row}\n                inputId=\"{inputIdPrefix}row\"\n                placeholder=\"行\"\n                showClear={false}\n                hideArrow={true}\n                className=\"autocomplete-charm-row\"\n                />\n\n  <AutoComplete items={COL_LIST}\n                bind:selectedItem={col}\n                inputId=\"{inputIdPrefix}col\"\n                placeholder=\"列\"\n                showClear={false}\n                hideArrow={true}\n                className=\"autocomplete-charm-col\"\n                />\n</div>\n\n<style>\n  :global(.autocomplete-charm-page, .autocomplete-charm-row, .autocomplete-charm-col) {\n    width:     6rem;\n    min-width: 6rem !important; /* overwrite */\n  }\n</style>\n\n","// 装備一覧のアイコン配列\nexport const MAX_PAGE = 99;\nexport const COLS_PER_PAGE_IN_EQLIST = 10;\nexport const ROWS_PER_PAGE_IN_EQLIST = 5;\nexport const MAX_PAGE_IN_RINNE = 99;\nexport const COLS_PER_PAGE_IN_RINNE = 8;\nexport const ROWS_PER_PAGE_IN_RINNE = 4;\n// スキル\nexport const MAX_SKILL_LEVEL = 7;\n// 護石\nexport const MAX_RARITY = 10;\nexport const MAX_NUM_SKILLS = 2;\nexport const MAX_NUM_SLOTS = 3;\nexport const MAX_SLOT_LEVEL = 4;\n","<script lang=\"ts\">\nimport AutoComplete from 'simple-svelte-autocomplete'\nimport {MAX_RARITY} from 'assets/mhrise/metadata'\n\nconst RARITY_LIST = [...Array(MAX_RARITY + 1).keys()].slice(1) // 補完用リスト\n\nexport let inputId     = 'input-rarity'\nexport let placeholder = ''\nexport let showClear   = false\nexport let hideArrow   = true\nexport let className   = 'autocomplete-rarity'\n\nexport let value: number | null\n</script>\n\n<div>\n  <AutoComplete items={RARITY_LIST}\n                bind:selectedItem={value}\n                {inputId}\n                {placeholder}\n                {showClear}\n                {hideArrow}\n                {className}\n                />\n</div>\n\n<style>\n  :global(.autocomplete-rarity) {\n    width:     6rem;\n    min-width: 6rem !important; /* overwrite */\n  }\n</style>\n\n","export const allSkillDetails = [\n  // 'あ行のスキル',\n  { name: '合気',               hiragana: 'あいき',                           englishCharacters: 'aiki'                         },\n  { name: 'アイテム使用強化',   hiragana: 'あいてむしようきょうか',           englishCharacters: 'aitemusiyoukyouka'            },\n  { name: '泡沫の舞',           hiragana: 'うたかたのまい',                   englishCharacters: 'utakatanomai'                 },\n  { name: '炎鱗の恩恵',         hiragana: 'えんりんのおんけい',               englishCharacters: 'enrinnoonkei'                 },\n  { name: '鬼火纏',             hiragana: 'おにびまとい',                     englishCharacters: 'onibimatoi'                   },\n  // 'か行のスキル',\n  { name: 'ガード強化',         hiragana: 'がーどきょうか',                   englishCharacters: 'ga-dokyouka'                  },\n  { name: 'ガード性能',         hiragana: 'がーどせいのう',                   englishCharacters: 'ga-doseinou'                  },\n  { name: '会心撃【属性】',     hiragana: 'かいしんげきぞくせい',             englishCharacters: 'kaisingekizokusei'            },\n  { name: '回避距離UP',         hiragana: 'かいひきょりあっぷ',               englishcharacters: 'kaihikyoriappu'               },\n  { name: '回避性能',           hiragana: 'かいひせいのう',                   englishCharacters: 'kaihiseinou'                  },\n  { name: '回復速度',           hiragana: 'かいふくそくど',                   englishCharacters: 'kaihukusokudo'                },\n  { name: '翔蟲使い',           hiragana: 'かけりむしつかい',                 englishCharacters: 'kakerimusitukai'              },\n  { name: '火事場力',           hiragana: 'かじばりょく',                     englishCharacters: 'kajibaryoku'                  },\n  { name: '滑走強化',           hiragana: 'かっそうきょうか',                 englishCharacters: 'kassoukyouka'                 },\n  { name: '霞皮の恩恵',         hiragana: 'かすみがわのおんけい',             englishCharacters: 'kasumigawanoonkei'            },\n  { name: '雷属性攻撃強化',     hiragana: 'かみなりぞくせいこうげききょうか', englishCharacters: 'kaminarizokuseikougekikyouka' },\n  { name: '雷耐性',             hiragana: 'かみなりたいせい',                 englishCharacters: 'kaminaritaisei'               },\n  { name: '貫通弾・貫通矢強化', hiragana: 'かんつうだんかんつうやきょうか',   englishCharacters: 'kantuudankantuuyakyouka'      },\n  { name: '気絶耐性',           hiragana: 'きぜつたいせい',                   englishCharacters: 'kizetutaisei'                 },\n  { name: 'キノコ大好き',       hiragana: 'きのこだいすき',                   englishCharacters: 'kinokodaisuki'                },\n  { name: '逆襲',               hiragana: 'ぎゃくしゅう',                     englishCharacters: 'gyakusyuu'                    },\n  { name: '供応',               hiragana: 'きょうおう',                       englishCharacters: 'kyouou'                       },\n  { name: '強化持続',           hiragana: 'きょうかじぞく',                   englishCharacters: 'kyoukajizoku'                 },\n  { name: '狂竜症【蝕】',       hiragana: 'きょうりゅうしょうしょく',         englishCharacters: 'kyouryuusyousyoku'            },\n  { name: 'KO術',               hiragana: 'けーおーじゅつ',                   englishcharacters: 'ke-o-jutu'                    },\n  { name: '血氣',               hiragana: 'けっき',                           englishcharacters: 'kekki'                        },\n  { name: '激昂',               hiragana: 'げっこう',                         englishcharacters: 'gekkou'                       },\n  { name: '研磨術【鋭】',       hiragana: 'けんまじゅつえい',                 englishcharacters: 'kenmajyutuei'                 },\n  { name: '広域化',             hiragana: 'こういきか',                       englishCharacters: 'kouikika'                     },\n  { name: '幸運',               hiragana: 'こううん',                         englishCharacters: 'kouun'                        },\n  { name: '鋼殻の恩恵',         hiragana: 'こうかくのおんけい',               englishCharacters: 'koukakunoonkei'               },\n  { name: '業鎧【修羅】',       hiragana: 'ごうがいしゅら',                   englishCharacters: 'gougaisyura'                  },\n  { name: '攻撃',               hiragana: 'こうげき',                         englishCharacters: 'kougeki'                      },\n  { name: '剛刃研磨',           hiragana: 'ごうじんけんま',                   englishCharacters: 'goujinkenma'                  },\n  { name: '攻勢',               hiragana: 'こうせい',                         englishCharacters: 'kousei'                       },\n  { name: '高速変形',           hiragana: 'こうそくへんけい',                 englishCharacters: 'kousokuhenkei'                },\n  { name: '氷属性攻撃強化',     hiragana: 'こおりぞくせいきょうか',           englishCharacters: 'koorizokuseikyouka'           },\n  { name: '氷耐性',             hiragana: 'こおりたいせい',                   englishCharacters: 'kooritaisei'                  },\n  { name: '渾身',               hiragana: 'こんしん',                         englishCharacters: 'konsin'                       },\n  // 'さ行のスキル',\n  { name: '災禍転福',           hiragana: 'さいかてんぷく',                   englishCharacters: 'saikatenpuku'                 },\n  { name: '逆恨み',             hiragana: 'さかうらみ',                       englishCharacters: 'sakaurami'                    },\n  { name: '散弾・拡散矢強化',   hiragana: 'さんだんかんつうやきょうか',       englishCharacters: 'sandankantuuyakyouka'         },\n  { name: '死中に活',           hiragana: 'しちゅうにかつ',                   englishCharacters: 'sityuunikatu'                 },\n  { name: '疾之息吹',           hiragana: 'しつのいぶき',                     englishCharacters: 'situnoibuki'                  },\n  { name: '弱点特効',           hiragana: 'じゃくてんとっこう',               englishCharacters: 'jakutentokkou'                },\n  { name: 'ジャンプ鉄人',       hiragana: 'じゃんぷてつじん',                 englishCharacters: 'janputetujin'                 },\n  { name: '集中',               hiragana: 'しゅうちゅう',                     englishCharacters: 'syuutyuu'                     },\n  { name: '植生学',             hiragana: 'しょくせいがく',                   englishCharacters: 'syokuseigaku'                 },\n  { name: '心眼',               hiragana: 'しんがん',                         englishCharacters: 'singan'                       },\n  { name: '刃鱗磨き',           hiragana: 'じんりんみがき',                   englishCharacters: 'jinrinmigaki'                 },\n  { name: '睡眠属性強化',       hiragana: 'すいみんぞくせいきょうか',         englishCharacters: 'suiminzokuseikyouka'          },\n  { name: '睡眠耐性',           hiragana: 'すいみんたいせい',                 englishCharacters: 'suimintaisei'                 },\n  { name: 'スタミナ急速回復',   hiragana: 'すたみなきゅうそくかいふく',       englishCharacters: 'sutaminakyuusokukaihuku'      },\n  { name: 'スタミナ奪取',       hiragana: 'すたみなだっしゅ',                 englishCharacters: 'sutaminadassyu'               },\n  { name: '精霊の加護',         hiragana: 'せいれいのかご',                   englishCharacters: 'seireinokago'                 },\n  { name: '攻めの守勢',         hiragana: 'せめのしゅせい',                   englishCharacters: 'semenosyusei'                 },\n  { name: '装填拡張',           hiragana: 'そうてんかくちょう',               englishCharacters: 'soutenkakutyou'               },\n  { name: '装填速度',           hiragana: 'そうてんそくど',                   englishCharacters: 'soutensokudo'                 },\n  { name: '速射強化',           hiragana: 'そくしゃきょうか',                 englishCharacters: 'sokusyakyouka'                },\n  { name: '属性やられ耐性',     hiragana: 'ぞくせいやられたいせい',           englishCharacters: 'zokuseiyararetaisei'          },\n  // 'た行のスキル',\n  { name: '体術',               hiragana: 'たいじゅつ',                       englishCharacters: 'taijutu'                      },\n  { name: '耐震',               hiragana: 'たいしん',                         englishCharacters: 'taisin'                       },\n  { name: '体力回復量UP',       hiragana: 'たいりょくかいふくりょうあっぷ',   englishcharacters: 'tairyokukaihukuryouappu'      },\n  { name: '匠',                 hiragana: 'たくみ',                           englishCharacters: 'takumi'                       },\n  { name: '達人芸',             hiragana: 'たつじんげい',                     englishCharacters: 'tatujingei'                   },\n  { name: '弾丸節約',           hiragana: 'だんがんせつやく',                 englishCharacters: 'dangansetuyaku'               },\n  { name: '弾導強化',           hiragana: 'だんどうきょうか',                 englishCharacters: 'dandoukyouka'                 },\n  { name: '力の解放',           hiragana: 'ちからのかいほう',                 englishCharacters: 'tikaranokaihou'               },\n  { name: '地質学',             hiragana: 'ちしつがく',                       englishCharacters: 'tisitugaku'                   },\n  { name: 'チャージマスター',   hiragana: 'チャージマスター',                 englishCharacters: 'tya-jimasuta-'                },\n  { name: 'チューンアップ',     hiragana: 'チューンアップ',                   englishCharacters: 'tyu-nnappu'                   },\n  { name: '超会心',             hiragana: 'ちょうかいしん',                   englishCharacters: 'tyoukaisin'                   },\n  { name: '挑戦者',             hiragana: 'ちょうせんしゃ',                   englishCharacters: 'tyousensya'                   },\n  { name: '通常弾・連射矢強化', hiragana: 'つうじょうだんそくしゃやきょうか', englishCharacters: 'tuujoudansokusyayakyouka'     },\n  { name: '泥雪耐性',           hiragana: 'でいせつたいせい',                 englishCharacters: 'deisetutaisei'                },\n  { name: '砥石使用高速化',     hiragana: 'といししようこうそくか',           englishCharacters: 'toisisiyoukousokuka'          },\n  { name: '特殊射撃強化',       hiragana: 'とくしゅしゃげききょうか',         englishCharacters: 'tokusyusyagekikyouka'         },\n  { name: '毒属性強化',         hiragana: 'どくぞくせいきょうか',             englishCharacters: 'dokuzokuseikyouka'            },\n  { name: '毒耐性',             hiragana: 'どくたいせい',                     englishCharacters: 'dokutaisei'                   },\n  { name: '飛び込み',           hiragana: 'とびこみ',                         englishCharacters: 'tobikomi'                     },\n  { name: '鈍器使い',           hiragana: 'どんきつかい',                     englishCharacters: 'donkitukai'                   },\n  // 'な行のスキル',\n  { name: '納刀術',             hiragana: 'のうとうじゅつ',                   englishCharacters: 'noutoujutu'                   },\n  { name: '乗り名人',           hiragana: 'のりめいじん',                     englishCharacters: 'norimeijin'                   },\n  // 'は行のスキル',\n  { name: '破壊王',             hiragana: 'はかいおう',                       englishCharacters: 'hakaiou'                      },\n  { name: '剥ぎ取り鉄人',       hiragana: 'はぎとりてつじん',                 englishCharacters: 'hagitoritetujin'              },\n  { name: '剥ぎ取り名人',       hiragana: 'はぎとりめいじん',                 englishCharacters: 'hagitorimeijin'               },\n  { name: '爆破属性強化',       hiragana: 'ばくはぞくせいきょうか',           englishCharacters: 'bakuhazokuseikyouka'          },\n  { name: '爆破やられ耐性',     hiragana: 'ばくはやられたいせい',             englishCharacters: 'bakuhayararetaisei'           },\n  { name: '抜刀術【力】',       hiragana: 'ばっとうじゅつちから',             englishCharacters: 'battoujututikara'             },\n  { name: '抜刀術【技】',       hiragana: 'ばっとうじゅつわざ',               englishCharacters: 'battoujutuwaza'               },\n  { name: '早食い',             hiragana: 'はやぐい',                         englishCharacters: 'hayagui'                      },\n  { name: '腹減り耐性',         hiragana: 'はらへりたいせい',                 englishCharacters: 'haraheritaisei'               },\n  { name: '反動軽減',           hiragana: 'はんどうけいげん',                 englishCharacters: 'handoukeigen'                 },\n  { name: '火属性攻撃強化',     hiragana: 'ひぞくせいこうげききょうか',       englishCharacters: 'hizokuseikougekikyouka'       },\n  { name: '火耐性',             hiragana: 'ひたいせい',                       englishCharacters: 'hitaisei'                     },\n  { name: 'ひるみ軽減',         hiragana: 'ひるみけいげん',                   englishCharacters: 'hirumikeigen'                 },\n  { name: '風圧耐性',           hiragana: 'ふうあつたいせい',                 englishCharacters: 'huuatutaisei'                 },\n  { name: '風紋の一致',         hiragana: 'ふうもんのいっち',                 englishCharacters: 'huumonnoitti'                 },\n  { name: '笛吹き名人',         hiragana: 'ふえふきめいじん',                 englishCharacters: 'huehukimeijin'                },\n  { name: '不屈',               hiragana: 'ふくつ',                           englishCharacters: 'hukutu'                       },\n  { name: '伏魔響命',           hiragana: 'ふくまきょうめい',                 englishCharacters: 'hukumakyoumei'                },\n  { name: 'フルチャージ',       hiragana: 'ふるちゃーじ',                     englishCharacters: 'hurutya-ji'                   },\n  { name: 'ブレ抑制',           hiragana: 'ぶれよくせい',                     englishCharacters: 'bureyokusei'                  },\n  { name: '壁面移動',           hiragana: 'へきめんいどう',                   englishCharacters: 'hekimenidou'                  },\n  { name: '壁面移動【翔】',     hiragana: 'へきめんいどうしょう',             englishCharacters: 'hekimenidousyou'              },\n  { name: '防御',               hiragana: 'ぼうぎょ',                         englishCharacters: 'bougyo'                       },\n  { name: '砲術',               hiragana: 'ほうじゅつ',                       englishCharacters: 'houjutu'                      },\n  { name: '砲弾装填',           hiragana: 'ほうだんそうてん',                 englishCharacters: 'houdansouten'                 },\n  { name: '捕獲名人',           hiragana: 'ほかくめいじん',                   englishCharacters: 'hokakumeijin'                 },\n  { name: 'ボマー',             hiragana: 'ぼまー',                           englishCharacters: 'boma-'                        },\n  // 'ま行のスキル',\n  { name: '麻痺属性強化',       hiragana: 'まひぞくせいきょうか',             englishCharacters: 'mahizokuseikyouka'            },\n  { name: '麻痺耐性',           hiragana: 'まひたいせい',                     englishCharacters: 'mahitaisei'                   },\n  { name: '満足感',             hiragana: 'まんぞくかん',                     englishCharacters: 'manzokukan'                   },\n  { name: '見切り',             hiragana: 'みきり',                           englishCharacters: 'mikiri'                       },\n  { name: '水属性攻撃強化',     hiragana: 'みずぞくせいこうげききょうか',     englishCharacters: 'mizuzokuseikougekikyouka'     },\n  { name: '水耐性',             hiragana: 'みずたいせい',                     englishCharacters: 'mizutaisei'                   },\n  { name: '耳栓',               hiragana: 'みみせん',                         englishCharacters: 'mimisen'                      },\n  // 'や行のスキル',\n  { name: '弓溜め段階解放',     hiragana: 'ゆみためだんかいかいほう',         englishCharacters: 'yumitamedankaikaihou'         },\n  { name: '陽動',               hiragana: 'ようどう',                         englishCharacters: 'youdou'                       },\n  // 'ら行のスキル',\n  { name: '雷紋の一致',         hiragana: 'らいもんのいっち',                 englishCharacters: 'raimonnoitti'                 },\n  { name: 'ランナー',           hiragana: 'らんなー',                         englishCharacters: 'ranna-'                       },\n  { name: '龍属性攻撃強化',     hiragana: 'りゅうぞくせいこうげききょうか',   englishCharacters: 'ryuuzokuseikougekikyouka'     },\n  { name: '龍耐性',             hiragana: 'りゅうたいせい',                   englishCharacters: 'ryuutaisei'                   },\n  { name: '連撃',               hiragana: 'れんげき',                         englishCharacters: 'rengeki'                      },\n  // 'わ行のスキル',\n  { name: '業物',               hiragana: 'わざもの',                         englishCharacters: 'wazamono'                     },\n\n  // added in v15 charm farming\n  { name: '龍気活性',           hiragana: 'りゅうきかっせい',                   englishCharacters: 'ryuukikassei'                },\n  { name: '根性',               hiragana: 'こんじょう',                         englishCharacters: 'konjyou'                     },\n  { name: '巧撃',               hiragana: 'こうげき',                           englishCharacters: 'kougeki'                     },\n  { name: '闇討ち',             hiragana: 'やみうち',                           englishCharacters: 'yamiuti'                     },\n  { name: '弱点特効【属性】',   hiragana: 'じゃくてんとっこうぞくせい',         englishCharacters: 'jakutentokkouzokusei'        },\n  { name: '顕如盤石',           hiragana: 'けんにょばんじゃく',                 englishCharacters: 'kennyobanjaku'               },\n  { name: '状態異常確定蓄積',   hiragana: 'じょうたいいじょうかくていちくせき', englishCharacters: 'jyoutaiijyoukakuteitikuseki' },\n  { name: '煽衛',               hiragana: 'せんえい',                           englishCharacters: 'sennei'                      },\n  { name: '剛心',               hiragana: 'ごうしん',                           englishCharacters: 'gousin'                      },\n  { name: '蓄積時攻撃強化',     hiragana: 'ちくせきじこうげききょうか',         englishCharacters: 'tikusekijikougekikyouka'     },\n  { name: '狂化',               hiragana: 'きょうか',                           englishCharacters: 'kyouka'                      },\n  { name: '奮闘',               hiragana: 'ふんとう',                           englishCharacters: 'huntou'                      },\n  { name: '風纏',               hiragana: 'かぜまとい',                         englishCharacters: 'kazematoi'                   },\n  { name: '粉塵纏',             hiragana: 'ふんじんまとい',                     englishCharacters: 'hunjinmatoi'                 },\n  { name: '龍気変換',           hiragana: 'りゅうきかっせい',                   englishCharacters: 'ryuukihenkan'                },\n  { name: '冰気錬成',           hiragana: 'ひょうきれんせい',                   englishCharacters: 'hyoukirensei'                },\n]\n\n\n\nexport const getAllSkillNames = () => allSkillDetails.map(i => i.name)\n","<script lang=\"ts\">\nimport AutoComplete      from 'simple-svelte-autocomplete'\nimport {allSkillDetails} from 'assets/mhrise/mhrise-skills.js'\n\nexport let inputId     = 'input-skill'\nexport let placeholder = 'スキル'\nexport let showClear   = true\nexport let hideArrow   = true\nexport let className   = 'autocomplete-skill'\n\nexport let value // スキル名 (親コンポーネントと共有)\nlet _value       // 補完用メタデータを含めたオブジェクト (AutoComplete コンポーネントと共有)\n\n// value と _value を互いに自動更新する\n// ベタ書きすると cyclical dependency エラーになるので関数にして分析を回避\n$: _updateValue(value)  // 初期値は親からの値を優先するので value → _value を先に書く\n$: updateValue(_value)\n\nfunction _updateValue(value) {\n  _value = allSkillDetails.find(i => i.name === value)\n}\n\nfunction updateValue(_value) {\n  value = _value?.name\n}\n</script>\n\n<AutoComplete items={allSkillDetails}\n              bind:selectedItem={_value}\n              inputId={inputId}\n              labelFieldName=\"name\"\n              valueFieldName=\"name\"\n              keywordsFunction={s => `${s.name} ${s.hiragana} ${s.englishCharacters}`}\n              placeholder={placeholder}\n              showClear={showClear}\n              hideArrow={hideArrow}\n              className={className}\n              />\n\n<style>\n  :global(.autocomplete-skill) {\n    min-width: 13rem !important; /* overwrite */\n  }\n</style>\n","<script lang=\"ts\">\nimport AutoComplete from 'simple-svelte-autocomplete'\nimport {MAX_SKILL_LEVEL} from 'assets/mhrise/metadata'\n\nconst SKILL_LEVEL_LIST = [...Array(MAX_SKILL_LEVEL + 1).keys()].slice(1) // 補完用リスト\n\nexport let inputId     = 'input-skill-level-0'\nexport let placeholder = 'Lv'\nexport let showClear   = false\nexport let hideArrow   = true\nexport let className   = 'autocomplete-skill-level'\n\nexport let value = 0\n</script>\n\n<AutoComplete items={SKILL_LEVEL_LIST}\n              bind:selectedItem={value}\n              inputId={inputId}\n              placeholder={placeholder}\n              showClear={showClear}\n              hideArrow={hideArrow}\n              className={className}\n              />\n\n<style>\n  :global(.autocomplete-skill-level) {\n    width:     6rem;\n    min-width: 6rem !important; /* overwrite */\n  }\n</style>\n\n","<script lang=\"ts\">\nimport AutoComplete                    from 'simple-svelte-autocomplete'\nimport {MAX_NUM_SLOTS, MAX_SLOT_LEVEL} from 'assets/mhrise/metadata'\n\nconst SLOT_LEVEL_LIST = [...Array(MAX_SLOT_LEVEL + 1).keys()].slice(1) // 補完用リスト\n\nexport let inputIdPrefix = 'input-slot-'\nexport let placeholder   = 'スロット'\nexport let showClear     = true\nexport let hideArrow     = true\nexport let className     = 'autocomplete-slot-level'\n\nexport let values = []\n\n$: values = values.sort((a, b) => b - a)\n</script>\n\n<div>\n  {#each [...Array(MAX_NUM_SLOTS).keys()] as i}\n  <AutoComplete items={SLOT_LEVEL_LIST}\n                bind:selectedItem={values[i]}\n                inputId={inputIdPrefix}{i}\n                placeholder={placeholder}{i+1}\n                showClear={showClear}\n                hideArrow={hideArrow}\n                className={className}\n                />\n  {/each}\n</div>\n\n<style>\n  :global(.autocomplete-slot-level) {\n    width:     8rem;\n    min-width: 8rem !important; /* overwrite */\n  }\n\n  :global(.autocomplete-slot-level:nth-of-type(n+2)) {\n    margin-left: 0.4rem;\n  }\n</style>\n","/*\n * Dexie.js - a minimalistic wrapper for IndexedDB\n * ===============================================\n *\n * By David Fahlander, david.fahlander@gmail.com\n *\n * Version 3.0.3, Wed Nov 18 2020\n *\n * http://dexie.org\n *\n * Apache License Version 2.0, January 2004, http://www.apache.org/licenses/\n */\n \nvar __assign = function() {\n    __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n\n\n\n\n\n\n\n\n\n\nfunction __spreadArrays() {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n}\n\nvar keys = Object.keys;\nvar isArray = Array.isArray;\nvar _global = typeof self !== 'undefined' ? self :\n    typeof window !== 'undefined' ? window :\n        global;\nif (typeof Promise !== 'undefined' && !_global.Promise) {\n    _global.Promise = Promise;\n}\nfunction extend(obj, extension) {\n    if (typeof extension !== 'object')\n        return obj;\n    keys(extension).forEach(function (key) {\n        obj[key] = extension[key];\n    });\n    return obj;\n}\nvar getProto = Object.getPrototypeOf;\nvar _hasOwn = {}.hasOwnProperty;\nfunction hasOwn(obj, prop) {\n    return _hasOwn.call(obj, prop);\n}\nfunction props(proto, extension) {\n    if (typeof extension === 'function')\n        extension = extension(getProto(proto));\n    keys(extension).forEach(function (key) {\n        setProp(proto, key, extension[key]);\n    });\n}\nvar defineProperty = Object.defineProperty;\nfunction setProp(obj, prop, functionOrGetSet, options) {\n    defineProperty(obj, prop, extend(functionOrGetSet && hasOwn(functionOrGetSet, \"get\") && typeof functionOrGetSet.get === 'function' ?\n        { get: functionOrGetSet.get, set: functionOrGetSet.set, configurable: true } :\n        { value: functionOrGetSet, configurable: true, writable: true }, options));\n}\nfunction derive(Child) {\n    return {\n        from: function (Parent) {\n            Child.prototype = Object.create(Parent.prototype);\n            setProp(Child.prototype, \"constructor\", Child);\n            return {\n                extend: props.bind(null, Child.prototype)\n            };\n        }\n    };\n}\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nfunction getPropertyDescriptor(obj, prop) {\n    var pd = getOwnPropertyDescriptor(obj, prop);\n    var proto;\n    return pd || (proto = getProto(obj)) && getPropertyDescriptor(proto, prop);\n}\nvar _slice = [].slice;\nfunction slice(args, start, end) {\n    return _slice.call(args, start, end);\n}\nfunction override(origFunc, overridedFactory) {\n    return overridedFactory(origFunc);\n}\nfunction assert(b) {\n    if (!b)\n        throw new Error(\"Assertion Failed\");\n}\nfunction asap(fn) {\n    if (_global.setImmediate)\n        setImmediate(fn);\n    else\n        setTimeout(fn, 0);\n}\n\nfunction arrayToObject(array, extractor) {\n    return array.reduce(function (result, item, i) {\n        var nameAndValue = extractor(item, i);\n        if (nameAndValue)\n            result[nameAndValue[0]] = nameAndValue[1];\n        return result;\n    }, {});\n}\n\nfunction tryCatch(fn, onerror, args) {\n    try {\n        fn.apply(null, args);\n    }\n    catch (ex) {\n        onerror && onerror(ex);\n    }\n}\nfunction getByKeyPath(obj, keyPath) {\n    if (hasOwn(obj, keyPath))\n        return obj[keyPath];\n    if (!keyPath)\n        return obj;\n    if (typeof keyPath !== 'string') {\n        var rv = [];\n        for (var i = 0, l = keyPath.length; i < l; ++i) {\n            var val = getByKeyPath(obj, keyPath[i]);\n            rv.push(val);\n        }\n        return rv;\n    }\n    var period = keyPath.indexOf('.');\n    if (period !== -1) {\n        var innerObj = obj[keyPath.substr(0, period)];\n        return innerObj === undefined ? undefined : getByKeyPath(innerObj, keyPath.substr(period + 1));\n    }\n    return undefined;\n}\nfunction setByKeyPath(obj, keyPath, value) {\n    if (!obj || keyPath === undefined)\n        return;\n    if ('isFrozen' in Object && Object.isFrozen(obj))\n        return;\n    if (typeof keyPath !== 'string' && 'length' in keyPath) {\n        assert(typeof value !== 'string' && 'length' in value);\n        for (var i = 0, l = keyPath.length; i < l; ++i) {\n            setByKeyPath(obj, keyPath[i], value[i]);\n        }\n    }\n    else {\n        var period = keyPath.indexOf('.');\n        if (period !== -1) {\n            var currentKeyPath = keyPath.substr(0, period);\n            var remainingKeyPath = keyPath.substr(period + 1);\n            if (remainingKeyPath === \"\")\n                if (value === undefined) {\n                    if (isArray(obj) && !isNaN(parseInt(currentKeyPath)))\n                        obj.splice(currentKeyPath, 1);\n                    else\n                        delete obj[currentKeyPath];\n                }\n                else\n                    obj[currentKeyPath] = value;\n            else {\n                var innerObj = obj[currentKeyPath];\n                if (!innerObj)\n                    innerObj = (obj[currentKeyPath] = {});\n                setByKeyPath(innerObj, remainingKeyPath, value);\n            }\n        }\n        else {\n            if (value === undefined) {\n                if (isArray(obj) && !isNaN(parseInt(keyPath)))\n                    obj.splice(keyPath, 1);\n                else\n                    delete obj[keyPath];\n            }\n            else\n                obj[keyPath] = value;\n        }\n    }\n}\nfunction delByKeyPath(obj, keyPath) {\n    if (typeof keyPath === 'string')\n        setByKeyPath(obj, keyPath, undefined);\n    else if ('length' in keyPath)\n        [].map.call(keyPath, function (kp) {\n            setByKeyPath(obj, kp, undefined);\n        });\n}\nfunction shallowClone(obj) {\n    var rv = {};\n    for (var m in obj) {\n        if (hasOwn(obj, m))\n            rv[m] = obj[m];\n    }\n    return rv;\n}\nvar concat = [].concat;\nfunction flatten(a) {\n    return concat.apply([], a);\n}\nvar intrinsicTypeNames = \"Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set\"\n    .split(',').concat(flatten([8, 16, 32, 64].map(function (num) { return [\"Int\", \"Uint\", \"Float\"].map(function (t) { return t + num + \"Array\"; }); }))).filter(function (t) { return _global[t]; });\nvar intrinsicTypes = intrinsicTypeNames.map(function (t) { return _global[t]; });\nvar intrinsicTypeNameSet = arrayToObject(intrinsicTypeNames, function (x) { return [x, true]; });\nfunction deepClone(any) {\n    if (!any || typeof any !== 'object')\n        return any;\n    var rv;\n    if (isArray(any)) {\n        rv = [];\n        for (var i = 0, l = any.length; i < l; ++i) {\n            rv.push(deepClone(any[i]));\n        }\n    }\n    else if (intrinsicTypes.indexOf(any.constructor) >= 0) {\n        rv = any;\n    }\n    else {\n        rv = any.constructor ? Object.create(any.constructor.prototype) : {};\n        for (var prop in any) {\n            if (hasOwn(any, prop)) {\n                rv[prop] = deepClone(any[prop]);\n            }\n        }\n    }\n    return rv;\n}\nvar toString = {}.toString;\nfunction toStringTag(o) {\n    return toString.call(o).slice(8, -1);\n}\nvar getValueOf = function (val, type) {\n    return type === \"Array\" ? '' + val.map(function (v) { return getValueOf(v, toStringTag(v)); }) :\n        type === \"ArrayBuffer\" ? '' + new Uint8Array(val) :\n            type === \"Date\" ? val.getTime() :\n                ArrayBuffer.isView(val) ? '' + new Uint8Array(val.buffer) :\n                    val;\n};\nfunction getObjectDiff(a, b, rv, prfx) {\n    rv = rv || {};\n    prfx = prfx || '';\n    keys(a).forEach(function (prop) {\n        if (!hasOwn(b, prop))\n            rv[prfx + prop] = undefined;\n        else {\n            var ap = a[prop], bp = b[prop];\n            if (typeof ap === 'object' && typeof bp === 'object' && ap && bp) {\n                var apTypeName = toStringTag(ap);\n                var bpTypeName = toStringTag(bp);\n                if (apTypeName === bpTypeName) {\n                    if (intrinsicTypeNameSet[apTypeName]) {\n                        if (getValueOf(ap, apTypeName) !== getValueOf(bp, bpTypeName)) {\n                            rv[prfx + prop] = b[prop];\n                        }\n                    }\n                    else {\n                        getObjectDiff(ap, bp, rv, prfx + prop + \".\");\n                    }\n                }\n                else {\n                    rv[prfx + prop] = b[prop];\n                }\n            }\n            else if (ap !== bp)\n                rv[prfx + prop] = b[prop];\n        }\n    });\n    keys(b).forEach(function (prop) {\n        if (!hasOwn(a, prop)) {\n            rv[prfx + prop] = b[prop];\n        }\n    });\n    return rv;\n}\nvar iteratorSymbol = typeof Symbol !== 'undefined' && Symbol.iterator;\nvar getIteratorOf = iteratorSymbol ? function (x) {\n    var i;\n    return x != null && (i = x[iteratorSymbol]) && i.apply(x);\n} : function () { return null; };\nvar NO_CHAR_ARRAY = {};\nfunction getArrayOf(arrayLike) {\n    var i, a, x, it;\n    if (arguments.length === 1) {\n        if (isArray(arrayLike))\n            return arrayLike.slice();\n        if (this === NO_CHAR_ARRAY && typeof arrayLike === 'string')\n            return [arrayLike];\n        if ((it = getIteratorOf(arrayLike))) {\n            a = [];\n            while (x = it.next(), !x.done)\n                a.push(x.value);\n            return a;\n        }\n        if (arrayLike == null)\n            return [arrayLike];\n        i = arrayLike.length;\n        if (typeof i === 'number') {\n            a = new Array(i);\n            while (i--)\n                a[i] = arrayLike[i];\n            return a;\n        }\n        return [arrayLike];\n    }\n    i = arguments.length;\n    a = new Array(i);\n    while (i--)\n        a[i] = arguments[i];\n    return a;\n}\nvar isAsyncFunction = typeof Symbol !== 'undefined'\n    ? function (fn) { return fn[Symbol.toStringTag] === 'AsyncFunction'; }\n    : function () { return false; };\n\nvar debug = typeof location !== 'undefined' &&\n    /^(http|https):\\/\\/(localhost|127\\.0\\.0\\.1)/.test(location.href);\nfunction setDebug(value, filter) {\n    debug = value;\n    libraryFilter = filter;\n}\nvar libraryFilter = function () { return true; };\nvar NEEDS_THROW_FOR_STACK = !new Error(\"\").stack;\nfunction getErrorWithStack() {\n    if (NEEDS_THROW_FOR_STACK)\n        try {\n            throw new Error();\n        }\n        catch (e) {\n            return e;\n        }\n    return new Error();\n}\nfunction prettyStack(exception, numIgnoredFrames) {\n    var stack = exception.stack;\n    if (!stack)\n        return \"\";\n    numIgnoredFrames = (numIgnoredFrames || 0);\n    if (stack.indexOf(exception.name) === 0)\n        numIgnoredFrames += (exception.name + exception.message).split('\\n').length;\n    return stack.split('\\n')\n        .slice(numIgnoredFrames)\n        .filter(libraryFilter)\n        .map(function (frame) { return \"\\n\" + frame; })\n        .join('');\n}\n\nvar dexieErrorNames = [\n    'Modify',\n    'Bulk',\n    'OpenFailed',\n    'VersionChange',\n    'Schema',\n    'Upgrade',\n    'InvalidTable',\n    'MissingAPI',\n    'NoSuchDatabase',\n    'InvalidArgument',\n    'SubTransaction',\n    'Unsupported',\n    'Internal',\n    'DatabaseClosed',\n    'PrematureCommit',\n    'ForeignAwait'\n];\nvar idbDomErrorNames = [\n    'Unknown',\n    'Constraint',\n    'Data',\n    'TransactionInactive',\n    'ReadOnly',\n    'Version',\n    'NotFound',\n    'InvalidState',\n    'InvalidAccess',\n    'Abort',\n    'Timeout',\n    'QuotaExceeded',\n    'Syntax',\n    'DataClone'\n];\nvar errorList = dexieErrorNames.concat(idbDomErrorNames);\nvar defaultTexts = {\n    VersionChanged: \"Database version changed by other database connection\",\n    DatabaseClosed: \"Database has been closed\",\n    Abort: \"Transaction aborted\",\n    TransactionInactive: \"Transaction has already completed or failed\"\n};\nfunction DexieError(name, msg) {\n    this._e = getErrorWithStack();\n    this.name = name;\n    this.message = msg;\n}\nderive(DexieError).from(Error).extend({\n    stack: {\n        get: function () {\n            return this._stack ||\n                (this._stack = this.name + \": \" + this.message + prettyStack(this._e, 2));\n        }\n    },\n    toString: function () { return this.name + \": \" + this.message; }\n});\nfunction getMultiErrorMessage(msg, failures) {\n    return msg + \". Errors: \" + Object.keys(failures)\n        .map(function (key) { return failures[key].toString(); })\n        .filter(function (v, i, s) { return s.indexOf(v) === i; })\n        .join('\\n');\n}\nfunction ModifyError(msg, failures, successCount, failedKeys) {\n    this._e = getErrorWithStack();\n    this.failures = failures;\n    this.failedKeys = failedKeys;\n    this.successCount = successCount;\n    this.message = getMultiErrorMessage(msg, failures);\n}\nderive(ModifyError).from(DexieError);\nfunction BulkError(msg, failures) {\n    this._e = getErrorWithStack();\n    this.name = \"BulkError\";\n    this.failures = failures;\n    this.message = getMultiErrorMessage(msg, failures);\n}\nderive(BulkError).from(DexieError);\nvar errnames = errorList.reduce(function (obj, name) { return (obj[name] = name + \"Error\", obj); }, {});\nvar BaseException = DexieError;\nvar exceptions = errorList.reduce(function (obj, name) {\n    var fullName = name + \"Error\";\n    function DexieError(msgOrInner, inner) {\n        this._e = getErrorWithStack();\n        this.name = fullName;\n        if (!msgOrInner) {\n            this.message = defaultTexts[name] || fullName;\n            this.inner = null;\n        }\n        else if (typeof msgOrInner === 'string') {\n            this.message = \"\" + msgOrInner + (!inner ? '' : '\\n ' + inner);\n            this.inner = inner || null;\n        }\n        else if (typeof msgOrInner === 'object') {\n            this.message = msgOrInner.name + \" \" + msgOrInner.message;\n            this.inner = msgOrInner;\n        }\n    }\n    derive(DexieError).from(BaseException);\n    obj[name] = DexieError;\n    return obj;\n}, {});\nexceptions.Syntax = SyntaxError;\nexceptions.Type = TypeError;\nexceptions.Range = RangeError;\nvar exceptionMap = idbDomErrorNames.reduce(function (obj, name) {\n    obj[name + \"Error\"] = exceptions[name];\n    return obj;\n}, {});\nfunction mapError(domError, message) {\n    if (!domError || domError instanceof DexieError || domError instanceof TypeError || domError instanceof SyntaxError || !domError.name || !exceptionMap[domError.name])\n        return domError;\n    var rv = new exceptionMap[domError.name](message || domError.message, domError);\n    if (\"stack\" in domError) {\n        setProp(rv, \"stack\", { get: function () {\n                return this.inner.stack;\n            } });\n    }\n    return rv;\n}\nvar fullNameExceptions = errorList.reduce(function (obj, name) {\n    if ([\"Syntax\", \"Type\", \"Range\"].indexOf(name) === -1)\n        obj[name + \"Error\"] = exceptions[name];\n    return obj;\n}, {});\nfullNameExceptions.ModifyError = ModifyError;\nfullNameExceptions.DexieError = DexieError;\nfullNameExceptions.BulkError = BulkError;\n\nfunction nop() { }\nfunction mirror(val) { return val; }\nfunction pureFunctionChain(f1, f2) {\n    if (f1 == null || f1 === mirror)\n        return f2;\n    return function (val) {\n        return f2(f1(val));\n    };\n}\nfunction callBoth(on1, on2) {\n    return function () {\n        on1.apply(this, arguments);\n        on2.apply(this, arguments);\n    };\n}\nfunction hookCreatingChain(f1, f2) {\n    if (f1 === nop)\n        return f2;\n    return function () {\n        var res = f1.apply(this, arguments);\n        if (res !== undefined)\n            arguments[0] = res;\n        var onsuccess = this.onsuccess,\n        onerror = this.onerror;\n        this.onsuccess = null;\n        this.onerror = null;\n        var res2 = f2.apply(this, arguments);\n        if (onsuccess)\n            this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;\n        if (onerror)\n            this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;\n        return res2 !== undefined ? res2 : res;\n    };\n}\nfunction hookDeletingChain(f1, f2) {\n    if (f1 === nop)\n        return f2;\n    return function () {\n        f1.apply(this, arguments);\n        var onsuccess = this.onsuccess,\n        onerror = this.onerror;\n        this.onsuccess = this.onerror = null;\n        f2.apply(this, arguments);\n        if (onsuccess)\n            this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;\n        if (onerror)\n            this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;\n    };\n}\nfunction hookUpdatingChain(f1, f2) {\n    if (f1 === nop)\n        return f2;\n    return function (modifications) {\n        var res = f1.apply(this, arguments);\n        extend(modifications, res);\n        var onsuccess = this.onsuccess,\n        onerror = this.onerror;\n        this.onsuccess = null;\n        this.onerror = null;\n        var res2 = f2.apply(this, arguments);\n        if (onsuccess)\n            this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;\n        if (onerror)\n            this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;\n        return res === undefined ?\n            (res2 === undefined ? undefined : res2) :\n            (extend(res, res2));\n    };\n}\nfunction reverseStoppableEventChain(f1, f2) {\n    if (f1 === nop)\n        return f2;\n    return function () {\n        if (f2.apply(this, arguments) === false)\n            return false;\n        return f1.apply(this, arguments);\n    };\n}\n\nfunction promisableChain(f1, f2) {\n    if (f1 === nop)\n        return f2;\n    return function () {\n        var res = f1.apply(this, arguments);\n        if (res && typeof res.then === 'function') {\n            var thiz = this, i = arguments.length, args = new Array(i);\n            while (i--)\n                args[i] = arguments[i];\n            return res.then(function () {\n                return f2.apply(thiz, args);\n            });\n        }\n        return f2.apply(this, arguments);\n    };\n}\n\nvar INTERNAL = {};\nvar LONG_STACKS_CLIP_LIMIT = 100;\nvar MAX_LONG_STACKS = 20;\nvar ZONE_ECHO_LIMIT = 100;\nvar _a = typeof Promise === 'undefined' ?\n    [] :\n    (function () {\n        var globalP = Promise.resolve();\n        if (typeof crypto === 'undefined' || !crypto.subtle)\n            return [globalP, globalP.__proto__, globalP];\n        var nativeP = crypto.subtle.digest(\"SHA-512\", new Uint8Array([0]));\n        return [\n            nativeP,\n            nativeP.__proto__,\n            globalP\n        ];\n    })();\nvar resolvedNativePromise = _a[0];\nvar nativePromiseProto = _a[1];\nvar resolvedGlobalPromise = _a[2];\nvar nativePromiseThen = nativePromiseProto && nativePromiseProto.then;\nvar NativePromise = resolvedNativePromise && resolvedNativePromise.constructor;\nvar patchGlobalPromise = !!resolvedGlobalPromise;\nvar stack_being_generated = false;\nvar schedulePhysicalTick = resolvedGlobalPromise ?\n    function () { resolvedGlobalPromise.then(physicalTick); }\n    :\n        _global.setImmediate ?\n            setImmediate.bind(null, physicalTick) :\n            _global.MutationObserver ?\n                function () {\n                    var hiddenDiv = document.createElement(\"div\");\n                    (new MutationObserver(function () {\n                        physicalTick();\n                        hiddenDiv = null;\n                    })).observe(hiddenDiv, { attributes: true });\n                    hiddenDiv.setAttribute('i', '1');\n                } :\n                function () { setTimeout(physicalTick, 0); };\nvar asap$1 = function (callback, args) {\n    microtickQueue.push([callback, args]);\n    if (needsNewPhysicalTick) {\n        schedulePhysicalTick();\n        needsNewPhysicalTick = false;\n    }\n};\nvar isOutsideMicroTick = true;\nvar needsNewPhysicalTick = true;\nvar unhandledErrors = [];\nvar rejectingErrors = [];\nvar currentFulfiller = null;\nvar rejectionMapper = mirror;\nvar globalPSD = {\n    id: 'global',\n    global: true,\n    ref: 0,\n    unhandleds: [],\n    onunhandled: globalError,\n    pgp: false,\n    env: {},\n    finalize: function () {\n        this.unhandleds.forEach(function (uh) {\n            try {\n                globalError(uh[0], uh[1]);\n            }\n            catch (e) { }\n        });\n    }\n};\nvar PSD = globalPSD;\nvar microtickQueue = [];\nvar numScheduledCalls = 0;\nvar tickFinalizers = [];\nfunction DexiePromise(fn) {\n    if (typeof this !== 'object')\n        throw new TypeError('Promises must be constructed via new');\n    this._listeners = [];\n    this.onuncatched = nop;\n    this._lib = false;\n    var psd = (this._PSD = PSD);\n    if (debug) {\n        this._stackHolder = getErrorWithStack();\n        this._prev = null;\n        this._numPrev = 0;\n    }\n    if (typeof fn !== 'function') {\n        if (fn !== INTERNAL)\n            throw new TypeError('Not a function');\n        this._state = arguments[1];\n        this._value = arguments[2];\n        if (this._state === false)\n            handleRejection(this, this._value);\n        return;\n    }\n    this._state = null;\n    this._value = null;\n    ++psd.ref;\n    executePromiseTask(this, fn);\n}\nvar thenProp = {\n    get: function () {\n        var psd = PSD, microTaskId = totalEchoes;\n        function then(onFulfilled, onRejected) {\n            var _this = this;\n            var possibleAwait = !psd.global && (psd !== PSD || microTaskId !== totalEchoes);\n            var cleanup = possibleAwait && !decrementExpectedAwaits();\n            var rv = new DexiePromise(function (resolve, reject) {\n                propagateToListener(_this, new Listener(nativeAwaitCompatibleWrap(onFulfilled, psd, possibleAwait, cleanup), nativeAwaitCompatibleWrap(onRejected, psd, possibleAwait, cleanup), resolve, reject, psd));\n            });\n            debug && linkToPreviousPromise(rv, this);\n            return rv;\n        }\n        then.prototype = INTERNAL;\n        return then;\n    },\n    set: function (value) {\n        setProp(this, 'then', value && value.prototype === INTERNAL ?\n            thenProp :\n            {\n                get: function () {\n                    return value;\n                },\n                set: thenProp.set\n            });\n    }\n};\nprops(DexiePromise.prototype, {\n    then: thenProp,\n    _then: function (onFulfilled, onRejected) {\n        propagateToListener(this, new Listener(null, null, onFulfilled, onRejected, PSD));\n    },\n    catch: function (onRejected) {\n        if (arguments.length === 1)\n            return this.then(null, onRejected);\n        var type = arguments[0], handler = arguments[1];\n        return typeof type === 'function' ? this.then(null, function (err) {\n            return err instanceof type ? handler(err) : PromiseReject(err);\n        })\n            : this.then(null, function (err) {\n                return err && err.name === type ? handler(err) : PromiseReject(err);\n            });\n    },\n    finally: function (onFinally) {\n        return this.then(function (value) {\n            onFinally();\n            return value;\n        }, function (err) {\n            onFinally();\n            return PromiseReject(err);\n        });\n    },\n    stack: {\n        get: function () {\n            if (this._stack)\n                return this._stack;\n            try {\n                stack_being_generated = true;\n                var stacks = getStack(this, [], MAX_LONG_STACKS);\n                var stack = stacks.join(\"\\nFrom previous: \");\n                if (this._state !== null)\n                    this._stack = stack;\n                return stack;\n            }\n            finally {\n                stack_being_generated = false;\n            }\n        }\n    },\n    timeout: function (ms, msg) {\n        var _this = this;\n        return ms < Infinity ?\n            new DexiePromise(function (resolve, reject) {\n                var handle = setTimeout(function () { return reject(new exceptions.Timeout(msg)); }, ms);\n                _this.then(resolve, reject).finally(clearTimeout.bind(null, handle));\n            }) : this;\n    }\n});\nif (typeof Symbol !== 'undefined' && Symbol.toStringTag)\n    setProp(DexiePromise.prototype, Symbol.toStringTag, 'Dexie.Promise');\nglobalPSD.env = snapShot();\nfunction Listener(onFulfilled, onRejected, resolve, reject, zone) {\n    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n    this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n    this.resolve = resolve;\n    this.reject = reject;\n    this.psd = zone;\n}\nprops(DexiePromise, {\n    all: function () {\n        var values = getArrayOf.apply(null, arguments)\n            .map(onPossibleParallellAsync);\n        return new DexiePromise(function (resolve, reject) {\n            if (values.length === 0)\n                resolve([]);\n            var remaining = values.length;\n            values.forEach(function (a, i) { return DexiePromise.resolve(a).then(function (x) {\n                values[i] = x;\n                if (!--remaining)\n                    resolve(values);\n            }, reject); });\n        });\n    },\n    resolve: function (value) {\n        if (value instanceof DexiePromise)\n            return value;\n        if (value && typeof value.then === 'function')\n            return new DexiePromise(function (resolve, reject) {\n                value.then(resolve, reject);\n            });\n        var rv = new DexiePromise(INTERNAL, true, value);\n        linkToPreviousPromise(rv, currentFulfiller);\n        return rv;\n    },\n    reject: PromiseReject,\n    race: function () {\n        var values = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);\n        return new DexiePromise(function (resolve, reject) {\n            values.map(function (value) { return DexiePromise.resolve(value).then(resolve, reject); });\n        });\n    },\n    PSD: {\n        get: function () { return PSD; },\n        set: function (value) { return PSD = value; }\n    },\n    totalEchoes: { get: function () { return totalEchoes; } },\n    newPSD: newScope,\n    usePSD: usePSD,\n    scheduler: {\n        get: function () { return asap$1; },\n        set: function (value) { asap$1 = value; }\n    },\n    rejectionMapper: {\n        get: function () { return rejectionMapper; },\n        set: function (value) { rejectionMapper = value; }\n    },\n    follow: function (fn, zoneProps) {\n        return new DexiePromise(function (resolve, reject) {\n            return newScope(function (resolve, reject) {\n                var psd = PSD;\n                psd.unhandleds = [];\n                psd.onunhandled = reject;\n                psd.finalize = callBoth(function () {\n                    var _this = this;\n                    run_at_end_of_this_or_next_physical_tick(function () {\n                        _this.unhandleds.length === 0 ? resolve() : reject(_this.unhandleds[0]);\n                    });\n                }, psd.finalize);\n                fn();\n            }, zoneProps, resolve, reject);\n        });\n    }\n});\nif (NativePromise) {\n    if (NativePromise.allSettled)\n        setProp(DexiePromise, \"allSettled\", function () {\n            var possiblePromises = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);\n            return new DexiePromise(function (resolve) {\n                if (possiblePromises.length === 0)\n                    resolve([]);\n                var remaining = possiblePromises.length;\n                var results = new Array(remaining);\n                possiblePromises.forEach(function (p, i) { return DexiePromise.resolve(p).then(function (value) { return results[i] = { status: \"fulfilled\", value: value }; }, function (reason) { return results[i] = { status: \"rejected\", reason: reason }; })\n                    .then(function () { return --remaining || resolve(results); }); });\n            });\n        });\n    if (NativePromise.any && typeof AggregateError !== 'undefined')\n        setProp(DexiePromise, \"any\", function () {\n            var possiblePromises = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);\n            return new DexiePromise(function (resolve, reject) {\n                if (possiblePromises.length === 0)\n                    reject(new AggregateError([]));\n                var remaining = possiblePromises.length;\n                var failures = new Array(remaining);\n                possiblePromises.forEach(function (p, i) { return DexiePromise.resolve(p).then(function (value) { return resolve(value); }, function (failure) {\n                    failures[i] = failure;\n                    if (!--remaining)\n                        reject(new AggregateError(failures));\n                }); });\n            });\n        });\n}\nfunction executePromiseTask(promise, fn) {\n    try {\n        fn(function (value) {\n            if (promise._state !== null)\n                return;\n            if (value === promise)\n                throw new TypeError('A promise cannot be resolved with itself.');\n            var shouldExecuteTick = promise._lib && beginMicroTickScope();\n            if (value && typeof value.then === 'function') {\n                executePromiseTask(promise, function (resolve, reject) {\n                    value instanceof DexiePromise ?\n                        value._then(resolve, reject) :\n                        value.then(resolve, reject);\n                });\n            }\n            else {\n                promise._state = true;\n                promise._value = value;\n                propagateAllListeners(promise);\n            }\n            if (shouldExecuteTick)\n                endMicroTickScope();\n        }, handleRejection.bind(null, promise));\n    }\n    catch (ex) {\n        handleRejection(promise, ex);\n    }\n}\nfunction handleRejection(promise, reason) {\n    rejectingErrors.push(reason);\n    if (promise._state !== null)\n        return;\n    var shouldExecuteTick = promise._lib && beginMicroTickScope();\n    reason = rejectionMapper(reason);\n    promise._state = false;\n    promise._value = reason;\n    debug && reason !== null && typeof reason === 'object' && !reason._promise && tryCatch(function () {\n        var origProp = getPropertyDescriptor(reason, \"stack\");\n        reason._promise = promise;\n        setProp(reason, \"stack\", {\n            get: function () {\n                return stack_being_generated ?\n                    origProp && (origProp.get ?\n                        origProp.get.apply(reason) :\n                        origProp.value) :\n                    promise.stack;\n            }\n        });\n    });\n    addPossiblyUnhandledError(promise);\n    propagateAllListeners(promise);\n    if (shouldExecuteTick)\n        endMicroTickScope();\n}\nfunction propagateAllListeners(promise) {\n    var listeners = promise._listeners;\n    promise._listeners = [];\n    for (var i = 0, len = listeners.length; i < len; ++i) {\n        propagateToListener(promise, listeners[i]);\n    }\n    var psd = promise._PSD;\n    --psd.ref || psd.finalize();\n    if (numScheduledCalls === 0) {\n        ++numScheduledCalls;\n        asap$1(function () {\n            if (--numScheduledCalls === 0)\n                finalizePhysicalTick();\n        }, []);\n    }\n}\nfunction propagateToListener(promise, listener) {\n    if (promise._state === null) {\n        promise._listeners.push(listener);\n        return;\n    }\n    var cb = promise._state ? listener.onFulfilled : listener.onRejected;\n    if (cb === null) {\n        return (promise._state ? listener.resolve : listener.reject)(promise._value);\n    }\n    ++listener.psd.ref;\n    ++numScheduledCalls;\n    asap$1(callListener, [cb, promise, listener]);\n}\nfunction callListener(cb, promise, listener) {\n    try {\n        currentFulfiller = promise;\n        var ret, value = promise._value;\n        if (promise._state) {\n            ret = cb(value);\n        }\n        else {\n            if (rejectingErrors.length)\n                rejectingErrors = [];\n            ret = cb(value);\n            if (rejectingErrors.indexOf(value) === -1)\n                markErrorAsHandled(promise);\n        }\n        listener.resolve(ret);\n    }\n    catch (e) {\n        listener.reject(e);\n    }\n    finally {\n        currentFulfiller = null;\n        if (--numScheduledCalls === 0)\n            finalizePhysicalTick();\n        --listener.psd.ref || listener.psd.finalize();\n    }\n}\nfunction getStack(promise, stacks, limit) {\n    if (stacks.length === limit)\n        return stacks;\n    var stack = \"\";\n    if (promise._state === false) {\n        var failure = promise._value, errorName, message;\n        if (failure != null) {\n            errorName = failure.name || \"Error\";\n            message = failure.message || failure;\n            stack = prettyStack(failure, 0);\n        }\n        else {\n            errorName = failure;\n            message = \"\";\n        }\n        stacks.push(errorName + (message ? \": \" + message : \"\") + stack);\n    }\n    if (debug) {\n        stack = prettyStack(promise._stackHolder, 2);\n        if (stack && stacks.indexOf(stack) === -1)\n            stacks.push(stack);\n        if (promise._prev)\n            getStack(promise._prev, stacks, limit);\n    }\n    return stacks;\n}\nfunction linkToPreviousPromise(promise, prev) {\n    var numPrev = prev ? prev._numPrev + 1 : 0;\n    if (numPrev < LONG_STACKS_CLIP_LIMIT) {\n        promise._prev = prev;\n        promise._numPrev = numPrev;\n    }\n}\nfunction physicalTick() {\n    beginMicroTickScope() && endMicroTickScope();\n}\nfunction beginMicroTickScope() {\n    var wasRootExec = isOutsideMicroTick;\n    isOutsideMicroTick = false;\n    needsNewPhysicalTick = false;\n    return wasRootExec;\n}\nfunction endMicroTickScope() {\n    var callbacks, i, l;\n    do {\n        while (microtickQueue.length > 0) {\n            callbacks = microtickQueue;\n            microtickQueue = [];\n            l = callbacks.length;\n            for (i = 0; i < l; ++i) {\n                var item = callbacks[i];\n                item[0].apply(null, item[1]);\n            }\n        }\n    } while (microtickQueue.length > 0);\n    isOutsideMicroTick = true;\n    needsNewPhysicalTick = true;\n}\nfunction finalizePhysicalTick() {\n    var unhandledErrs = unhandledErrors;\n    unhandledErrors = [];\n    unhandledErrs.forEach(function (p) {\n        p._PSD.onunhandled.call(null, p._value, p);\n    });\n    var finalizers = tickFinalizers.slice(0);\n    var i = finalizers.length;\n    while (i)\n        finalizers[--i]();\n}\nfunction run_at_end_of_this_or_next_physical_tick(fn) {\n    function finalizer() {\n        fn();\n        tickFinalizers.splice(tickFinalizers.indexOf(finalizer), 1);\n    }\n    tickFinalizers.push(finalizer);\n    ++numScheduledCalls;\n    asap$1(function () {\n        if (--numScheduledCalls === 0)\n            finalizePhysicalTick();\n    }, []);\n}\nfunction addPossiblyUnhandledError(promise) {\n    if (!unhandledErrors.some(function (p) { return p._value === promise._value; }))\n        unhandledErrors.push(promise);\n}\nfunction markErrorAsHandled(promise) {\n    var i = unhandledErrors.length;\n    while (i)\n        if (unhandledErrors[--i]._value === promise._value) {\n            unhandledErrors.splice(i, 1);\n            return;\n        }\n}\nfunction PromiseReject(reason) {\n    return new DexiePromise(INTERNAL, false, reason);\n}\nfunction wrap(fn, errorCatcher) {\n    var psd = PSD;\n    return function () {\n        var wasRootExec = beginMicroTickScope(), outerScope = PSD;\n        try {\n            switchToZone(psd, true);\n            return fn.apply(this, arguments);\n        }\n        catch (e) {\n            errorCatcher && errorCatcher(e);\n        }\n        finally {\n            switchToZone(outerScope, false);\n            if (wasRootExec)\n                endMicroTickScope();\n        }\n    };\n}\nvar task = { awaits: 0, echoes: 0, id: 0 };\nvar taskCounter = 0;\nvar zoneStack = [];\nvar zoneEchoes = 0;\nvar totalEchoes = 0;\nvar zone_id_counter = 0;\nfunction newScope(fn, props$$1, a1, a2) {\n    var parent = PSD, psd = Object.create(parent);\n    psd.parent = parent;\n    psd.ref = 0;\n    psd.global = false;\n    psd.id = ++zone_id_counter;\n    var globalEnv = globalPSD.env;\n    psd.env = patchGlobalPromise ? {\n        Promise: DexiePromise,\n        PromiseProp: { value: DexiePromise, configurable: true, writable: true },\n        all: DexiePromise.all,\n        race: DexiePromise.race,\n        allSettled: DexiePromise.allSettled,\n        any: DexiePromise.any,\n        resolve: DexiePromise.resolve,\n        reject: DexiePromise.reject,\n        nthen: getPatchedPromiseThen(globalEnv.nthen, psd),\n        gthen: getPatchedPromiseThen(globalEnv.gthen, psd)\n    } : {};\n    if (props$$1)\n        extend(psd, props$$1);\n    ++parent.ref;\n    psd.finalize = function () {\n        --this.parent.ref || this.parent.finalize();\n    };\n    var rv = usePSD(psd, fn, a1, a2);\n    if (psd.ref === 0)\n        psd.finalize();\n    return rv;\n}\nfunction incrementExpectedAwaits() {\n    if (!task.id)\n        task.id = ++taskCounter;\n    ++task.awaits;\n    task.echoes += ZONE_ECHO_LIMIT;\n    return task.id;\n}\nfunction decrementExpectedAwaits() {\n    if (!task.awaits)\n        return false;\n    if (--task.awaits === 0)\n        task.id = 0;\n    task.echoes = task.awaits * ZONE_ECHO_LIMIT;\n    return true;\n}\nif (('' + nativePromiseThen).indexOf('[native code]') === -1) {\n    incrementExpectedAwaits = decrementExpectedAwaits = nop;\n}\nfunction onPossibleParallellAsync(possiblePromise) {\n    if (task.echoes && possiblePromise && possiblePromise.constructor === NativePromise) {\n        incrementExpectedAwaits();\n        return possiblePromise.then(function (x) {\n            decrementExpectedAwaits();\n            return x;\n        }, function (e) {\n            decrementExpectedAwaits();\n            return rejection(e);\n        });\n    }\n    return possiblePromise;\n}\nfunction zoneEnterEcho(targetZone) {\n    ++totalEchoes;\n    if (!task.echoes || --task.echoes === 0) {\n        task.echoes = task.id = 0;\n    }\n    zoneStack.push(PSD);\n    switchToZone(targetZone, true);\n}\nfunction zoneLeaveEcho() {\n    var zone = zoneStack[zoneStack.length - 1];\n    zoneStack.pop();\n    switchToZone(zone, false);\n}\nfunction switchToZone(targetZone, bEnteringZone) {\n    var currentZone = PSD;\n    if (bEnteringZone ? task.echoes && (!zoneEchoes++ || targetZone !== PSD) : zoneEchoes && (!--zoneEchoes || targetZone !== PSD)) {\n        enqueueNativeMicroTask(bEnteringZone ? zoneEnterEcho.bind(null, targetZone) : zoneLeaveEcho);\n    }\n    if (targetZone === PSD)\n        return;\n    PSD = targetZone;\n    if (currentZone === globalPSD)\n        globalPSD.env = snapShot();\n    if (patchGlobalPromise) {\n        var GlobalPromise_1 = globalPSD.env.Promise;\n        var targetEnv = targetZone.env;\n        nativePromiseProto.then = targetEnv.nthen;\n        GlobalPromise_1.prototype.then = targetEnv.gthen;\n        if (currentZone.global || targetZone.global) {\n            Object.defineProperty(_global, 'Promise', targetEnv.PromiseProp);\n            GlobalPromise_1.all = targetEnv.all;\n            GlobalPromise_1.race = targetEnv.race;\n            GlobalPromise_1.resolve = targetEnv.resolve;\n            GlobalPromise_1.reject = targetEnv.reject;\n            if (targetEnv.allSettled)\n                GlobalPromise_1.allSettled = targetEnv.allSettled;\n            if (targetEnv.any)\n                GlobalPromise_1.any = targetEnv.any;\n        }\n    }\n}\nfunction snapShot() {\n    var GlobalPromise = _global.Promise;\n    return patchGlobalPromise ? {\n        Promise: GlobalPromise,\n        PromiseProp: Object.getOwnPropertyDescriptor(_global, \"Promise\"),\n        all: GlobalPromise.all,\n        race: GlobalPromise.race,\n        allSettled: GlobalPromise.allSettled,\n        any: GlobalPromise.any,\n        resolve: GlobalPromise.resolve,\n        reject: GlobalPromise.reject,\n        nthen: nativePromiseProto.then,\n        gthen: GlobalPromise.prototype.then\n    } : {};\n}\nfunction usePSD(psd, fn, a1, a2, a3) {\n    var outerScope = PSD;\n    try {\n        switchToZone(psd, true);\n        return fn(a1, a2, a3);\n    }\n    finally {\n        switchToZone(outerScope, false);\n    }\n}\nfunction enqueueNativeMicroTask(job) {\n    nativePromiseThen.call(resolvedNativePromise, job);\n}\nfunction nativeAwaitCompatibleWrap(fn, zone, possibleAwait, cleanup) {\n    return typeof fn !== 'function' ? fn : function () {\n        var outerZone = PSD;\n        if (possibleAwait)\n            incrementExpectedAwaits();\n        switchToZone(zone, true);\n        try {\n            return fn.apply(this, arguments);\n        }\n        finally {\n            switchToZone(outerZone, false);\n            if (cleanup)\n                enqueueNativeMicroTask(decrementExpectedAwaits);\n        }\n    };\n}\nfunction getPatchedPromiseThen(origThen, zone) {\n    return function (onResolved, onRejected) {\n        return origThen.call(this, nativeAwaitCompatibleWrap(onResolved, zone), nativeAwaitCompatibleWrap(onRejected, zone));\n    };\n}\nvar UNHANDLEDREJECTION = \"unhandledrejection\";\nfunction globalError(err, promise) {\n    var rv;\n    try {\n        rv = promise.onuncatched(err);\n    }\n    catch (e) { }\n    if (rv !== false)\n        try {\n            var event, eventData = { promise: promise, reason: err };\n            if (_global.document && document.createEvent) {\n                event = document.createEvent('Event');\n                event.initEvent(UNHANDLEDREJECTION, true, true);\n                extend(event, eventData);\n            }\n            else if (_global.CustomEvent) {\n                event = new CustomEvent(UNHANDLEDREJECTION, { detail: eventData });\n                extend(event, eventData);\n            }\n            if (event && _global.dispatchEvent) {\n                dispatchEvent(event);\n                if (!_global.PromiseRejectionEvent && _global.onunhandledrejection)\n                    try {\n                        _global.onunhandledrejection(event);\n                    }\n                    catch (_) { }\n            }\n            if (debug && event && !event.defaultPrevented) {\n                console.warn(\"Unhandled rejection: \" + (err.stack || err));\n            }\n        }\n        catch (e) { }\n}\nvar rejection = DexiePromise.reject;\n\nfunction tempTransaction(db, mode, storeNames, fn) {\n    if (!db._state.openComplete && (!PSD.letThrough)) {\n        if (!db._state.isBeingOpened) {\n            if (!db._options.autoOpen)\n                return rejection(new exceptions.DatabaseClosed());\n            db.open().catch(nop);\n        }\n        return db._state.dbReadyPromise.then(function () { return tempTransaction(db, mode, storeNames, fn); });\n    }\n    else {\n        var trans = db._createTransaction(mode, storeNames, db._dbSchema);\n        try {\n            trans.create();\n        }\n        catch (ex) {\n            return rejection(ex);\n        }\n        return trans._promise(mode, function (resolve, reject) {\n            return newScope(function () {\n                PSD.trans = trans;\n                return fn(resolve, reject, trans);\n            });\n        }).then(function (result) {\n            return trans._completion.then(function () { return result; });\n        });\n    }\n}\n\nvar DEXIE_VERSION = '3.0.3';\nvar maxString = String.fromCharCode(65535);\nvar minKey = -Infinity;\nvar INVALID_KEY_ARGUMENT = \"Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.\";\nvar STRING_EXPECTED = \"String expected.\";\nvar connections = [];\nvar isIEOrEdge = typeof navigator !== 'undefined' && /(MSIE|Trident|Edge)/.test(navigator.userAgent);\nvar hasIEDeleteObjectStoreBug = isIEOrEdge;\nvar hangsOnDeleteLargeKeyRange = isIEOrEdge;\nvar dexieStackFrameFilter = function (frame) { return !/(dexie\\.js|dexie\\.min\\.js)/.test(frame); };\nvar DBNAMES_DB = '__dbnames';\nvar READONLY = 'readonly';\nvar READWRITE = 'readwrite';\n\nfunction combine(filter1, filter2) {\n    return filter1 ?\n        filter2 ?\n            function () { return filter1.apply(this, arguments) && filter2.apply(this, arguments); } :\n            filter1 :\n        filter2;\n}\n\nvar AnyRange = {\n    type: 3          ,\n    lower: -Infinity,\n    lowerOpen: false,\n    upper: [[]],\n    upperOpen: false\n};\n\nfunction workaroundForUndefinedPrimKey(keyPath) {\n    return function (obj) {\n        if (getByKeyPath(obj, keyPath) === undefined) {\n            obj = deepClone(obj);\n            delByKeyPath(obj, keyPath);\n        }\n        return obj;\n    };\n}\n\nvar Table =               (function () {\n    function Table() {\n    }\n    Table.prototype._trans = function (mode, fn, writeLocked) {\n        var trans = this._tx || PSD.trans;\n        var tableName = this.name;\n        function checkTableInTransaction(resolve, reject, trans) {\n            if (!trans.schema[tableName])\n                throw new exceptions.NotFound(\"Table \" + tableName + \" not part of transaction\");\n            return fn(trans.idbtrans, trans);\n        }\n        var wasRootExec = beginMicroTickScope();\n        try {\n            return trans && trans.db === this.db ?\n                trans === PSD.trans ?\n                    trans._promise(mode, checkTableInTransaction, writeLocked) :\n                    newScope(function () { return trans._promise(mode, checkTableInTransaction, writeLocked); }, { trans: trans, transless: PSD.transless || PSD }) :\n                tempTransaction(this.db, mode, [this.name], checkTableInTransaction);\n        }\n        finally {\n            if (wasRootExec)\n                endMicroTickScope();\n        }\n    };\n    Table.prototype.get = function (keyOrCrit, cb) {\n        var _this = this;\n        if (keyOrCrit && keyOrCrit.constructor === Object)\n            return this.where(keyOrCrit).first(cb);\n        return this._trans('readonly', function (trans) {\n            return _this.core.get({ trans: trans, key: keyOrCrit })\n                .then(function (res) { return _this.hook.reading.fire(res); });\n        }).then(cb);\n    };\n    Table.prototype.where = function (indexOrCrit) {\n        if (typeof indexOrCrit === 'string')\n            return new this.db.WhereClause(this, indexOrCrit);\n        if (isArray(indexOrCrit))\n            return new this.db.WhereClause(this, \"[\" + indexOrCrit.join('+') + \"]\");\n        var keyPaths = keys(indexOrCrit);\n        if (keyPaths.length === 1)\n            return this\n                .where(keyPaths[0])\n                .equals(indexOrCrit[keyPaths[0]]);\n        var compoundIndex = this.schema.indexes.concat(this.schema.primKey).filter(function (ix) {\n            return ix.compound &&\n                keyPaths.every(function (keyPath) { return ix.keyPath.indexOf(keyPath) >= 0; }) &&\n                ix.keyPath.every(function (keyPath) { return keyPaths.indexOf(keyPath) >= 0; });\n        })[0];\n        if (compoundIndex && this.db._maxKey !== maxString)\n            return this\n                .where(compoundIndex.name)\n                .equals(compoundIndex.keyPath.map(function (kp) { return indexOrCrit[kp]; }));\n        if (!compoundIndex && debug)\n            console.warn(\"The query \" + JSON.stringify(indexOrCrit) + \" on \" + this.name + \" would benefit of a \" +\n                (\"compound index [\" + keyPaths.join('+') + \"]\"));\n        var idxByName = this.schema.idxByName;\n        var idb = this.db._deps.indexedDB;\n        function equals(a, b) {\n            try {\n                return idb.cmp(a, b) === 0;\n            }\n            catch (e) {\n                return false;\n            }\n        }\n        var _a = keyPaths.reduce(function (_a, keyPath) {\n            var prevIndex = _a[0], prevFilterFn = _a[1];\n            var index = idxByName[keyPath];\n            var value = indexOrCrit[keyPath];\n            return [\n                prevIndex || index,\n                prevIndex || !index ?\n                    combine(prevFilterFn, index && index.multi ?\n                        function (x) {\n                            var prop = getByKeyPath(x, keyPath);\n                            return isArray(prop) && prop.some(function (item) { return equals(value, item); });\n                        } : function (x) { return equals(value, getByKeyPath(x, keyPath)); })\n                    : prevFilterFn\n            ];\n        }, [null, null]), idx = _a[0], filterFunction = _a[1];\n        return idx ?\n            this.where(idx.name).equals(indexOrCrit[idx.keyPath])\n                .filter(filterFunction) :\n            compoundIndex ?\n                this.filter(filterFunction) :\n                this.where(keyPaths).equals('');\n    };\n    Table.prototype.filter = function (filterFunction) {\n        return this.toCollection().and(filterFunction);\n    };\n    Table.prototype.count = function (thenShortcut) {\n        return this.toCollection().count(thenShortcut);\n    };\n    Table.prototype.offset = function (offset) {\n        return this.toCollection().offset(offset);\n    };\n    Table.prototype.limit = function (numRows) {\n        return this.toCollection().limit(numRows);\n    };\n    Table.prototype.each = function (callback) {\n        return this.toCollection().each(callback);\n    };\n    Table.prototype.toArray = function (thenShortcut) {\n        return this.toCollection().toArray(thenShortcut);\n    };\n    Table.prototype.toCollection = function () {\n        return new this.db.Collection(new this.db.WhereClause(this));\n    };\n    Table.prototype.orderBy = function (index) {\n        return new this.db.Collection(new this.db.WhereClause(this, isArray(index) ?\n            \"[\" + index.join('+') + \"]\" :\n            index));\n    };\n    Table.prototype.reverse = function () {\n        return this.toCollection().reverse();\n    };\n    Table.prototype.mapToClass = function (constructor) {\n        this.schema.mappedClass = constructor;\n        var readHook = function (obj) {\n            if (!obj)\n                return obj;\n            var res = Object.create(constructor.prototype);\n            for (var m in obj)\n                if (hasOwn(obj, m))\n                    try {\n                        res[m] = obj[m];\n                    }\n                    catch (_) { }\n            return res;\n        };\n        if (this.schema.readHook) {\n            this.hook.reading.unsubscribe(this.schema.readHook);\n        }\n        this.schema.readHook = readHook;\n        this.hook(\"reading\", readHook);\n        return constructor;\n    };\n    Table.prototype.defineClass = function () {\n        function Class(content) {\n            extend(this, content);\n        }\n        \n        return this.mapToClass(Class);\n    };\n    Table.prototype.add = function (obj, key) {\n        var _this = this;\n        var _a = this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;\n        var objToAdd = obj;\n        if (keyPath && auto) {\n            objToAdd = workaroundForUndefinedPrimKey(keyPath)(obj);\n        }\n        return this._trans('readwrite', function (trans) {\n            return _this.core.mutate({ trans: trans, type: 'add', keys: key != null ? [key] : null, values: [objToAdd] });\n        }).then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : res.lastResult; })\n            .then(function (lastResult) {\n            if (keyPath) {\n                try {\n                    setByKeyPath(obj, keyPath, lastResult);\n                }\n                catch (_) { }\n                \n            }\n            return lastResult;\n        });\n    };\n    Table.prototype.update = function (keyOrObject, modifications) {\n        if (typeof modifications !== 'object' || isArray(modifications))\n            throw new exceptions.InvalidArgument(\"Modifications must be an object.\");\n        if (typeof keyOrObject === 'object' && !isArray(keyOrObject)) {\n            keys(modifications).forEach(function (keyPath) {\n                setByKeyPath(keyOrObject, keyPath, modifications[keyPath]);\n            });\n            var key = getByKeyPath(keyOrObject, this.schema.primKey.keyPath);\n            if (key === undefined)\n                return rejection(new exceptions.InvalidArgument(\"Given object does not contain its primary key\"));\n            return this.where(\":id\").equals(key).modify(modifications);\n        }\n        else {\n            return this.where(\":id\").equals(keyOrObject).modify(modifications);\n        }\n    };\n    Table.prototype.put = function (obj, key) {\n        var _this = this;\n        var _a = this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;\n        var objToAdd = obj;\n        if (keyPath && auto) {\n            objToAdd = workaroundForUndefinedPrimKey(keyPath)(obj);\n        }\n        return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'put', values: [objToAdd], keys: key != null ? [key] : null }); })\n            .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : res.lastResult; })\n            .then(function (lastResult) {\n            if (keyPath) {\n                try {\n                    setByKeyPath(obj, keyPath, lastResult);\n                }\n                catch (_) { }\n                \n            }\n            return lastResult;\n        });\n    };\n    Table.prototype.delete = function (key) {\n        var _this = this;\n        return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'delete', keys: [key] }); })\n            .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : undefined; });\n    };\n    Table.prototype.clear = function () {\n        var _this = this;\n        return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'deleteRange', range: AnyRange }); })\n            .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : undefined; });\n    };\n    Table.prototype.bulkGet = function (keys$$1) {\n        var _this = this;\n        return this._trans('readonly', function (trans) {\n            return _this.core.getMany({\n                keys: keys$$1,\n                trans: trans\n            }).then(function (result) { return result.map(function (res) { return _this.hook.reading.fire(res); }); });\n        });\n    };\n    Table.prototype.bulkAdd = function (objects, keysOrOptions, options) {\n        var _this = this;\n        var keys$$1 = Array.isArray(keysOrOptions) ? keysOrOptions : undefined;\n        options = options || (keys$$1 ? undefined : keysOrOptions);\n        var wantResults = options ? options.allKeys : undefined;\n        return this._trans('readwrite', function (trans) {\n            var _a = _this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;\n            if (keyPath && keys$$1)\n                throw new exceptions.InvalidArgument(\"bulkAdd(): keys argument invalid on tables with inbound keys\");\n            if (keys$$1 && keys$$1.length !== objects.length)\n                throw new exceptions.InvalidArgument(\"Arguments objects and keys must have the same length\");\n            var numObjects = objects.length;\n            var objectsToAdd = keyPath && auto ?\n                objects.map(workaroundForUndefinedPrimKey(keyPath)) :\n                objects;\n            return _this.core.mutate({ trans: trans, type: 'add', keys: keys$$1, values: objectsToAdd, wantResults: wantResults })\n                .then(function (_a) {\n                var numFailures = _a.numFailures, results = _a.results, lastResult = _a.lastResult, failures = _a.failures;\n                var result = wantResults ? results : lastResult;\n                if (numFailures === 0)\n                    return result;\n                throw new BulkError(_this.name + \".bulkAdd(): \" + numFailures + \" of \" + numObjects + \" operations failed\", Object.keys(failures).map(function (pos) { return failures[pos]; }));\n            });\n        });\n    };\n    Table.prototype.bulkPut = function (objects, keysOrOptions, options) {\n        var _this = this;\n        var keys$$1 = Array.isArray(keysOrOptions) ? keysOrOptions : undefined;\n        options = options || (keys$$1 ? undefined : keysOrOptions);\n        var wantResults = options ? options.allKeys : undefined;\n        return this._trans('readwrite', function (trans) {\n            var _a = _this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;\n            if (keyPath && keys$$1)\n                throw new exceptions.InvalidArgument(\"bulkPut(): keys argument invalid on tables with inbound keys\");\n            if (keys$$1 && keys$$1.length !== objects.length)\n                throw new exceptions.InvalidArgument(\"Arguments objects and keys must have the same length\");\n            var numObjects = objects.length;\n            var objectsToPut = keyPath && auto ?\n                objects.map(workaroundForUndefinedPrimKey(keyPath)) :\n                objects;\n            return _this.core.mutate({ trans: trans, type: 'put', keys: keys$$1, values: objectsToPut, wantResults: wantResults })\n                .then(function (_a) {\n                var numFailures = _a.numFailures, results = _a.results, lastResult = _a.lastResult, failures = _a.failures;\n                var result = wantResults ? results : lastResult;\n                if (numFailures === 0)\n                    return result;\n                throw new BulkError(_this.name + \".bulkPut(): \" + numFailures + \" of \" + numObjects + \" operations failed\", Object.keys(failures).map(function (pos) { return failures[pos]; }));\n            });\n        });\n    };\n    Table.prototype.bulkDelete = function (keys$$1) {\n        var _this = this;\n        var numKeys = keys$$1.length;\n        return this._trans('readwrite', function (trans) {\n            return _this.core.mutate({ trans: trans, type: 'delete', keys: keys$$1 });\n        }).then(function (_a) {\n            var numFailures = _a.numFailures, lastResult = _a.lastResult, failures = _a.failures;\n            if (numFailures === 0)\n                return lastResult;\n            throw new BulkError(_this.name + \".bulkDelete(): \" + numFailures + \" of \" + numKeys + \" operations failed\", failures);\n        });\n    };\n    return Table;\n}());\n\nfunction Events(ctx) {\n    var evs = {};\n    var rv = function (eventName, subscriber) {\n        if (subscriber) {\n            var i = arguments.length, args = new Array(i - 1);\n            while (--i)\n                args[i - 1] = arguments[i];\n            evs[eventName].subscribe.apply(null, args);\n            return ctx;\n        }\n        else if (typeof (eventName) === 'string') {\n            return evs[eventName];\n        }\n    };\n    rv.addEventType = add;\n    for (var i = 1, l = arguments.length; i < l; ++i) {\n        add(arguments[i]);\n    }\n    return rv;\n    function add(eventName, chainFunction, defaultFunction) {\n        if (typeof eventName === 'object')\n            return addConfiguredEvents(eventName);\n        if (!chainFunction)\n            chainFunction = reverseStoppableEventChain;\n        if (!defaultFunction)\n            defaultFunction = nop;\n        var context = {\n            subscribers: [],\n            fire: defaultFunction,\n            subscribe: function (cb) {\n                if (context.subscribers.indexOf(cb) === -1) {\n                    context.subscribers.push(cb);\n                    context.fire = chainFunction(context.fire, cb);\n                }\n            },\n            unsubscribe: function (cb) {\n                context.subscribers = context.subscribers.filter(function (fn) { return fn !== cb; });\n                context.fire = context.subscribers.reduce(chainFunction, defaultFunction);\n            }\n        };\n        evs[eventName] = rv[eventName] = context;\n        return context;\n    }\n    function addConfiguredEvents(cfg) {\n        keys(cfg).forEach(function (eventName) {\n            var args = cfg[eventName];\n            if (isArray(args)) {\n                add(eventName, cfg[eventName][0], cfg[eventName][1]);\n            }\n            else if (args === 'asap') {\n                var context = add(eventName, mirror, function fire() {\n                    var i = arguments.length, args = new Array(i);\n                    while (i--)\n                        args[i] = arguments[i];\n                    context.subscribers.forEach(function (fn) {\n                        asap(function fireEvent() {\n                            fn.apply(null, args);\n                        });\n                    });\n                });\n            }\n            else\n                throw new exceptions.InvalidArgument(\"Invalid event config\");\n        });\n    }\n}\n\nfunction makeClassConstructor(prototype, constructor) {\n    derive(constructor).from({ prototype: prototype });\n    return constructor;\n}\n\nfunction createTableConstructor(db) {\n    return makeClassConstructor(Table.prototype, function Table$$1(name, tableSchema, trans) {\n        this.db = db;\n        this._tx = trans;\n        this.name = name;\n        this.schema = tableSchema;\n        this.hook = db._allTables[name] ? db._allTables[name].hook : Events(null, {\n            \"creating\": [hookCreatingChain, nop],\n            \"reading\": [pureFunctionChain, mirror],\n            \"updating\": [hookUpdatingChain, nop],\n            \"deleting\": [hookDeletingChain, nop]\n        });\n    });\n}\n\nfunction isPlainKeyRange(ctx, ignoreLimitFilter) {\n    return !(ctx.filter || ctx.algorithm || ctx.or) &&\n        (ignoreLimitFilter ? ctx.justLimit : !ctx.replayFilter);\n}\nfunction addFilter(ctx, fn) {\n    ctx.filter = combine(ctx.filter, fn);\n}\nfunction addReplayFilter(ctx, factory, isLimitFilter) {\n    var curr = ctx.replayFilter;\n    ctx.replayFilter = curr ? function () { return combine(curr(), factory()); } : factory;\n    ctx.justLimit = isLimitFilter && !curr;\n}\nfunction addMatchFilter(ctx, fn) {\n    ctx.isMatch = combine(ctx.isMatch, fn);\n}\nfunction getIndexOrStore(ctx, coreSchema) {\n    if (ctx.isPrimKey)\n        return coreSchema.primaryKey;\n    var index = coreSchema.getIndexByKeyPath(ctx.index);\n    if (!index)\n        throw new exceptions.Schema(\"KeyPath \" + ctx.index + \" on object store \" + coreSchema.name + \" is not indexed\");\n    return index;\n}\nfunction openCursor(ctx, coreTable, trans) {\n    var index = getIndexOrStore(ctx, coreTable.schema);\n    return coreTable.openCursor({\n        trans: trans,\n        values: !ctx.keysOnly,\n        reverse: ctx.dir === 'prev',\n        unique: !!ctx.unique,\n        query: {\n            index: index,\n            range: ctx.range\n        }\n    });\n}\nfunction iter(ctx, fn, coreTrans, coreTable) {\n    var filter = ctx.replayFilter ? combine(ctx.filter, ctx.replayFilter()) : ctx.filter;\n    if (!ctx.or) {\n        return iterate(openCursor(ctx, coreTable, coreTrans), combine(ctx.algorithm, filter), fn, !ctx.keysOnly && ctx.valueMapper);\n    }\n    else {\n        var set_1 = {};\n        var union = function (item, cursor, advance) {\n            if (!filter || filter(cursor, advance, function (result) { return cursor.stop(result); }, function (err) { return cursor.fail(err); })) {\n                var primaryKey = cursor.primaryKey;\n                var key = '' + primaryKey;\n                if (key === '[object ArrayBuffer]')\n                    key = '' + new Uint8Array(primaryKey);\n                if (!hasOwn(set_1, key)) {\n                    set_1[key] = true;\n                    fn(item, cursor, advance);\n                }\n            }\n        };\n        return Promise.all([\n            ctx.or._iterate(union, coreTrans),\n            iterate(openCursor(ctx, coreTable, coreTrans), ctx.algorithm, union, !ctx.keysOnly && ctx.valueMapper)\n        ]);\n    }\n}\nfunction iterate(cursorPromise, filter, fn, valueMapper) {\n    var mappedFn = valueMapper ? function (x, c, a) { return fn(valueMapper(x), c, a); } : fn;\n    var wrappedFn = wrap(mappedFn);\n    return cursorPromise.then(function (cursor) {\n        if (cursor) {\n            return cursor.start(function () {\n                var c = function () { return cursor.continue(); };\n                if (!filter || filter(cursor, function (advancer) { return c = advancer; }, function (val) { cursor.stop(val); c = nop; }, function (e) { cursor.fail(e); c = nop; }))\n                    wrappedFn(cursor.value, cursor, function (advancer) { return c = advancer; });\n                c();\n            });\n        }\n    });\n}\n\nvar Collection =               (function () {\n    function Collection() {\n    }\n    Collection.prototype._read = function (fn, cb) {\n        var ctx = this._ctx;\n        return ctx.error ?\n            ctx.table._trans(null, rejection.bind(null, ctx.error)) :\n            ctx.table._trans('readonly', fn).then(cb);\n    };\n    Collection.prototype._write = function (fn) {\n        var ctx = this._ctx;\n        return ctx.error ?\n            ctx.table._trans(null, rejection.bind(null, ctx.error)) :\n            ctx.table._trans('readwrite', fn, \"locked\");\n    };\n    Collection.prototype._addAlgorithm = function (fn) {\n        var ctx = this._ctx;\n        ctx.algorithm = combine(ctx.algorithm, fn);\n    };\n    Collection.prototype._iterate = function (fn, coreTrans) {\n        return iter(this._ctx, fn, coreTrans, this._ctx.table.core);\n    };\n    Collection.prototype.clone = function (props$$1) {\n        var rv = Object.create(this.constructor.prototype), ctx = Object.create(this._ctx);\n        if (props$$1)\n            extend(ctx, props$$1);\n        rv._ctx = ctx;\n        return rv;\n    };\n    Collection.prototype.raw = function () {\n        this._ctx.valueMapper = null;\n        return this;\n    };\n    Collection.prototype.each = function (fn) {\n        var ctx = this._ctx;\n        return this._read(function (trans) { return iter(ctx, fn, trans, ctx.table.core); });\n    };\n    Collection.prototype.count = function (cb) {\n        var _this = this;\n        return this._read(function (trans) {\n            var ctx = _this._ctx;\n            var coreTable = ctx.table.core;\n            if (isPlainKeyRange(ctx, true)) {\n                return coreTable.count({\n                    trans: trans,\n                    query: {\n                        index: getIndexOrStore(ctx, coreTable.schema),\n                        range: ctx.range\n                    }\n                }).then(function (count) { return Math.min(count, ctx.limit); });\n            }\n            else {\n                var count = 0;\n                return iter(ctx, function () { ++count; return false; }, trans, coreTable)\n                    .then(function () { return count; });\n            }\n        }).then(cb);\n    };\n    Collection.prototype.sortBy = function (keyPath, cb) {\n        var parts = keyPath.split('.').reverse(), lastPart = parts[0], lastIndex = parts.length - 1;\n        function getval(obj, i) {\n            if (i)\n                return getval(obj[parts[i]], i - 1);\n            return obj[lastPart];\n        }\n        var order = this._ctx.dir === \"next\" ? 1 : -1;\n        function sorter(a, b) {\n            var aVal = getval(a, lastIndex), bVal = getval(b, lastIndex);\n            return aVal < bVal ? -order : aVal > bVal ? order : 0;\n        }\n        return this.toArray(function (a) {\n            return a.sort(sorter);\n        }).then(cb);\n    };\n    Collection.prototype.toArray = function (cb) {\n        var _this = this;\n        return this._read(function (trans) {\n            var ctx = _this._ctx;\n            if (ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {\n                var valueMapper_1 = ctx.valueMapper;\n                var index = getIndexOrStore(ctx, ctx.table.core.schema);\n                return ctx.table.core.query({\n                    trans: trans,\n                    limit: ctx.limit,\n                    values: true,\n                    query: {\n                        index: index,\n                        range: ctx.range\n                    }\n                }).then(function (_a) {\n                    var result = _a.result;\n                    return valueMapper_1 ? result.map(valueMapper_1) : result;\n                });\n            }\n            else {\n                var a_1 = [];\n                return iter(ctx, function (item) { return a_1.push(item); }, trans, ctx.table.core).then(function () { return a_1; });\n            }\n        }, cb);\n    };\n    Collection.prototype.offset = function (offset) {\n        var ctx = this._ctx;\n        if (offset <= 0)\n            return this;\n        ctx.offset += offset;\n        if (isPlainKeyRange(ctx)) {\n            addReplayFilter(ctx, function () {\n                var offsetLeft = offset;\n                return function (cursor, advance) {\n                    if (offsetLeft === 0)\n                        return true;\n                    if (offsetLeft === 1) {\n                        --offsetLeft;\n                        return false;\n                    }\n                    advance(function () {\n                        cursor.advance(offsetLeft);\n                        offsetLeft = 0;\n                    });\n                    return false;\n                };\n            });\n        }\n        else {\n            addReplayFilter(ctx, function () {\n                var offsetLeft = offset;\n                return function () { return (--offsetLeft < 0); };\n            });\n        }\n        return this;\n    };\n    Collection.prototype.limit = function (numRows) {\n        this._ctx.limit = Math.min(this._ctx.limit, numRows);\n        addReplayFilter(this._ctx, function () {\n            var rowsLeft = numRows;\n            return function (cursor, advance, resolve) {\n                if (--rowsLeft <= 0)\n                    advance(resolve);\n                return rowsLeft >= 0;\n            };\n        }, true);\n        return this;\n    };\n    Collection.prototype.until = function (filterFunction, bIncludeStopEntry) {\n        addFilter(this._ctx, function (cursor, advance, resolve) {\n            if (filterFunction(cursor.value)) {\n                advance(resolve);\n                return bIncludeStopEntry;\n            }\n            else {\n                return true;\n            }\n        });\n        return this;\n    };\n    Collection.prototype.first = function (cb) {\n        return this.limit(1).toArray(function (a) { return a[0]; }).then(cb);\n    };\n    Collection.prototype.last = function (cb) {\n        return this.reverse().first(cb);\n    };\n    Collection.prototype.filter = function (filterFunction) {\n        addFilter(this._ctx, function (cursor) {\n            return filterFunction(cursor.value);\n        });\n        addMatchFilter(this._ctx, filterFunction);\n        return this;\n    };\n    Collection.prototype.and = function (filter) {\n        return this.filter(filter);\n    };\n    Collection.prototype.or = function (indexName) {\n        return new this.db.WhereClause(this._ctx.table, indexName, this);\n    };\n    Collection.prototype.reverse = function () {\n        this._ctx.dir = (this._ctx.dir === \"prev\" ? \"next\" : \"prev\");\n        if (this._ondirectionchange)\n            this._ondirectionchange(this._ctx.dir);\n        return this;\n    };\n    Collection.prototype.desc = function () {\n        return this.reverse();\n    };\n    Collection.prototype.eachKey = function (cb) {\n        var ctx = this._ctx;\n        ctx.keysOnly = !ctx.isMatch;\n        return this.each(function (val, cursor) { cb(cursor.key, cursor); });\n    };\n    Collection.prototype.eachUniqueKey = function (cb) {\n        this._ctx.unique = \"unique\";\n        return this.eachKey(cb);\n    };\n    Collection.prototype.eachPrimaryKey = function (cb) {\n        var ctx = this._ctx;\n        ctx.keysOnly = !ctx.isMatch;\n        return this.each(function (val, cursor) { cb(cursor.primaryKey, cursor); });\n    };\n    Collection.prototype.keys = function (cb) {\n        var ctx = this._ctx;\n        ctx.keysOnly = !ctx.isMatch;\n        var a = [];\n        return this.each(function (item, cursor) {\n            a.push(cursor.key);\n        }).then(function () {\n            return a;\n        }).then(cb);\n    };\n    Collection.prototype.primaryKeys = function (cb) {\n        var ctx = this._ctx;\n        if (ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {\n            return this._read(function (trans) {\n                var index = getIndexOrStore(ctx, ctx.table.core.schema);\n                return ctx.table.core.query({\n                    trans: trans,\n                    values: false,\n                    limit: ctx.limit,\n                    query: {\n                        index: index,\n                        range: ctx.range\n                    }\n                });\n            }).then(function (_a) {\n                var result = _a.result;\n                return result;\n            }).then(cb);\n        }\n        ctx.keysOnly = !ctx.isMatch;\n        var a = [];\n        return this.each(function (item, cursor) {\n            a.push(cursor.primaryKey);\n        }).then(function () {\n            return a;\n        }).then(cb);\n    };\n    Collection.prototype.uniqueKeys = function (cb) {\n        this._ctx.unique = \"unique\";\n        return this.keys(cb);\n    };\n    Collection.prototype.firstKey = function (cb) {\n        return this.limit(1).keys(function (a) { return a[0]; }).then(cb);\n    };\n    Collection.prototype.lastKey = function (cb) {\n        return this.reverse().firstKey(cb);\n    };\n    Collection.prototype.distinct = function () {\n        var ctx = this._ctx, idx = ctx.index && ctx.table.schema.idxByName[ctx.index];\n        if (!idx || !idx.multi)\n            return this;\n        var set = {};\n        addFilter(this._ctx, function (cursor) {\n            var strKey = cursor.primaryKey.toString();\n            var found = hasOwn(set, strKey);\n            set[strKey] = true;\n            return !found;\n        });\n        return this;\n    };\n    Collection.prototype.modify = function (changes) {\n        var _this = this;\n        var ctx = this._ctx;\n        return this._write(function (trans) {\n            var modifyer;\n            if (typeof changes === 'function') {\n                modifyer = changes;\n            }\n            else {\n                var keyPaths = keys(changes);\n                var numKeys = keyPaths.length;\n                modifyer = function (item) {\n                    var anythingModified = false;\n                    for (var i = 0; i < numKeys; ++i) {\n                        var keyPath = keyPaths[i], val = changes[keyPath];\n                        if (getByKeyPath(item, keyPath) !== val) {\n                            setByKeyPath(item, keyPath, val);\n                            anythingModified = true;\n                        }\n                    }\n                    return anythingModified;\n                };\n            }\n            var coreTable = ctx.table.core;\n            var _a = coreTable.schema.primaryKey, outbound = _a.outbound, extractKey = _a.extractKey;\n            var limit = 'testmode' in Dexie ? 1 : 2000;\n            var cmp = _this.db.core.cmp;\n            var totalFailures = [];\n            var successCount = 0;\n            var failedKeys = [];\n            var applyMutateResult = function (expectedCount, res) {\n                var failures = res.failures, numFailures = res.numFailures;\n                successCount += expectedCount - numFailures;\n                for (var _i = 0, _a = keys(failures); _i < _a.length; _i++) {\n                    var pos = _a[_i];\n                    totalFailures.push(failures[pos]);\n                }\n            };\n            return _this.clone().primaryKeys().then(function (keys$$1) {\n                var nextChunk = function (offset) {\n                    var count = Math.min(limit, keys$$1.length - offset);\n                    return coreTable.getMany({ trans: trans, keys: keys$$1.slice(offset, offset + count) }).then(function (values) {\n                        var addValues = [];\n                        var putValues = [];\n                        var putKeys = outbound ? [] : null;\n                        var deleteKeys = [];\n                        for (var i = 0; i < count; ++i) {\n                            var origValue = values[i];\n                            var ctx_1 = {\n                                value: deepClone(origValue),\n                                primKey: keys$$1[offset + i]\n                            };\n                            if (modifyer.call(ctx_1, ctx_1.value, ctx_1) !== false) {\n                                if (ctx_1.value == null) {\n                                    deleteKeys.push(keys$$1[offset + i]);\n                                }\n                                else if (!outbound && cmp(extractKey(origValue), extractKey(ctx_1.value)) !== 0) {\n                                    deleteKeys.push(keys$$1[offset + i]);\n                                    addValues.push(ctx_1.value);\n                                }\n                                else {\n                                    putValues.push(ctx_1.value);\n                                    if (outbound)\n                                        putKeys.push(keys$$1[offset + i]);\n                                }\n                            }\n                        }\n                        return Promise.resolve(addValues.length > 0 &&\n                            coreTable.mutate({ trans: trans, type: 'add', values: addValues })\n                                .then(function (res) {\n                                for (var pos in res.failures) {\n                                    deleteKeys.splice(parseInt(pos), 1);\n                                }\n                                applyMutateResult(addValues.length, res);\n                            })).then(function (res) { return putValues.length > 0 &&\n                            coreTable.mutate({ trans: trans, type: 'put', keys: putKeys, values: putValues })\n                                .then(function (res) { return applyMutateResult(putValues.length, res); }); }).then(function () { return deleteKeys.length > 0 &&\n                            coreTable.mutate({ trans: trans, type: 'delete', keys: deleteKeys })\n                                .then(function (res) { return applyMutateResult(deleteKeys.length, res); }); }).then(function () {\n                            return keys$$1.length > offset + count && nextChunk(offset + limit);\n                        });\n                    });\n                };\n                return nextChunk(0).then(function () {\n                    if (totalFailures.length > 0)\n                        throw new ModifyError(\"Error modifying one or more objects\", totalFailures, successCount, failedKeys);\n                    return keys$$1.length;\n                });\n            });\n        });\n    };\n    Collection.prototype.delete = function () {\n        var ctx = this._ctx, range = ctx.range;\n        if (isPlainKeyRange(ctx) &&\n            ((ctx.isPrimKey && !hangsOnDeleteLargeKeyRange) || range.type === 3          ))\n         {\n            return this._write(function (trans) {\n                var primaryKey = ctx.table.core.schema.primaryKey;\n                var coreRange = range;\n                return ctx.table.core.count({ trans: trans, query: { index: primaryKey, range: coreRange } }).then(function (count) {\n                    return ctx.table.core.mutate({ trans: trans, type: 'deleteRange', range: coreRange })\n                        .then(function (_a) {\n                        var failures = _a.failures, lastResult = _a.lastResult, results = _a.results, numFailures = _a.numFailures;\n                        if (numFailures)\n                            throw new ModifyError(\"Could not delete some values\", Object.keys(failures).map(function (pos) { return failures[pos]; }), count - numFailures);\n                        return count - numFailures;\n                    });\n                });\n            });\n        }\n        return this.modify(function (value, ctx) { return ctx.value = null; });\n    };\n    return Collection;\n}());\n\nfunction createCollectionConstructor(db) {\n    return makeClassConstructor(Collection.prototype, function Collection$$1(whereClause, keyRangeGenerator) {\n        this.db = db;\n        var keyRange = AnyRange, error = null;\n        if (keyRangeGenerator)\n            try {\n                keyRange = keyRangeGenerator();\n            }\n            catch (ex) {\n                error = ex;\n            }\n        var whereCtx = whereClause._ctx;\n        var table = whereCtx.table;\n        var readingHook = table.hook.reading.fire;\n        this._ctx = {\n            table: table,\n            index: whereCtx.index,\n            isPrimKey: (!whereCtx.index || (table.schema.primKey.keyPath && whereCtx.index === table.schema.primKey.name)),\n            range: keyRange,\n            keysOnly: false,\n            dir: \"next\",\n            unique: \"\",\n            algorithm: null,\n            filter: null,\n            replayFilter: null,\n            justLimit: true,\n            isMatch: null,\n            offset: 0,\n            limit: Infinity,\n            error: error,\n            or: whereCtx.or,\n            valueMapper: readingHook !== mirror ? readingHook : null\n        };\n    });\n}\n\nfunction simpleCompare(a, b) {\n    return a < b ? -1 : a === b ? 0 : 1;\n}\nfunction simpleCompareReverse(a, b) {\n    return a > b ? -1 : a === b ? 0 : 1;\n}\n\nfunction fail(collectionOrWhereClause, err, T) {\n    var collection = collectionOrWhereClause instanceof WhereClause ?\n        new collectionOrWhereClause.Collection(collectionOrWhereClause) :\n        collectionOrWhereClause;\n    collection._ctx.error = T ? new T(err) : new TypeError(err);\n    return collection;\n}\nfunction emptyCollection(whereClause) {\n    return new whereClause.Collection(whereClause, function () { return rangeEqual(\"\"); }).limit(0);\n}\nfunction upperFactory(dir) {\n    return dir === \"next\" ?\n        function (s) { return s.toUpperCase(); } :\n        function (s) { return s.toLowerCase(); };\n}\nfunction lowerFactory(dir) {\n    return dir === \"next\" ?\n        function (s) { return s.toLowerCase(); } :\n        function (s) { return s.toUpperCase(); };\n}\nfunction nextCasing(key, lowerKey, upperNeedle, lowerNeedle, cmp, dir) {\n    var length = Math.min(key.length, lowerNeedle.length);\n    var llp = -1;\n    for (var i = 0; i < length; ++i) {\n        var lwrKeyChar = lowerKey[i];\n        if (lwrKeyChar !== lowerNeedle[i]) {\n            if (cmp(key[i], upperNeedle[i]) < 0)\n                return key.substr(0, i) + upperNeedle[i] + upperNeedle.substr(i + 1);\n            if (cmp(key[i], lowerNeedle[i]) < 0)\n                return key.substr(0, i) + lowerNeedle[i] + upperNeedle.substr(i + 1);\n            if (llp >= 0)\n                return key.substr(0, llp) + lowerKey[llp] + upperNeedle.substr(llp + 1);\n            return null;\n        }\n        if (cmp(key[i], lwrKeyChar) < 0)\n            llp = i;\n    }\n    if (length < lowerNeedle.length && dir === \"next\")\n        return key + upperNeedle.substr(key.length);\n    if (length < key.length && dir === \"prev\")\n        return key.substr(0, upperNeedle.length);\n    return (llp < 0 ? null : key.substr(0, llp) + lowerNeedle[llp] + upperNeedle.substr(llp + 1));\n}\nfunction addIgnoreCaseAlgorithm(whereClause, match, needles, suffix) {\n    var upper, lower, compare, upperNeedles, lowerNeedles, direction, nextKeySuffix, needlesLen = needles.length;\n    if (!needles.every(function (s) { return typeof s === 'string'; })) {\n        return fail(whereClause, STRING_EXPECTED);\n    }\n    function initDirection(dir) {\n        upper = upperFactory(dir);\n        lower = lowerFactory(dir);\n        compare = (dir === \"next\" ? simpleCompare : simpleCompareReverse);\n        var needleBounds = needles.map(function (needle) {\n            return { lower: lower(needle), upper: upper(needle) };\n        }).sort(function (a, b) {\n            return compare(a.lower, b.lower);\n        });\n        upperNeedles = needleBounds.map(function (nb) { return nb.upper; });\n        lowerNeedles = needleBounds.map(function (nb) { return nb.lower; });\n        direction = dir;\n        nextKeySuffix = (dir === \"next\" ? \"\" : suffix);\n    }\n    initDirection(\"next\");\n    var c = new whereClause.Collection(whereClause, function () { return createRange(upperNeedles[0], lowerNeedles[needlesLen - 1] + suffix); });\n    c._ondirectionchange = function (direction) {\n        initDirection(direction);\n    };\n    var firstPossibleNeedle = 0;\n    c._addAlgorithm(function (cursor, advance, resolve) {\n        var key = cursor.key;\n        if (typeof key !== 'string')\n            return false;\n        var lowerKey = lower(key);\n        if (match(lowerKey, lowerNeedles, firstPossibleNeedle)) {\n            return true;\n        }\n        else {\n            var lowestPossibleCasing = null;\n            for (var i = firstPossibleNeedle; i < needlesLen; ++i) {\n                var casing = nextCasing(key, lowerKey, upperNeedles[i], lowerNeedles[i], compare, direction);\n                if (casing === null && lowestPossibleCasing === null)\n                    firstPossibleNeedle = i + 1;\n                else if (lowestPossibleCasing === null || compare(lowestPossibleCasing, casing) > 0) {\n                    lowestPossibleCasing = casing;\n                }\n            }\n            if (lowestPossibleCasing !== null) {\n                advance(function () { cursor.continue(lowestPossibleCasing + nextKeySuffix); });\n            }\n            else {\n                advance(resolve);\n            }\n            return false;\n        }\n    });\n    return c;\n}\nfunction createRange(lower, upper, lowerOpen, upperOpen) {\n    return {\n        type: 2            ,\n        lower: lower,\n        upper: upper,\n        lowerOpen: lowerOpen,\n        upperOpen: upperOpen\n    };\n}\nfunction rangeEqual(value) {\n    return {\n        type: 1            ,\n        lower: value,\n        upper: value\n    };\n}\n\nvar WhereClause =               (function () {\n    function WhereClause() {\n    }\n    Object.defineProperty(WhereClause.prototype, \"Collection\", {\n        get: function () {\n            return this._ctx.table.db.Collection;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    WhereClause.prototype.between = function (lower, upper, includeLower, includeUpper) {\n        includeLower = includeLower !== false;\n        includeUpper = includeUpper === true;\n        try {\n            if ((this._cmp(lower, upper) > 0) ||\n                (this._cmp(lower, upper) === 0 && (includeLower || includeUpper) && !(includeLower && includeUpper)))\n                return emptyCollection(this);\n            return new this.Collection(this, function () { return createRange(lower, upper, !includeLower, !includeUpper); });\n        }\n        catch (e) {\n            return fail(this, INVALID_KEY_ARGUMENT);\n        }\n    };\n    WhereClause.prototype.equals = function (value) {\n        if (value == null)\n            return fail(this, INVALID_KEY_ARGUMENT);\n        return new this.Collection(this, function () { return rangeEqual(value); });\n    };\n    WhereClause.prototype.above = function (value) {\n        if (value == null)\n            return fail(this, INVALID_KEY_ARGUMENT);\n        return new this.Collection(this, function () { return createRange(value, undefined, true); });\n    };\n    WhereClause.prototype.aboveOrEqual = function (value) {\n        if (value == null)\n            return fail(this, INVALID_KEY_ARGUMENT);\n        return new this.Collection(this, function () { return createRange(value, undefined, false); });\n    };\n    WhereClause.prototype.below = function (value) {\n        if (value == null)\n            return fail(this, INVALID_KEY_ARGUMENT);\n        return new this.Collection(this, function () { return createRange(undefined, value, false, true); });\n    };\n    WhereClause.prototype.belowOrEqual = function (value) {\n        if (value == null)\n            return fail(this, INVALID_KEY_ARGUMENT);\n        return new this.Collection(this, function () { return createRange(undefined, value); });\n    };\n    WhereClause.prototype.startsWith = function (str) {\n        if (typeof str !== 'string')\n            return fail(this, STRING_EXPECTED);\n        return this.between(str, str + maxString, true, true);\n    };\n    WhereClause.prototype.startsWithIgnoreCase = function (str) {\n        if (str === \"\")\n            return this.startsWith(str);\n        return addIgnoreCaseAlgorithm(this, function (x, a) { return x.indexOf(a[0]) === 0; }, [str], maxString);\n    };\n    WhereClause.prototype.equalsIgnoreCase = function (str) {\n        return addIgnoreCaseAlgorithm(this, function (x, a) { return x === a[0]; }, [str], \"\");\n    };\n    WhereClause.prototype.anyOfIgnoreCase = function () {\n        var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n        if (set.length === 0)\n            return emptyCollection(this);\n        return addIgnoreCaseAlgorithm(this, function (x, a) { return a.indexOf(x) !== -1; }, set, \"\");\n    };\n    WhereClause.prototype.startsWithAnyOfIgnoreCase = function () {\n        var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n        if (set.length === 0)\n            return emptyCollection(this);\n        return addIgnoreCaseAlgorithm(this, function (x, a) { return a.some(function (n) { return x.indexOf(n) === 0; }); }, set, maxString);\n    };\n    WhereClause.prototype.anyOf = function () {\n        var _this = this;\n        var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n        var compare = this._cmp;\n        try {\n            set.sort(compare);\n        }\n        catch (e) {\n            return fail(this, INVALID_KEY_ARGUMENT);\n        }\n        if (set.length === 0)\n            return emptyCollection(this);\n        var c = new this.Collection(this, function () { return createRange(set[0], set[set.length - 1]); });\n        c._ondirectionchange = function (direction) {\n            compare = (direction === \"next\" ?\n                _this._ascending :\n                _this._descending);\n            set.sort(compare);\n        };\n        var i = 0;\n        c._addAlgorithm(function (cursor, advance, resolve) {\n            var key = cursor.key;\n            while (compare(key, set[i]) > 0) {\n                ++i;\n                if (i === set.length) {\n                    advance(resolve);\n                    return false;\n                }\n            }\n            if (compare(key, set[i]) === 0) {\n                return true;\n            }\n            else {\n                advance(function () { cursor.continue(set[i]); });\n                return false;\n            }\n        });\n        return c;\n    };\n    WhereClause.prototype.notEqual = function (value) {\n        return this.inAnyRange([[minKey, value], [value, this.db._maxKey]], { includeLowers: false, includeUppers: false });\n    };\n    WhereClause.prototype.noneOf = function () {\n        var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n        if (set.length === 0)\n            return new this.Collection(this);\n        try {\n            set.sort(this._ascending);\n        }\n        catch (e) {\n            return fail(this, INVALID_KEY_ARGUMENT);\n        }\n        var ranges = set.reduce(function (res, val) { return res ?\n            res.concat([[res[res.length - 1][1], val]]) :\n            [[minKey, val]]; }, null);\n        ranges.push([set[set.length - 1], this.db._maxKey]);\n        return this.inAnyRange(ranges, { includeLowers: false, includeUppers: false });\n    };\n    WhereClause.prototype.inAnyRange = function (ranges, options) {\n        var _this = this;\n        var cmp = this._cmp, ascending = this._ascending, descending = this._descending, min = this._min, max = this._max;\n        if (ranges.length === 0)\n            return emptyCollection(this);\n        if (!ranges.every(function (range) {\n            return range[0] !== undefined &&\n                range[1] !== undefined &&\n                ascending(range[0], range[1]) <= 0;\n        })) {\n            return fail(this, \"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower\", exceptions.InvalidArgument);\n        }\n        var includeLowers = !options || options.includeLowers !== false;\n        var includeUppers = options && options.includeUppers === true;\n        function addRange(ranges, newRange) {\n            var i = 0, l = ranges.length;\n            for (; i < l; ++i) {\n                var range = ranges[i];\n                if (cmp(newRange[0], range[1]) < 0 && cmp(newRange[1], range[0]) > 0) {\n                    range[0] = min(range[0], newRange[0]);\n                    range[1] = max(range[1], newRange[1]);\n                    break;\n                }\n            }\n            if (i === l)\n                ranges.push(newRange);\n            return ranges;\n        }\n        var sortDirection = ascending;\n        function rangeSorter(a, b) { return sortDirection(a[0], b[0]); }\n        var set;\n        try {\n            set = ranges.reduce(addRange, []);\n            set.sort(rangeSorter);\n        }\n        catch (ex) {\n            return fail(this, INVALID_KEY_ARGUMENT);\n        }\n        var rangePos = 0;\n        var keyIsBeyondCurrentEntry = includeUppers ?\n            function (key) { return ascending(key, set[rangePos][1]) > 0; } :\n            function (key) { return ascending(key, set[rangePos][1]) >= 0; };\n        var keyIsBeforeCurrentEntry = includeLowers ?\n            function (key) { return descending(key, set[rangePos][0]) > 0; } :\n            function (key) { return descending(key, set[rangePos][0]) >= 0; };\n        function keyWithinCurrentRange(key) {\n            return !keyIsBeyondCurrentEntry(key) && !keyIsBeforeCurrentEntry(key);\n        }\n        var checkKey = keyIsBeyondCurrentEntry;\n        var c = new this.Collection(this, function () { return createRange(set[0][0], set[set.length - 1][1], !includeLowers, !includeUppers); });\n        c._ondirectionchange = function (direction) {\n            if (direction === \"next\") {\n                checkKey = keyIsBeyondCurrentEntry;\n                sortDirection = ascending;\n            }\n            else {\n                checkKey = keyIsBeforeCurrentEntry;\n                sortDirection = descending;\n            }\n            set.sort(rangeSorter);\n        };\n        c._addAlgorithm(function (cursor, advance, resolve) {\n            var key = cursor.key;\n            while (checkKey(key)) {\n                ++rangePos;\n                if (rangePos === set.length) {\n                    advance(resolve);\n                    return false;\n                }\n            }\n            if (keyWithinCurrentRange(key)) {\n                return true;\n            }\n            else if (_this._cmp(key, set[rangePos][1]) === 0 || _this._cmp(key, set[rangePos][0]) === 0) {\n                return false;\n            }\n            else {\n                advance(function () {\n                    if (sortDirection === ascending)\n                        cursor.continue(set[rangePos][0]);\n                    else\n                        cursor.continue(set[rangePos][1]);\n                });\n                return false;\n            }\n        });\n        return c;\n    };\n    WhereClause.prototype.startsWithAnyOf = function () {\n        var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n        if (!set.every(function (s) { return typeof s === 'string'; })) {\n            return fail(this, \"startsWithAnyOf() only works with strings\");\n        }\n        if (set.length === 0)\n            return emptyCollection(this);\n        return this.inAnyRange(set.map(function (str) { return [str, str + maxString]; }));\n    };\n    return WhereClause;\n}());\n\nfunction createWhereClauseConstructor(db) {\n    return makeClassConstructor(WhereClause.prototype, function WhereClause$$1(table, index, orCollection) {\n        this.db = db;\n        this._ctx = {\n            table: table,\n            index: index === \":id\" ? null : index,\n            or: orCollection\n        };\n        var indexedDB = db._deps.indexedDB;\n        if (!indexedDB)\n            throw new exceptions.MissingAPI(\"indexedDB API missing\");\n        this._cmp = this._ascending = indexedDB.cmp.bind(indexedDB);\n        this._descending = function (a, b) { return indexedDB.cmp(b, a); };\n        this._max = function (a, b) { return indexedDB.cmp(a, b) > 0 ? a : b; };\n        this._min = function (a, b) { return indexedDB.cmp(a, b) < 0 ? a : b; };\n        this._IDBKeyRange = db._deps.IDBKeyRange;\n    });\n}\n\nfunction safariMultiStoreFix(storeNames) {\n    return storeNames.length === 1 ? storeNames[0] : storeNames;\n}\n\nfunction getMaxKey(IdbKeyRange) {\n    try {\n        IdbKeyRange.only([[]]);\n        return [[]];\n    }\n    catch (e) {\n        return maxString;\n    }\n}\n\nfunction eventRejectHandler(reject) {\n    return wrap(function (event) {\n        preventDefault(event);\n        reject(event.target.error);\n        return false;\n    });\n}\n\n\n\nfunction preventDefault(event) {\n    if (event.stopPropagation)\n        event.stopPropagation();\n    if (event.preventDefault)\n        event.preventDefault();\n}\n\nvar Transaction =               (function () {\n    function Transaction() {\n    }\n    Transaction.prototype._lock = function () {\n        assert(!PSD.global);\n        ++this._reculock;\n        if (this._reculock === 1 && !PSD.global)\n            PSD.lockOwnerFor = this;\n        return this;\n    };\n    Transaction.prototype._unlock = function () {\n        assert(!PSD.global);\n        if (--this._reculock === 0) {\n            if (!PSD.global)\n                PSD.lockOwnerFor = null;\n            while (this._blockedFuncs.length > 0 && !this._locked()) {\n                var fnAndPSD = this._blockedFuncs.shift();\n                try {\n                    usePSD(fnAndPSD[1], fnAndPSD[0]);\n                }\n                catch (e) { }\n            }\n        }\n        return this;\n    };\n    Transaction.prototype._locked = function () {\n        return this._reculock && PSD.lockOwnerFor !== this;\n    };\n    Transaction.prototype.create = function (idbtrans) {\n        var _this = this;\n        if (!this.mode)\n            return this;\n        var idbdb = this.db.idbdb;\n        var dbOpenError = this.db._state.dbOpenError;\n        assert(!this.idbtrans);\n        if (!idbtrans && !idbdb) {\n            switch (dbOpenError && dbOpenError.name) {\n                case \"DatabaseClosedError\":\n                    throw new exceptions.DatabaseClosed(dbOpenError);\n                case \"MissingAPIError\":\n                    throw new exceptions.MissingAPI(dbOpenError.message, dbOpenError);\n                default:\n                    throw new exceptions.OpenFailed(dbOpenError);\n            }\n        }\n        if (!this.active)\n            throw new exceptions.TransactionInactive();\n        assert(this._completion._state === null);\n        idbtrans = this.idbtrans = idbtrans || idbdb.transaction(safariMultiStoreFix(this.storeNames), this.mode);\n        idbtrans.onerror = wrap(function (ev) {\n            preventDefault(ev);\n            _this._reject(idbtrans.error);\n        });\n        idbtrans.onabort = wrap(function (ev) {\n            preventDefault(ev);\n            _this.active && _this._reject(new exceptions.Abort(idbtrans.error));\n            _this.active = false;\n            _this.on(\"abort\").fire(ev);\n        });\n        idbtrans.oncomplete = wrap(function () {\n            _this.active = false;\n            _this._resolve();\n        });\n        return this;\n    };\n    Transaction.prototype._promise = function (mode, fn, bWriteLock) {\n        var _this = this;\n        if (mode === 'readwrite' && this.mode !== 'readwrite')\n            return rejection(new exceptions.ReadOnly(\"Transaction is readonly\"));\n        if (!this.active)\n            return rejection(new exceptions.TransactionInactive());\n        if (this._locked()) {\n            return new DexiePromise(function (resolve, reject) {\n                _this._blockedFuncs.push([function () {\n                        _this._promise(mode, fn, bWriteLock).then(resolve, reject);\n                    }, PSD]);\n            });\n        }\n        else if (bWriteLock) {\n            return newScope(function () {\n                var p = new DexiePromise(function (resolve, reject) {\n                    _this._lock();\n                    var rv = fn(resolve, reject, _this);\n                    if (rv && rv.then)\n                        rv.then(resolve, reject);\n                });\n                p.finally(function () { return _this._unlock(); });\n                p._lib = true;\n                return p;\n            });\n        }\n        else {\n            var p = new DexiePromise(function (resolve, reject) {\n                var rv = fn(resolve, reject, _this);\n                if (rv && rv.then)\n                    rv.then(resolve, reject);\n            });\n            p._lib = true;\n            return p;\n        }\n    };\n    Transaction.prototype._root = function () {\n        return this.parent ? this.parent._root() : this;\n    };\n    Transaction.prototype.waitFor = function (promiseLike) {\n        var root = this._root();\n        var promise = DexiePromise.resolve(promiseLike);\n        if (root._waitingFor) {\n            root._waitingFor = root._waitingFor.then(function () { return promise; });\n        }\n        else {\n            root._waitingFor = promise;\n            root._waitingQueue = [];\n            var store = root.idbtrans.objectStore(root.storeNames[0]);\n            (function spin() {\n                ++root._spinCount;\n                while (root._waitingQueue.length)\n                    (root._waitingQueue.shift())();\n                if (root._waitingFor)\n                    store.get(-Infinity).onsuccess = spin;\n            }());\n        }\n        var currentWaitPromise = root._waitingFor;\n        return new DexiePromise(function (resolve, reject) {\n            promise.then(function (res) { return root._waitingQueue.push(wrap(resolve.bind(null, res))); }, function (err) { return root._waitingQueue.push(wrap(reject.bind(null, err))); }).finally(function () {\n                if (root._waitingFor === currentWaitPromise) {\n                    root._waitingFor = null;\n                }\n            });\n        });\n    };\n    Transaction.prototype.abort = function () {\n        this.active && this._reject(new exceptions.Abort());\n        this.active = false;\n    };\n    Transaction.prototype.table = function (tableName) {\n        var memoizedTables = (this._memoizedTables || (this._memoizedTables = {}));\n        if (hasOwn(memoizedTables, tableName))\n            return memoizedTables[tableName];\n        var tableSchema = this.schema[tableName];\n        if (!tableSchema) {\n            throw new exceptions.NotFound(\"Table \" + tableName + \" not part of transaction\");\n        }\n        var transactionBoundTable = new this.db.Table(tableName, tableSchema, this);\n        transactionBoundTable.core = this.db.core.table(tableName);\n        memoizedTables[tableName] = transactionBoundTable;\n        return transactionBoundTable;\n    };\n    return Transaction;\n}());\n\nfunction createTransactionConstructor(db) {\n    return makeClassConstructor(Transaction.prototype, function Transaction$$1(mode, storeNames, dbschema, parent) {\n        var _this = this;\n        this.db = db;\n        this.mode = mode;\n        this.storeNames = storeNames;\n        this.schema = dbschema;\n        this.idbtrans = null;\n        this.on = Events(this, \"complete\", \"error\", \"abort\");\n        this.parent = parent || null;\n        this.active = true;\n        this._reculock = 0;\n        this._blockedFuncs = [];\n        this._resolve = null;\n        this._reject = null;\n        this._waitingFor = null;\n        this._waitingQueue = null;\n        this._spinCount = 0;\n        this._completion = new DexiePromise(function (resolve, reject) {\n            _this._resolve = resolve;\n            _this._reject = reject;\n        });\n        this._completion.then(function () {\n            _this.active = false;\n            _this.on.complete.fire();\n        }, function (e) {\n            var wasActive = _this.active;\n            _this.active = false;\n            _this.on.error.fire(e);\n            _this.parent ?\n                _this.parent._reject(e) :\n                wasActive && _this.idbtrans && _this.idbtrans.abort();\n            return rejection(e);\n        });\n    });\n}\n\nfunction createIndexSpec(name, keyPath, unique, multi, auto, compound, isPrimKey) {\n    return {\n        name: name,\n        keyPath: keyPath,\n        unique: unique,\n        multi: multi,\n        auto: auto,\n        compound: compound,\n        src: (unique && !isPrimKey ? '&' : '') + (multi ? '*' : '') + (auto ? \"++\" : \"\") + nameFromKeyPath(keyPath)\n    };\n}\nfunction nameFromKeyPath(keyPath) {\n    return typeof keyPath === 'string' ?\n        keyPath :\n        keyPath ? ('[' + [].join.call(keyPath, '+') + ']') : \"\";\n}\n\nfunction createTableSchema(name, primKey, indexes) {\n    return {\n        name: name,\n        primKey: primKey,\n        indexes: indexes,\n        mappedClass: null,\n        idxByName: arrayToObject(indexes, function (index) { return [index.name, index]; })\n    };\n}\n\nfunction getKeyExtractor(keyPath) {\n    if (keyPath == null) {\n        return function () { return undefined; };\n    }\n    else if (typeof keyPath === 'string') {\n        return getSinglePathKeyExtractor(keyPath);\n    }\n    else {\n        return function (obj) { return getByKeyPath(obj, keyPath); };\n    }\n}\nfunction getSinglePathKeyExtractor(keyPath) {\n    var split = keyPath.split('.');\n    if (split.length === 1) {\n        return function (obj) { return obj[keyPath]; };\n    }\n    else {\n        return function (obj) { return getByKeyPath(obj, keyPath); };\n    }\n}\n\nfunction getEffectiveKeys(primaryKey, req) {\n    if (req.type === 'delete')\n        return req.keys;\n    return req.keys || req.values.map(primaryKey.extractKey);\n}\nfunction getExistingValues(table, req, effectiveKeys) {\n    return req.type === 'add' ? Promise.resolve(new Array(req.values.length)) :\n        table.getMany({ trans: req.trans, keys: effectiveKeys });\n}\n\nfunction arrayify(arrayLike) {\n    return [].slice.call(arrayLike);\n}\n\nvar _id_counter = 0;\nfunction getKeyPathAlias(keyPath) {\n    return keyPath == null ?\n        \":id\" :\n        typeof keyPath === 'string' ?\n            keyPath :\n            \"[\" + keyPath.join('+') + \"]\";\n}\nfunction createDBCore(db, indexedDB, IdbKeyRange, tmpTrans) {\n    var cmp = indexedDB.cmp.bind(indexedDB);\n    function extractSchema(db, trans) {\n        var tables = arrayify(db.objectStoreNames);\n        return {\n            schema: {\n                name: db.name,\n                tables: tables.map(function (table) { return trans.objectStore(table); }).map(function (store) {\n                    var keyPath = store.keyPath, autoIncrement = store.autoIncrement;\n                    var compound = isArray(keyPath);\n                    var outbound = keyPath == null;\n                    var indexByKeyPath = {};\n                    var result = {\n                        name: store.name,\n                        primaryKey: {\n                            name: null,\n                            isPrimaryKey: true,\n                            outbound: outbound,\n                            compound: compound,\n                            keyPath: keyPath,\n                            autoIncrement: autoIncrement,\n                            unique: true,\n                            extractKey: getKeyExtractor(keyPath)\n                        },\n                        indexes: arrayify(store.indexNames).map(function (indexName) { return store.index(indexName); })\n                            .map(function (index) {\n                            var name = index.name, unique = index.unique, multiEntry = index.multiEntry, keyPath = index.keyPath;\n                            var compound = isArray(keyPath);\n                            var result = {\n                                name: name,\n                                compound: compound,\n                                keyPath: keyPath,\n                                unique: unique,\n                                multiEntry: multiEntry,\n                                extractKey: getKeyExtractor(keyPath)\n                            };\n                            indexByKeyPath[getKeyPathAlias(keyPath)] = result;\n                            return result;\n                        }),\n                        getIndexByKeyPath: function (keyPath) { return indexByKeyPath[getKeyPathAlias(keyPath)]; }\n                    };\n                    indexByKeyPath[\":id\"] = result.primaryKey;\n                    if (keyPath != null) {\n                        indexByKeyPath[getKeyPathAlias(keyPath)] = result.primaryKey;\n                    }\n                    return result;\n                })\n            },\n            hasGetAll: tables.length > 0 && ('getAll' in trans.objectStore(tables[0])) &&\n                !(typeof navigator !== 'undefined' && /Safari/.test(navigator.userAgent) &&\n                    !/(Chrome\\/|Edge\\/)/.test(navigator.userAgent) &&\n                    [].concat(navigator.userAgent.match(/Safari\\/(\\d*)/))[1] < 604)\n        };\n    }\n    function makeIDBKeyRange(range) {\n        if (range.type === 3          )\n            return null;\n        if (range.type === 4            )\n            throw new Error(\"Cannot convert never type to IDBKeyRange\");\n        var lower = range.lower, upper = range.upper, lowerOpen = range.lowerOpen, upperOpen = range.upperOpen;\n        var idbRange = lower === undefined ?\n            upper === undefined ?\n                null :\n                IdbKeyRange.upperBound(upper, !!upperOpen) :\n            upper === undefined ?\n                IdbKeyRange.lowerBound(lower, !!lowerOpen) :\n                IdbKeyRange.bound(lower, upper, !!lowerOpen, !!upperOpen);\n        return idbRange;\n    }\n    function createDbCoreTable(tableSchema) {\n        var tableName = tableSchema.name;\n        function mutate(_a) {\n            var trans = _a.trans, type = _a.type, keys$$1 = _a.keys, values = _a.values, range = _a.range, wantResults = _a.wantResults;\n            return new Promise(function (resolve, reject) {\n                resolve = wrap(resolve);\n                var store = trans.objectStore(tableName);\n                var outbound = store.keyPath == null;\n                var isAddOrPut = type === \"put\" || type === \"add\";\n                if (!isAddOrPut && type !== 'delete' && type !== 'deleteRange')\n                    throw new Error(\"Invalid operation type: \" + type);\n                var length = (keys$$1 || values || { length: 1 }).length;\n                if (keys$$1 && values && keys$$1.length !== values.length) {\n                    throw new Error(\"Given keys array must have same length as given values array.\");\n                }\n                if (length === 0)\n                    return resolve({ numFailures: 0, failures: {}, results: [], lastResult: undefined });\n                var results = wantResults && __spreadArrays((keys$$1 ?\n                    keys$$1 :\n                    getEffectiveKeys(tableSchema.primaryKey, { type: type, keys: keys$$1, values: values })));\n                var req;\n                var failures = [];\n                var numFailures = 0;\n                var errorHandler = function (event) {\n                    ++numFailures;\n                    preventDefault(event);\n                    if (results)\n                        results[event.target._reqno] = undefined;\n                    failures[event.target._reqno] = event.target.error;\n                };\n                var setResult = function (_a) {\n                    var target = _a.target;\n                    results[target._reqno] = target.result;\n                };\n                if (type === 'deleteRange') {\n                    if (range.type === 4            )\n                        return resolve({ numFailures: numFailures, failures: failures, results: results, lastResult: undefined });\n                    if (range.type === 3          )\n                        req = store.clear();\n                    else\n                        req = store.delete(makeIDBKeyRange(range));\n                }\n                else {\n                    var _a = isAddOrPut ?\n                        outbound ?\n                            [values, keys$$1] :\n                            [values, null] :\n                        [keys$$1, null], args1 = _a[0], args2 = _a[1];\n                    if (isAddOrPut) {\n                        for (var i = 0; i < length; ++i) {\n                            req = (args2 && args2[i] !== undefined ?\n                                store[type](args1[i], args2[i]) :\n                                store[type](args1[i]));\n                            req._reqno = i;\n                            if (results && results[i] === undefined) {\n                                req.onsuccess = setResult;\n                            }\n                            req.onerror = errorHandler;\n                        }\n                    }\n                    else {\n                        for (var i = 0; i < length; ++i) {\n                            req = store[type](args1[i]);\n                            req._reqno = i;\n                            req.onerror = errorHandler;\n                        }\n                    }\n                }\n                var done = function (event) {\n                    var lastResult = event.target.result;\n                    if (results)\n                        results[length - 1] = lastResult;\n                    resolve({\n                        numFailures: numFailures,\n                        failures: failures,\n                        results: results,\n                        lastResult: lastResult\n                    });\n                };\n                req.onerror = function (event) {\n                    errorHandler(event);\n                    done(event);\n                };\n                req.onsuccess = done;\n            });\n        }\n        function openCursor(_a) {\n            var trans = _a.trans, values = _a.values, query = _a.query, reverse = _a.reverse, unique = _a.unique;\n            return new Promise(function (resolve, reject) {\n                resolve = wrap(resolve);\n                var index = query.index, range = query.range;\n                var store = trans.objectStore(tableName);\n                var source = index.isPrimaryKey ?\n                    store :\n                    store.index(index.name);\n                var direction = reverse ?\n                    unique ?\n                        \"prevunique\" :\n                        \"prev\" :\n                    unique ?\n                        \"nextunique\" :\n                        \"next\";\n                var req = values || !('openKeyCursor' in source) ?\n                    source.openCursor(makeIDBKeyRange(range), direction) :\n                    source.openKeyCursor(makeIDBKeyRange(range), direction);\n                req.onerror = eventRejectHandler(reject);\n                req.onsuccess = wrap(function (ev) {\n                    var cursor = req.result;\n                    if (!cursor) {\n                        resolve(null);\n                        return;\n                    }\n                    cursor.___id = ++_id_counter;\n                    cursor.done = false;\n                    var _cursorContinue = cursor.continue.bind(cursor);\n                    var _cursorContinuePrimaryKey = cursor.continuePrimaryKey;\n                    if (_cursorContinuePrimaryKey)\n                        _cursorContinuePrimaryKey = _cursorContinuePrimaryKey.bind(cursor);\n                    var _cursorAdvance = cursor.advance.bind(cursor);\n                    var doThrowCursorIsNotStarted = function () { throw new Error(\"Cursor not started\"); };\n                    var doThrowCursorIsStopped = function () { throw new Error(\"Cursor not stopped\"); };\n                    cursor.trans = trans;\n                    cursor.stop = cursor.continue = cursor.continuePrimaryKey = cursor.advance = doThrowCursorIsNotStarted;\n                    cursor.fail = wrap(reject);\n                    cursor.next = function () {\n                        var _this = this;\n                        var gotOne = 1;\n                        return this.start(function () { return gotOne-- ? _this.continue() : _this.stop(); }).then(function () { return _this; });\n                    };\n                    cursor.start = function (callback) {\n                        var iterationPromise = new Promise(function (resolveIteration, rejectIteration) {\n                            resolveIteration = wrap(resolveIteration);\n                            req.onerror = eventRejectHandler(rejectIteration);\n                            cursor.fail = rejectIteration;\n                            cursor.stop = function (value) {\n                                cursor.stop = cursor.continue = cursor.continuePrimaryKey = cursor.advance = doThrowCursorIsStopped;\n                                resolveIteration(value);\n                            };\n                        });\n                        var guardedCallback = function () {\n                            if (req.result) {\n                                try {\n                                    callback();\n                                }\n                                catch (err) {\n                                    cursor.fail(err);\n                                }\n                            }\n                            else {\n                                cursor.done = true;\n                                cursor.start = function () { throw new Error(\"Cursor behind last entry\"); };\n                                cursor.stop();\n                            }\n                        };\n                        req.onsuccess = wrap(function (ev) {\n                            req.onsuccess = guardedCallback;\n                            guardedCallback();\n                        });\n                        cursor.continue = _cursorContinue;\n                        cursor.continuePrimaryKey = _cursorContinuePrimaryKey;\n                        cursor.advance = _cursorAdvance;\n                        guardedCallback();\n                        return iterationPromise;\n                    };\n                    resolve(cursor);\n                }, reject);\n            });\n        }\n        function query(hasGetAll) {\n            return function (request) {\n                return new Promise(function (resolve, reject) {\n                    resolve = wrap(resolve);\n                    var trans = request.trans, values = request.values, limit = request.limit, query = request.query;\n                    var nonInfinitLimit = limit === Infinity ? undefined : limit;\n                    var index = query.index, range = query.range;\n                    var store = trans.objectStore(tableName);\n                    var source = index.isPrimaryKey ? store : store.index(index.name);\n                    var idbKeyRange = makeIDBKeyRange(range);\n                    if (limit === 0)\n                        return resolve({ result: [] });\n                    if (hasGetAll) {\n                        var req = values ?\n                            source.getAll(idbKeyRange, nonInfinitLimit) :\n                            source.getAllKeys(idbKeyRange, nonInfinitLimit);\n                        req.onsuccess = function (event) { return resolve({ result: event.target.result }); };\n                        req.onerror = eventRejectHandler(reject);\n                    }\n                    else {\n                        var count_1 = 0;\n                        var req_1 = values || !('openKeyCursor' in source) ?\n                            source.openCursor(idbKeyRange) :\n                            source.openKeyCursor(idbKeyRange);\n                        var result_1 = [];\n                        req_1.onsuccess = function (event) {\n                            var cursor = req_1.result;\n                            if (!cursor)\n                                return resolve({ result: result_1 });\n                            result_1.push(values ? cursor.value : cursor.primaryKey);\n                            if (++count_1 === limit)\n                                return resolve({ result: result_1 });\n                            cursor.continue();\n                        };\n                        req_1.onerror = eventRejectHandler(reject);\n                    }\n                });\n            };\n        }\n        return {\n            name: tableName,\n            schema: tableSchema,\n            mutate: mutate,\n            getMany: function (_a) {\n                var trans = _a.trans, keys$$1 = _a.keys;\n                return new Promise(function (resolve, reject) {\n                    resolve = wrap(resolve);\n                    var store = trans.objectStore(tableName);\n                    var length = keys$$1.length;\n                    var result = new Array(length);\n                    var keyCount = 0;\n                    var callbackCount = 0;\n                    var valueCount = 0;\n                    var req;\n                    var successHandler = function (event) {\n                        var req = event.target;\n                        if ((result[req._pos] = req.result) != null)\n                            ++valueCount;\n                        if (++callbackCount === keyCount)\n                            resolve(result);\n                    };\n                    var errorHandler = eventRejectHandler(reject);\n                    for (var i = 0; i < length; ++i) {\n                        var key = keys$$1[i];\n                        if (key != null) {\n                            req = store.get(keys$$1[i]);\n                            req._pos = i;\n                            req.onsuccess = successHandler;\n                            req.onerror = errorHandler;\n                            ++keyCount;\n                        }\n                    }\n                    if (keyCount === 0)\n                        resolve(result);\n                });\n            },\n            get: function (_a) {\n                var trans = _a.trans, key = _a.key;\n                return new Promise(function (resolve, reject) {\n                    resolve = wrap(resolve);\n                    var store = trans.objectStore(tableName);\n                    var req = store.get(key);\n                    req.onsuccess = function (event) { return resolve(event.target.result); };\n                    req.onerror = eventRejectHandler(reject);\n                });\n            },\n            query: query(hasGetAll),\n            openCursor: openCursor,\n            count: function (_a) {\n                var query = _a.query, trans = _a.trans;\n                var index = query.index, range = query.range;\n                return new Promise(function (resolve, reject) {\n                    var store = trans.objectStore(tableName);\n                    var source = index.isPrimaryKey ? store : store.index(index.name);\n                    var idbKeyRange = makeIDBKeyRange(range);\n                    var req = idbKeyRange ? source.count(idbKeyRange) : source.count();\n                    req.onsuccess = wrap(function (ev) { return resolve(ev.target.result); });\n                    req.onerror = eventRejectHandler(reject);\n                });\n            }\n        };\n    }\n    var _a = extractSchema(db, tmpTrans), schema = _a.schema, hasGetAll = _a.hasGetAll;\n    var tables = schema.tables.map(function (tableSchema) { return createDbCoreTable(tableSchema); });\n    var tableMap = {};\n    tables.forEach(function (table) { return tableMap[table.name] = table; });\n    return {\n        stack: \"dbcore\",\n        transaction: db.transaction.bind(db),\n        table: function (name) {\n            var result = tableMap[name];\n            if (!result)\n                throw new Error(\"Table '\" + name + \"' not found\");\n            return tableMap[name];\n        },\n        cmp: cmp,\n        MIN_KEY: -Infinity,\n        MAX_KEY: getMaxKey(IdbKeyRange),\n        schema: schema\n    };\n}\n\nfunction createMiddlewareStack(stackImpl, middlewares) {\n    return middlewares.reduce(function (down, _a) {\n        var create = _a.create;\n        return (__assign(__assign({}, down), create(down)));\n    }, stackImpl);\n}\nfunction createMiddlewareStacks(middlewares, idbdb, _a, tmpTrans) {\n    var IDBKeyRange = _a.IDBKeyRange, indexedDB = _a.indexedDB;\n    var dbcore = createMiddlewareStack(createDBCore(idbdb, indexedDB, IDBKeyRange, tmpTrans), middlewares.dbcore);\n    return {\n        dbcore: dbcore\n    };\n}\nfunction generateMiddlewareStacks(db, tmpTrans) {\n    var idbdb = tmpTrans.db;\n    var stacks = createMiddlewareStacks(db._middlewares, idbdb, db._deps, tmpTrans);\n    db.core = stacks.dbcore;\n    db.tables.forEach(function (table) {\n        var tableName = table.name;\n        if (db.core.schema.tables.some(function (tbl) { return tbl.name === tableName; })) {\n            table.core = db.core.table(tableName);\n            if (db[tableName] instanceof db.Table) {\n                db[tableName].core = table.core;\n            }\n        }\n    });\n}\n\nfunction setApiOnPlace(db, objs, tableNames, dbschema) {\n    tableNames.forEach(function (tableName) {\n        var schema = dbschema[tableName];\n        objs.forEach(function (obj) {\n            var propDesc = getPropertyDescriptor(obj, tableName);\n            if (!propDesc || (\"value\" in propDesc && propDesc.value === undefined)) {\n                if (obj === db.Transaction.prototype || obj instanceof db.Transaction) {\n                    setProp(obj, tableName, {\n                        get: function () { return this.table(tableName); },\n                        set: function (value) {\n                            defineProperty(this, tableName, { value: value, writable: true, configurable: true, enumerable: true });\n                        }\n                    });\n                }\n                else {\n                    obj[tableName] = new db.Table(tableName, schema);\n                }\n            }\n        });\n    });\n}\nfunction removeTablesApi(db, objs) {\n    objs.forEach(function (obj) {\n        for (var key in obj) {\n            if (obj[key] instanceof db.Table)\n                delete obj[key];\n        }\n    });\n}\nfunction lowerVersionFirst(a, b) {\n    return a._cfg.version - b._cfg.version;\n}\nfunction runUpgraders(db, oldVersion, idbUpgradeTrans, reject) {\n    var globalSchema = db._dbSchema;\n    var trans = db._createTransaction('readwrite', db._storeNames, globalSchema);\n    trans.create(idbUpgradeTrans);\n    trans._completion.catch(reject);\n    var rejectTransaction = trans._reject.bind(trans);\n    var transless = PSD.transless || PSD;\n    newScope(function () {\n        PSD.trans = trans;\n        PSD.transless = transless;\n        if (oldVersion === 0) {\n            keys(globalSchema).forEach(function (tableName) {\n                createTable(idbUpgradeTrans, tableName, globalSchema[tableName].primKey, globalSchema[tableName].indexes);\n            });\n            generateMiddlewareStacks(db, idbUpgradeTrans);\n            DexiePromise.follow(function () { return db.on.populate.fire(trans); }).catch(rejectTransaction);\n        }\n        else\n            updateTablesAndIndexes(db, oldVersion, trans, idbUpgradeTrans).catch(rejectTransaction);\n    });\n}\nfunction updateTablesAndIndexes(db, oldVersion, trans, idbUpgradeTrans) {\n    var queue = [];\n    var versions = db._versions;\n    var globalSchema = db._dbSchema = buildGlobalSchema(db, db.idbdb, idbUpgradeTrans);\n    var anyContentUpgraderHasRun = false;\n    var versToRun = versions.filter(function (v) { return v._cfg.version >= oldVersion; });\n    versToRun.forEach(function (version) {\n        queue.push(function () {\n            var oldSchema = globalSchema;\n            var newSchema = version._cfg.dbschema;\n            adjustToExistingIndexNames(db, oldSchema, idbUpgradeTrans);\n            adjustToExistingIndexNames(db, newSchema, idbUpgradeTrans);\n            globalSchema = db._dbSchema = newSchema;\n            var diff = getSchemaDiff(oldSchema, newSchema);\n            diff.add.forEach(function (tuple) {\n                createTable(idbUpgradeTrans, tuple[0], tuple[1].primKey, tuple[1].indexes);\n            });\n            diff.change.forEach(function (change) {\n                if (change.recreate) {\n                    throw new exceptions.Upgrade(\"Not yet support for changing primary key\");\n                }\n                else {\n                    var store_1 = idbUpgradeTrans.objectStore(change.name);\n                    change.add.forEach(function (idx) { return addIndex(store_1, idx); });\n                    change.change.forEach(function (idx) {\n                        store_1.deleteIndex(idx.name);\n                        addIndex(store_1, idx);\n                    });\n                    change.del.forEach(function (idxName) { return store_1.deleteIndex(idxName); });\n                }\n            });\n            var contentUpgrade = version._cfg.contentUpgrade;\n            if (contentUpgrade && version._cfg.version > oldVersion) {\n                generateMiddlewareStacks(db, idbUpgradeTrans);\n                trans._memoizedTables = {};\n                anyContentUpgraderHasRun = true;\n                var upgradeSchema_1 = shallowClone(newSchema);\n                diff.del.forEach(function (table) {\n                    upgradeSchema_1[table] = oldSchema[table];\n                });\n                removeTablesApi(db, [db.Transaction.prototype]);\n                setApiOnPlace(db, [db.Transaction.prototype], keys(upgradeSchema_1), upgradeSchema_1);\n                trans.schema = upgradeSchema_1;\n                var contentUpgradeIsAsync_1 = isAsyncFunction(contentUpgrade);\n                if (contentUpgradeIsAsync_1) {\n                    incrementExpectedAwaits();\n                }\n                var returnValue_1;\n                var promiseFollowed = DexiePromise.follow(function () {\n                    returnValue_1 = contentUpgrade(trans);\n                    if (returnValue_1) {\n                        if (contentUpgradeIsAsync_1) {\n                            var decrementor = decrementExpectedAwaits.bind(null, null);\n                            returnValue_1.then(decrementor, decrementor);\n                        }\n                    }\n                });\n                return (returnValue_1 && typeof returnValue_1.then === 'function' ?\n                    DexiePromise.resolve(returnValue_1) : promiseFollowed.then(function () { return returnValue_1; }));\n            }\n        });\n        queue.push(function (idbtrans) {\n            if (!anyContentUpgraderHasRun || !hasIEDeleteObjectStoreBug) {\n                var newSchema = version._cfg.dbschema;\n                deleteRemovedTables(newSchema, idbtrans);\n            }\n            removeTablesApi(db, [db.Transaction.prototype]);\n            setApiOnPlace(db, [db.Transaction.prototype], db._storeNames, db._dbSchema);\n            trans.schema = db._dbSchema;\n        });\n    });\n    function runQueue() {\n        return queue.length ? DexiePromise.resolve(queue.shift()(trans.idbtrans)).then(runQueue) :\n            DexiePromise.resolve();\n    }\n    return runQueue().then(function () {\n        createMissingTables(globalSchema, idbUpgradeTrans);\n    });\n}\nfunction getSchemaDiff(oldSchema, newSchema) {\n    var diff = {\n        del: [],\n        add: [],\n        change: []\n    };\n    var table;\n    for (table in oldSchema) {\n        if (!newSchema[table])\n            diff.del.push(table);\n    }\n    for (table in newSchema) {\n        var oldDef = oldSchema[table], newDef = newSchema[table];\n        if (!oldDef) {\n            diff.add.push([table, newDef]);\n        }\n        else {\n            var change = {\n                name: table,\n                def: newDef,\n                recreate: false,\n                del: [],\n                add: [],\n                change: []\n            };\n            if ((\n            '' + (oldDef.primKey.keyPath || '')) !== ('' + (newDef.primKey.keyPath || '')) ||\n                (oldDef.primKey.auto !== newDef.primKey.auto && !isIEOrEdge))\n             {\n                change.recreate = true;\n                diff.change.push(change);\n            }\n            else {\n                var oldIndexes = oldDef.idxByName;\n                var newIndexes = newDef.idxByName;\n                var idxName = void 0;\n                for (idxName in oldIndexes) {\n                    if (!newIndexes[idxName])\n                        change.del.push(idxName);\n                }\n                for (idxName in newIndexes) {\n                    var oldIdx = oldIndexes[idxName], newIdx = newIndexes[idxName];\n                    if (!oldIdx)\n                        change.add.push(newIdx);\n                    else if (oldIdx.src !== newIdx.src)\n                        change.change.push(newIdx);\n                }\n                if (change.del.length > 0 || change.add.length > 0 || change.change.length > 0) {\n                    diff.change.push(change);\n                }\n            }\n        }\n    }\n    return diff;\n}\nfunction createTable(idbtrans, tableName, primKey, indexes) {\n    var store = idbtrans.db.createObjectStore(tableName, primKey.keyPath ?\n        { keyPath: primKey.keyPath, autoIncrement: primKey.auto } :\n        { autoIncrement: primKey.auto });\n    indexes.forEach(function (idx) { return addIndex(store, idx); });\n    return store;\n}\nfunction createMissingTables(newSchema, idbtrans) {\n    keys(newSchema).forEach(function (tableName) {\n        if (!idbtrans.db.objectStoreNames.contains(tableName)) {\n            createTable(idbtrans, tableName, newSchema[tableName].primKey, newSchema[tableName].indexes);\n        }\n    });\n}\nfunction deleteRemovedTables(newSchema, idbtrans) {\n    for (var i = 0; i < idbtrans.db.objectStoreNames.length; ++i) {\n        var storeName = idbtrans.db.objectStoreNames[i];\n        if (newSchema[storeName] == null) {\n            idbtrans.db.deleteObjectStore(storeName);\n        }\n    }\n}\nfunction addIndex(store, idx) {\n    store.createIndex(idx.name, idx.keyPath, { unique: idx.unique, multiEntry: idx.multi });\n}\nfunction buildGlobalSchema(db, idbdb, tmpTrans) {\n    var globalSchema = {};\n    var dbStoreNames = slice(idbdb.objectStoreNames, 0);\n    dbStoreNames.forEach(function (storeName) {\n        var store = tmpTrans.objectStore(storeName);\n        var keyPath = store.keyPath;\n        var primKey = createIndexSpec(nameFromKeyPath(keyPath), keyPath || \"\", false, false, !!store.autoIncrement, keyPath && typeof keyPath !== \"string\", true);\n        var indexes = [];\n        for (var j = 0; j < store.indexNames.length; ++j) {\n            var idbindex = store.index(store.indexNames[j]);\n            keyPath = idbindex.keyPath;\n            var index = createIndexSpec(idbindex.name, keyPath, !!idbindex.unique, !!idbindex.multiEntry, false, keyPath && typeof keyPath !== \"string\", false);\n            indexes.push(index);\n        }\n        globalSchema[storeName] = createTableSchema(storeName, primKey, indexes);\n    });\n    return globalSchema;\n}\nfunction readGlobalSchema(db, idbdb, tmpTrans) {\n    db.verno = idbdb.version / 10;\n    var globalSchema = db._dbSchema = buildGlobalSchema(db, idbdb, tmpTrans);\n    db._storeNames = slice(idbdb.objectStoreNames, 0);\n    setApiOnPlace(db, [db._allTables], keys(globalSchema), globalSchema);\n}\nfunction verifyInstalledSchema(db, tmpTrans) {\n    var installedSchema = buildGlobalSchema(db, db.idbdb, tmpTrans);\n    var diff = getSchemaDiff(installedSchema, db._dbSchema);\n    return !(diff.add.length || diff.change.some(function (ch) { return ch.add.length || ch.change.length; }));\n}\nfunction adjustToExistingIndexNames(db, schema, idbtrans) {\n    var storeNames = idbtrans.db.objectStoreNames;\n    for (var i = 0; i < storeNames.length; ++i) {\n        var storeName = storeNames[i];\n        var store = idbtrans.objectStore(storeName);\n        db._hasGetAll = 'getAll' in store;\n        for (var j = 0; j < store.indexNames.length; ++j) {\n            var indexName = store.indexNames[j];\n            var keyPath = store.index(indexName).keyPath;\n            var dexieName = typeof keyPath === 'string' ? keyPath : \"[\" + slice(keyPath).join('+') + \"]\";\n            if (schema[storeName]) {\n                var indexSpec = schema[storeName].idxByName[dexieName];\n                if (indexSpec) {\n                    indexSpec.name = indexName;\n                    delete schema[storeName].idxByName[dexieName];\n                    schema[storeName].idxByName[indexName] = indexSpec;\n                }\n            }\n        }\n    }\n    if (typeof navigator !== 'undefined' && /Safari/.test(navigator.userAgent) &&\n        !/(Chrome\\/|Edge\\/)/.test(navigator.userAgent) &&\n        _global.WorkerGlobalScope && _global instanceof _global.WorkerGlobalScope &&\n        [].concat(navigator.userAgent.match(/Safari\\/(\\d*)/))[1] < 604) {\n        db._hasGetAll = false;\n    }\n}\nfunction parseIndexSyntax(primKeyAndIndexes) {\n    return primKeyAndIndexes.split(',').map(function (index, indexNum) {\n        index = index.trim();\n        var name = index.replace(/([&*]|\\+\\+)/g, \"\");\n        var keyPath = /^\\[/.test(name) ? name.match(/^\\[(.*)\\]$/)[1].split('+') : name;\n        return createIndexSpec(name, keyPath || null, /\\&/.test(index), /\\*/.test(index), /\\+\\+/.test(index), isArray(keyPath), indexNum === 0);\n    });\n}\n\nvar Version =               (function () {\n    function Version() {\n    }\n    Version.prototype._parseStoresSpec = function (stores, outSchema) {\n        keys(stores).forEach(function (tableName) {\n            if (stores[tableName] !== null) {\n                var indexes = parseIndexSyntax(stores[tableName]);\n                var primKey = indexes.shift();\n                if (primKey.multi)\n                    throw new exceptions.Schema(\"Primary key cannot be multi-valued\");\n                indexes.forEach(function (idx) {\n                    if (idx.auto)\n                        throw new exceptions.Schema(\"Only primary key can be marked as autoIncrement (++)\");\n                    if (!idx.keyPath)\n                        throw new exceptions.Schema(\"Index must have a name and cannot be an empty string\");\n                });\n                outSchema[tableName] = createTableSchema(tableName, primKey, indexes);\n            }\n        });\n    };\n    Version.prototype.stores = function (stores) {\n        var db = this.db;\n        this._cfg.storesSource = this._cfg.storesSource ?\n            extend(this._cfg.storesSource, stores) :\n            stores;\n        var versions = db._versions;\n        var storesSpec = {};\n        var dbschema = {};\n        versions.forEach(function (version) {\n            extend(storesSpec, version._cfg.storesSource);\n            dbschema = (version._cfg.dbschema = {});\n            version._parseStoresSpec(storesSpec, dbschema);\n        });\n        db._dbSchema = dbschema;\n        removeTablesApi(db, [db._allTables, db, db.Transaction.prototype]);\n        setApiOnPlace(db, [db._allTables, db, db.Transaction.prototype, this._cfg.tables], keys(dbschema), dbschema);\n        db._storeNames = keys(dbschema);\n        return this;\n    };\n    Version.prototype.upgrade = function (upgradeFunction) {\n        this._cfg.contentUpgrade = upgradeFunction;\n        return this;\n    };\n    return Version;\n}());\n\nfunction createVersionConstructor(db) {\n    return makeClassConstructor(Version.prototype, function Version$$1(versionNumber) {\n        this.db = db;\n        this._cfg = {\n            version: versionNumber,\n            storesSource: null,\n            dbschema: {},\n            tables: {},\n            contentUpgrade: null\n        };\n    });\n}\n\nvar databaseEnumerator;\nfunction DatabaseEnumerator(indexedDB) {\n    var hasDatabasesNative = indexedDB && typeof indexedDB.databases === 'function';\n    var dbNamesTable;\n    if (!hasDatabasesNative) {\n        var db = new Dexie(DBNAMES_DB, { addons: [] });\n        db.version(1).stores({ dbnames: 'name' });\n        dbNamesTable = db.table('dbnames');\n    }\n    return {\n        getDatabaseNames: function () {\n            return hasDatabasesNative\n                ?\n                    DexiePromise.resolve(indexedDB.databases()).then(function (infos) { return infos\n                        .map(function (info) { return info.name; })\n                        .filter(function (name) { return name !== DBNAMES_DB; }); })\n                :\n                    dbNamesTable.toCollection().primaryKeys();\n        },\n        add: function (name) {\n            return !hasDatabasesNative && name !== DBNAMES_DB && dbNamesTable.put({ name: name }).catch(nop);\n        },\n        remove: function (name) {\n            return !hasDatabasesNative && name !== DBNAMES_DB && dbNamesTable.delete(name).catch(nop);\n        }\n    };\n}\nfunction initDatabaseEnumerator(indexedDB) {\n    try {\n        databaseEnumerator = DatabaseEnumerator(indexedDB);\n    }\n    catch (e) { }\n}\n\nfunction vip(fn) {\n    return newScope(function () {\n        PSD.letThrough = true;\n        return fn();\n    });\n}\n\nfunction dexieOpen(db) {\n    var state = db._state;\n    var indexedDB = db._deps.indexedDB;\n    if (state.isBeingOpened || db.idbdb)\n        return state.dbReadyPromise.then(function () { return state.dbOpenError ?\n            rejection(state.dbOpenError) :\n            db; });\n    debug && (state.openCanceller._stackHolder = getErrorWithStack());\n    state.isBeingOpened = true;\n    state.dbOpenError = null;\n    state.openComplete = false;\n    var resolveDbReady = state.dbReadyResolve,\n    upgradeTransaction = null;\n    return DexiePromise.race([state.openCanceller, new DexiePromise(function (resolve, reject) {\n            if (!indexedDB)\n                throw new exceptions.MissingAPI(\"indexedDB API not found. If using IE10+, make sure to run your code on a server URL \" +\n                    \"(not locally). If using old Safari versions, make sure to include indexedDB polyfill.\");\n            var dbName = db.name;\n            var req = state.autoSchema ?\n                indexedDB.open(dbName) :\n                indexedDB.open(dbName, Math.round(db.verno * 10));\n            if (!req)\n                throw new exceptions.MissingAPI(\"IndexedDB API not available\");\n            req.onerror = eventRejectHandler(reject);\n            req.onblocked = wrap(db._fireOnBlocked);\n            req.onupgradeneeded = wrap(function (e) {\n                upgradeTransaction = req.transaction;\n                if (state.autoSchema && !db._options.allowEmptyDB) {\n                    req.onerror = preventDefault;\n                    upgradeTransaction.abort();\n                    req.result.close();\n                    var delreq = indexedDB.deleteDatabase(dbName);\n                    delreq.onsuccess = delreq.onerror = wrap(function () {\n                        reject(new exceptions.NoSuchDatabase(\"Database \" + dbName + \" doesnt exist\"));\n                    });\n                }\n                else {\n                    upgradeTransaction.onerror = eventRejectHandler(reject);\n                    var oldVer = e.oldVersion > Math.pow(2, 62) ? 0 : e.oldVersion;\n                    db.idbdb = req.result;\n                    runUpgraders(db, oldVer / 10, upgradeTransaction, reject);\n                }\n            }, reject);\n            req.onsuccess = wrap(function () {\n                upgradeTransaction = null;\n                var idbdb = db.idbdb = req.result;\n                var objectStoreNames = slice(idbdb.objectStoreNames);\n                if (objectStoreNames.length > 0)\n                    try {\n                        var tmpTrans = idbdb.transaction(safariMultiStoreFix(objectStoreNames), 'readonly');\n                        if (state.autoSchema)\n                            readGlobalSchema(db, idbdb, tmpTrans);\n                        else {\n                            adjustToExistingIndexNames(db, db._dbSchema, tmpTrans);\n                            if (!verifyInstalledSchema(db, tmpTrans)) {\n                                console.warn(\"Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.\");\n                            }\n                        }\n                        generateMiddlewareStacks(db, tmpTrans);\n                    }\n                    catch (e) {\n                    }\n                connections.push(db);\n                idbdb.onversionchange = wrap(function (ev) {\n                    state.vcFired = true;\n                    db.on(\"versionchange\").fire(ev);\n                });\n                databaseEnumerator.add(dbName);\n                resolve();\n            }, reject);\n        })]).then(function () {\n        state.onReadyBeingFired = [];\n        return DexiePromise.resolve(vip(db.on.ready.fire)).then(function fireRemainders() {\n            if (state.onReadyBeingFired.length > 0) {\n                var remainders = state.onReadyBeingFired.reduce(promisableChain, nop);\n                state.onReadyBeingFired = [];\n                return DexiePromise.resolve(vip(remainders)).then(fireRemainders);\n            }\n        });\n    }).finally(function () {\n        state.onReadyBeingFired = null;\n    }).then(function () {\n        state.isBeingOpened = false;\n        return db;\n    }).catch(function (err) {\n        try {\n            upgradeTransaction && upgradeTransaction.abort();\n        }\n        catch (e) { }\n        state.isBeingOpened = false;\n        db.close();\n        state.dbOpenError = err;\n        return rejection(state.dbOpenError);\n    }).finally(function () {\n        state.openComplete = true;\n        resolveDbReady();\n    });\n}\n\nfunction awaitIterator(iterator) {\n    var callNext = function (result) { return iterator.next(result); }, doThrow = function (error) { return iterator.throw(error); }, onSuccess = step(callNext), onError = step(doThrow);\n    function step(getNext) {\n        return function (val) {\n            var next = getNext(val), value = next.value;\n            return next.done ? value :\n                (!value || typeof value.then !== 'function' ?\n                    isArray(value) ? Promise.all(value).then(onSuccess, onError) : onSuccess(value) :\n                    value.then(onSuccess, onError));\n        };\n    }\n    return step(callNext)();\n}\n\nfunction extractTransactionArgs(mode, _tableArgs_, scopeFunc) {\n    var i = arguments.length;\n    if (i < 2)\n        throw new exceptions.InvalidArgument(\"Too few arguments\");\n    var args = new Array(i - 1);\n    while (--i)\n        args[i - 1] = arguments[i];\n    scopeFunc = args.pop();\n    var tables = flatten(args);\n    return [mode, tables, scopeFunc];\n}\nfunction enterTransactionScope(db, mode, storeNames, parentTransaction, scopeFunc) {\n    return DexiePromise.resolve().then(function () {\n        var transless = PSD.transless || PSD;\n        var trans = db._createTransaction(mode, storeNames, db._dbSchema, parentTransaction);\n        var zoneProps = {\n            trans: trans,\n            transless: transless\n        };\n        if (parentTransaction) {\n            trans.idbtrans = parentTransaction.idbtrans;\n        }\n        else {\n            trans.create();\n        }\n        var scopeFuncIsAsync = isAsyncFunction(scopeFunc);\n        if (scopeFuncIsAsync) {\n            incrementExpectedAwaits();\n        }\n        var returnValue;\n        var promiseFollowed = DexiePromise.follow(function () {\n            returnValue = scopeFunc.call(trans, trans);\n            if (returnValue) {\n                if (scopeFuncIsAsync) {\n                    var decrementor = decrementExpectedAwaits.bind(null, null);\n                    returnValue.then(decrementor, decrementor);\n                }\n                else if (typeof returnValue.next === 'function' && typeof returnValue.throw === 'function') {\n                    returnValue = awaitIterator(returnValue);\n                }\n            }\n        }, zoneProps);\n        return (returnValue && typeof returnValue.then === 'function' ?\n            DexiePromise.resolve(returnValue).then(function (x) { return trans.active ?\n                x\n                : rejection(new exceptions.PrematureCommit(\"Transaction committed too early. See http://bit.ly/2kdckMn\")); })\n            : promiseFollowed.then(function () { return returnValue; })).then(function (x) {\n            if (parentTransaction)\n                trans._resolve();\n            return trans._completion.then(function () { return x; });\n        }).catch(function (e) {\n            trans._reject(e);\n            return rejection(e);\n        });\n    });\n}\n\nfunction pad(a, value, count) {\n    var result = isArray(a) ? a.slice() : [a];\n    for (var i = 0; i < count; ++i)\n        result.push(value);\n    return result;\n}\nfunction createVirtualIndexMiddleware(down) {\n    return __assign(__assign({}, down), { table: function (tableName) {\n            var table = down.table(tableName);\n            var schema = table.schema;\n            var indexLookup = {};\n            var allVirtualIndexes = [];\n            function addVirtualIndexes(keyPath, keyTail, lowLevelIndex) {\n                var keyPathAlias = getKeyPathAlias(keyPath);\n                var indexList = (indexLookup[keyPathAlias] = indexLookup[keyPathAlias] || []);\n                var keyLength = keyPath == null ? 0 : typeof keyPath === 'string' ? 1 : keyPath.length;\n                var isVirtual = keyTail > 0;\n                var virtualIndex = __assign(__assign({}, lowLevelIndex), { isVirtual: isVirtual, isPrimaryKey: !isVirtual && lowLevelIndex.isPrimaryKey, keyTail: keyTail,\n                    keyLength: keyLength, extractKey: getKeyExtractor(keyPath), unique: !isVirtual && lowLevelIndex.unique });\n                indexList.push(virtualIndex);\n                if (!virtualIndex.isPrimaryKey) {\n                    allVirtualIndexes.push(virtualIndex);\n                }\n                if (keyLength > 1) {\n                    var virtualKeyPath = keyLength === 2 ?\n                        keyPath[0] :\n                        keyPath.slice(0, keyLength - 1);\n                    addVirtualIndexes(virtualKeyPath, keyTail + 1, lowLevelIndex);\n                }\n                indexList.sort(function (a, b) { return a.keyTail - b.keyTail; });\n                return virtualIndex;\n            }\n            var primaryKey = addVirtualIndexes(schema.primaryKey.keyPath, 0, schema.primaryKey);\n            indexLookup[\":id\"] = [primaryKey];\n            for (var _i = 0, _a = schema.indexes; _i < _a.length; _i++) {\n                var index = _a[_i];\n                addVirtualIndexes(index.keyPath, 0, index);\n            }\n            function findBestIndex(keyPath) {\n                var result = indexLookup[getKeyPathAlias(keyPath)];\n                return result && result[0];\n            }\n            function translateRange(range, keyTail) {\n                return {\n                    type: range.type === 1             ?\n                        2             :\n                        range.type,\n                    lower: pad(range.lower, range.lowerOpen ? down.MAX_KEY : down.MIN_KEY, keyTail),\n                    lowerOpen: true,\n                    upper: pad(range.upper, range.upperOpen ? down.MIN_KEY : down.MAX_KEY, keyTail),\n                    upperOpen: true\n                };\n            }\n            function translateRequest(req) {\n                var index = req.query.index;\n                return index.isVirtual ? __assign(__assign({}, req), { query: {\n                        index: index,\n                        range: translateRange(req.query.range, index.keyTail)\n                    } }) : req;\n            }\n            var result = __assign(__assign({}, table), { schema: __assign(__assign({}, schema), { primaryKey: primaryKey, indexes: allVirtualIndexes, getIndexByKeyPath: findBestIndex }), count: function (req) {\n                    return table.count(translateRequest(req));\n                },\n                query: function (req) {\n                    return table.query(translateRequest(req));\n                },\n                openCursor: function (req) {\n                    var _a = req.query.index, keyTail = _a.keyTail, isVirtual = _a.isVirtual, keyLength = _a.keyLength;\n                    if (!isVirtual)\n                        return table.openCursor(req);\n                    function createVirtualCursor(cursor) {\n                        function _continue(key) {\n                            key != null ?\n                                cursor.continue(pad(key, req.reverse ? down.MAX_KEY : down.MIN_KEY, keyTail)) :\n                                req.unique ?\n                                    cursor.continue(pad(cursor.key, req.reverse ? down.MIN_KEY : down.MAX_KEY, keyTail)) :\n                                    cursor.continue();\n                        }\n                        var virtualCursor = Object.create(cursor, {\n                            continue: { value: _continue },\n                            continuePrimaryKey: {\n                                value: function (key, primaryKey) {\n                                    cursor.continuePrimaryKey(pad(key, down.MAX_KEY, keyTail), primaryKey);\n                                }\n                            },\n                            key: {\n                                get: function () {\n                                    var key = cursor.key;\n                                    return keyLength === 1 ?\n                                        key[0] :\n                                        key.slice(0, keyLength);\n                                }\n                            },\n                            value: {\n                                get: function () {\n                                    return cursor.value;\n                                }\n                            }\n                        });\n                        return virtualCursor;\n                    }\n                    return table.openCursor(translateRequest(req))\n                        .then(function (cursor) { return cursor && createVirtualCursor(cursor); });\n                } });\n            return result;\n        } });\n}\nvar virtualIndexMiddleware = {\n    stack: \"dbcore\",\n    name: \"VirtualIndexMiddleware\",\n    level: 1,\n    create: createVirtualIndexMiddleware\n};\n\nvar hooksMiddleware = {\n    stack: \"dbcore\",\n    name: \"HooksMiddleware\",\n    level: 2,\n    create: function (downCore) { return (__assign(__assign({}, downCore), { table: function (tableName) {\n            var downTable = downCore.table(tableName);\n            var primaryKey = downTable.schema.primaryKey;\n            var tableMiddleware = __assign(__assign({}, downTable), { mutate: function (req) {\n                    var dxTrans = PSD.trans;\n                    var _a = dxTrans.table(tableName).hook, deleting = _a.deleting, creating = _a.creating, updating = _a.updating;\n                    switch (req.type) {\n                        case 'add':\n                            if (creating.fire === nop)\n                                break;\n                            return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);\n                        case 'put':\n                            if (creating.fire === nop && updating.fire === nop)\n                                break;\n                            return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);\n                        case 'delete':\n                            if (deleting.fire === nop)\n                                break;\n                            return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);\n                        case 'deleteRange':\n                            if (deleting.fire === nop)\n                                break;\n                            return dxTrans._promise('readwrite', function () { return deleteRange(req); }, true);\n                    }\n                    return downTable.mutate(req);\n                    function addPutOrDelete(req) {\n                        var dxTrans = PSD.trans;\n                        var keys$$1 = req.keys || getEffectiveKeys(primaryKey, req);\n                        if (!keys$$1)\n                            throw new Error(\"Keys missing\");\n                        req = req.type === 'add' || req.type === 'put' ? __assign(__assign({}, req), { keys: keys$$1, wantResults: true }) :\n                         __assign({}, req);\n                        if (req.type !== 'delete')\n                            req.values = __spreadArrays(req.values);\n                        if (req.keys)\n                            req.keys = __spreadArrays(req.keys);\n                        return getExistingValues(downTable, req, keys$$1).then(function (existingValues) {\n                            var contexts = keys$$1.map(function (key, i) {\n                                var existingValue = existingValues[i];\n                                var ctx = { onerror: null, onsuccess: null };\n                                if (req.type === 'delete') {\n                                    deleting.fire.call(ctx, key, existingValue, dxTrans);\n                                }\n                                else if (req.type === 'add' || existingValue === undefined) {\n                                    var generatedPrimaryKey = creating.fire.call(ctx, key, req.values[i], dxTrans);\n                                    if (key == null && generatedPrimaryKey != null) {\n                                        key = generatedPrimaryKey;\n                                        req.keys[i] = key;\n                                        if (!primaryKey.outbound) {\n                                            setByKeyPath(req.values[i], primaryKey.keyPath, key);\n                                        }\n                                    }\n                                }\n                                else {\n                                    var objectDiff = getObjectDiff(existingValue, req.values[i]);\n                                    var additionalChanges_1 = updating.fire.call(ctx, objectDiff, key, existingValue, dxTrans);\n                                    if (additionalChanges_1) {\n                                        var requestedValue_1 = req.values[i];\n                                        Object.keys(additionalChanges_1).forEach(function (keyPath) {\n                                            if (hasOwn(requestedValue_1, keyPath)) {\n                                                requestedValue_1[keyPath] = additionalChanges_1[keyPath];\n                                            }\n                                            else {\n                                                setByKeyPath(requestedValue_1, keyPath, additionalChanges_1[keyPath]);\n                                            }\n                                        });\n                                    }\n                                }\n                                return ctx;\n                            });\n                            return downTable.mutate(req).then(function (_a) {\n                                var failures = _a.failures, results = _a.results, numFailures = _a.numFailures, lastResult = _a.lastResult;\n                                for (var i = 0; i < keys$$1.length; ++i) {\n                                    var primKey = results ? results[i] : keys$$1[i];\n                                    var ctx = contexts[i];\n                                    if (primKey == null) {\n                                        ctx.onerror && ctx.onerror(failures[i]);\n                                    }\n                                    else {\n                                        ctx.onsuccess && ctx.onsuccess(req.type === 'put' && existingValues[i] ?\n                                            req.values[i] :\n                                            primKey\n                                        );\n                                    }\n                                }\n                                return { failures: failures, results: results, numFailures: numFailures, lastResult: lastResult };\n                            }).catch(function (error) {\n                                contexts.forEach(function (ctx) { return ctx.onerror && ctx.onerror(error); });\n                                return Promise.reject(error);\n                            });\n                        });\n                    }\n                    function deleteRange(req) {\n                        return deleteNextChunk(req.trans, req.range, 10000);\n                    }\n                    function deleteNextChunk(trans, range, limit) {\n                        return downTable.query({ trans: trans, values: false, query: { index: primaryKey, range: range }, limit: limit })\n                            .then(function (_a) {\n                            var result = _a.result;\n                            return addPutOrDelete({ type: 'delete', keys: result, trans: trans }).then(function (res) {\n                                if (res.numFailures > 0)\n                                    return Promise.reject(res.failures[0]);\n                                if (result.length < limit) {\n                                    return { failures: [], numFailures: 0, lastResult: undefined };\n                                }\n                                else {\n                                    return deleteNextChunk(trans, __assign(__assign({}, range), { lower: result[result.length - 1], lowerOpen: true }), limit);\n                                }\n                            });\n                        });\n                    }\n                } });\n            return tableMiddleware;\n        } })); }\n};\n\nvar Dexie =               (function () {\n    function Dexie(name, options) {\n        var _this = this;\n        this._middlewares = {};\n        this.verno = 0;\n        var deps = Dexie.dependencies;\n        this._options = options = __assign({\n            addons: Dexie.addons, autoOpen: true,\n            indexedDB: deps.indexedDB, IDBKeyRange: deps.IDBKeyRange }, options);\n        this._deps = {\n            indexedDB: options.indexedDB,\n            IDBKeyRange: options.IDBKeyRange\n        };\n        var addons = options.addons;\n        this._dbSchema = {};\n        this._versions = [];\n        this._storeNames = [];\n        this._allTables = {};\n        this.idbdb = null;\n        var state = {\n            dbOpenError: null,\n            isBeingOpened: false,\n            onReadyBeingFired: null,\n            openComplete: false,\n            dbReadyResolve: nop,\n            dbReadyPromise: null,\n            cancelOpen: nop,\n            openCanceller: null,\n            autoSchema: true\n        };\n        state.dbReadyPromise = new DexiePromise(function (resolve) {\n            state.dbReadyResolve = resolve;\n        });\n        state.openCanceller = new DexiePromise(function (_, reject) {\n            state.cancelOpen = reject;\n        });\n        this._state = state;\n        this.name = name;\n        this.on = Events(this, \"populate\", \"blocked\", \"versionchange\", { ready: [promisableChain, nop] });\n        this.on.ready.subscribe = override(this.on.ready.subscribe, function (subscribe) {\n            return function (subscriber, bSticky) {\n                Dexie.vip(function () {\n                    var state = _this._state;\n                    if (state.openComplete) {\n                        if (!state.dbOpenError)\n                            DexiePromise.resolve().then(subscriber);\n                        if (bSticky)\n                            subscribe(subscriber);\n                    }\n                    else if (state.onReadyBeingFired) {\n                        state.onReadyBeingFired.push(subscriber);\n                        if (bSticky)\n                            subscribe(subscriber);\n                    }\n                    else {\n                        subscribe(subscriber);\n                        var db_1 = _this;\n                        if (!bSticky)\n                            subscribe(function unsubscribe() {\n                                db_1.on.ready.unsubscribe(subscriber);\n                                db_1.on.ready.unsubscribe(unsubscribe);\n                            });\n                    }\n                });\n            };\n        });\n        this.Collection = createCollectionConstructor(this);\n        this.Table = createTableConstructor(this);\n        this.Transaction = createTransactionConstructor(this);\n        this.Version = createVersionConstructor(this);\n        this.WhereClause = createWhereClauseConstructor(this);\n        this.on(\"versionchange\", function (ev) {\n            if (ev.newVersion > 0)\n                console.warn(\"Another connection wants to upgrade database '\" + _this.name + \"'. Closing db now to resume the upgrade.\");\n            else\n                console.warn(\"Another connection wants to delete database '\" + _this.name + \"'. Closing db now to resume the delete request.\");\n            _this.close();\n        });\n        this.on(\"blocked\", function (ev) {\n            if (!ev.newVersion || ev.newVersion < ev.oldVersion)\n                console.warn(\"Dexie.delete('\" + _this.name + \"') was blocked\");\n            else\n                console.warn(\"Upgrade '\" + _this.name + \"' blocked by other connection holding version \" + ev.oldVersion / 10);\n        });\n        this._maxKey = getMaxKey(options.IDBKeyRange);\n        this._createTransaction = function (mode, storeNames, dbschema, parentTransaction) { return new _this.Transaction(mode, storeNames, dbschema, parentTransaction); };\n        this._fireOnBlocked = function (ev) {\n            _this.on(\"blocked\").fire(ev);\n            connections\n                .filter(function (c) { return c.name === _this.name && c !== _this && !c._state.vcFired; })\n                .map(function (c) { return c.on(\"versionchange\").fire(ev); });\n        };\n        this.use(virtualIndexMiddleware);\n        this.use(hooksMiddleware);\n        addons.forEach(function (addon) { return addon(_this); });\n    }\n    Dexie.prototype.version = function (versionNumber) {\n        if (isNaN(versionNumber) || versionNumber < 0.1)\n            throw new exceptions.Type(\"Given version is not a positive number\");\n        versionNumber = Math.round(versionNumber * 10) / 10;\n        if (this.idbdb || this._state.isBeingOpened)\n            throw new exceptions.Schema(\"Cannot add version when database is open\");\n        this.verno = Math.max(this.verno, versionNumber);\n        var versions = this._versions;\n        var versionInstance = versions.filter(function (v) { return v._cfg.version === versionNumber; })[0];\n        if (versionInstance)\n            return versionInstance;\n        versionInstance = new this.Version(versionNumber);\n        versions.push(versionInstance);\n        versions.sort(lowerVersionFirst);\n        versionInstance.stores({});\n        this._state.autoSchema = false;\n        return versionInstance;\n    };\n    Dexie.prototype._whenReady = function (fn) {\n        var _this = this;\n        return this._state.openComplete || PSD.letThrough ? fn() : new DexiePromise(function (resolve, reject) {\n            if (!_this._state.isBeingOpened) {\n                if (!_this._options.autoOpen) {\n                    reject(new exceptions.DatabaseClosed());\n                    return;\n                }\n                _this.open().catch(nop);\n            }\n            _this._state.dbReadyPromise.then(resolve, reject);\n        }).then(fn);\n    };\n    Dexie.prototype.use = function (_a) {\n        var stack = _a.stack, create = _a.create, level = _a.level, name = _a.name;\n        if (name)\n            this.unuse({ stack: stack, name: name });\n        var middlewares = this._middlewares[stack] || (this._middlewares[stack] = []);\n        middlewares.push({ stack: stack, create: create, level: level == null ? 10 : level, name: name });\n        middlewares.sort(function (a, b) { return a.level - b.level; });\n        return this;\n    };\n    Dexie.prototype.unuse = function (_a) {\n        var stack = _a.stack, name = _a.name, create = _a.create;\n        if (stack && this._middlewares[stack]) {\n            this._middlewares[stack] = this._middlewares[stack].filter(function (mw) {\n                return create ? mw.create !== create :\n                    name ? mw.name !== name :\n                        false;\n            });\n        }\n        return this;\n    };\n    Dexie.prototype.open = function () {\n        return dexieOpen(this);\n    };\n    Dexie.prototype.close = function () {\n        var idx = connections.indexOf(this), state = this._state;\n        if (idx >= 0)\n            connections.splice(idx, 1);\n        if (this.idbdb) {\n            try {\n                this.idbdb.close();\n            }\n            catch (e) { }\n            this.idbdb = null;\n        }\n        this._options.autoOpen = false;\n        state.dbOpenError = new exceptions.DatabaseClosed();\n        if (state.isBeingOpened)\n            state.cancelOpen(state.dbOpenError);\n        state.dbReadyPromise = new DexiePromise(function (resolve) {\n            state.dbReadyResolve = resolve;\n        });\n        state.openCanceller = new DexiePromise(function (_, reject) {\n            state.cancelOpen = reject;\n        });\n    };\n    Dexie.prototype.delete = function () {\n        var _this = this;\n        var hasArguments = arguments.length > 0;\n        var state = this._state;\n        return new DexiePromise(function (resolve, reject) {\n            var doDelete = function () {\n                _this.close();\n                var req = _this._deps.indexedDB.deleteDatabase(_this.name);\n                req.onsuccess = wrap(function () {\n                    databaseEnumerator.remove(_this.name);\n                    resolve();\n                });\n                req.onerror = eventRejectHandler(reject);\n                req.onblocked = _this._fireOnBlocked;\n            };\n            if (hasArguments)\n                throw new exceptions.InvalidArgument(\"Arguments not allowed in db.delete()\");\n            if (state.isBeingOpened) {\n                state.dbReadyPromise.then(doDelete);\n            }\n            else {\n                doDelete();\n            }\n        });\n    };\n    Dexie.prototype.backendDB = function () {\n        return this.idbdb;\n    };\n    Dexie.prototype.isOpen = function () {\n        return this.idbdb !== null;\n    };\n    Dexie.prototype.hasBeenClosed = function () {\n        var dbOpenError = this._state.dbOpenError;\n        return dbOpenError && (dbOpenError.name === 'DatabaseClosed');\n    };\n    Dexie.prototype.hasFailed = function () {\n        return this._state.dbOpenError !== null;\n    };\n    Dexie.prototype.dynamicallyOpened = function () {\n        return this._state.autoSchema;\n    };\n    Object.defineProperty(Dexie.prototype, \"tables\", {\n        get: function () {\n            var _this = this;\n            return keys(this._allTables).map(function (name) { return _this._allTables[name]; });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Dexie.prototype.transaction = function () {\n        var args = extractTransactionArgs.apply(this, arguments);\n        return this._transaction.apply(this, args);\n    };\n    Dexie.prototype._transaction = function (mode, tables, scopeFunc) {\n        var _this = this;\n        var parentTransaction = PSD.trans;\n        if (!parentTransaction || parentTransaction.db !== this || mode.indexOf('!') !== -1)\n            parentTransaction = null;\n        var onlyIfCompatible = mode.indexOf('?') !== -1;\n        mode = mode.replace('!', '').replace('?', '');\n        var idbMode, storeNames;\n        try {\n            storeNames = tables.map(function (table) {\n                var storeName = table instanceof _this.Table ? table.name : table;\n                if (typeof storeName !== 'string')\n                    throw new TypeError(\"Invalid table argument to Dexie.transaction(). Only Table or String are allowed\");\n                return storeName;\n            });\n            if (mode == \"r\" || mode === READONLY)\n                idbMode = READONLY;\n            else if (mode == \"rw\" || mode == READWRITE)\n                idbMode = READWRITE;\n            else\n                throw new exceptions.InvalidArgument(\"Invalid transaction mode: \" + mode);\n            if (parentTransaction) {\n                if (parentTransaction.mode === READONLY && idbMode === READWRITE) {\n                    if (onlyIfCompatible) {\n                        parentTransaction = null;\n                    }\n                    else\n                        throw new exceptions.SubTransaction(\"Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY\");\n                }\n                if (parentTransaction) {\n                    storeNames.forEach(function (storeName) {\n                        if (parentTransaction && parentTransaction.storeNames.indexOf(storeName) === -1) {\n                            if (onlyIfCompatible) {\n                                parentTransaction = null;\n                            }\n                            else\n                                throw new exceptions.SubTransaction(\"Table \" + storeName +\n                                    \" not included in parent transaction.\");\n                        }\n                    });\n                }\n                if (onlyIfCompatible && parentTransaction && !parentTransaction.active) {\n                    parentTransaction = null;\n                }\n            }\n        }\n        catch (e) {\n            return parentTransaction ?\n                parentTransaction._promise(null, function (_, reject) { reject(e); }) :\n                rejection(e);\n        }\n        var enterTransaction = enterTransactionScope.bind(null, this, idbMode, storeNames, parentTransaction, scopeFunc);\n        return (parentTransaction ?\n            parentTransaction._promise(idbMode, enterTransaction, \"lock\") :\n            PSD.trans ?\n                usePSD(PSD.transless, function () { return _this._whenReady(enterTransaction); }) :\n                this._whenReady(enterTransaction));\n    };\n    Dexie.prototype.table = function (tableName) {\n        if (!hasOwn(this._allTables, tableName)) {\n            throw new exceptions.InvalidTable(\"Table \" + tableName + \" does not exist\");\n        }\n        return this._allTables[tableName];\n    };\n    return Dexie;\n}());\n\nvar Dexie$1 = Dexie;\nprops(Dexie$1, __assign(__assign({}, fullNameExceptions), {\n    delete: function (databaseName) {\n        var db = new Dexie$1(databaseName);\n        return db.delete();\n    },\n    exists: function (name) {\n        return new Dexie$1(name, { addons: [] }).open().then(function (db) {\n            db.close();\n            return true;\n        }).catch('NoSuchDatabaseError', function () { return false; });\n    },\n    getDatabaseNames: function (cb) {\n        return databaseEnumerator ?\n            databaseEnumerator.getDatabaseNames().then(cb) :\n            DexiePromise.resolve([]);\n    },\n    defineClass: function () {\n        function Class(content) {\n            extend(this, content);\n        }\n        return Class;\n    },\n    ignoreTransaction: function (scopeFunc) {\n        return PSD.trans ?\n            usePSD(PSD.transless, scopeFunc) :\n            scopeFunc();\n    },\n    vip: vip, async: function (generatorFn) {\n        return function () {\n            try {\n                var rv = awaitIterator(generatorFn.apply(this, arguments));\n                if (!rv || typeof rv.then !== 'function')\n                    return DexiePromise.resolve(rv);\n                return rv;\n            }\n            catch (e) {\n                return rejection(e);\n            }\n        };\n    }, spawn: function (generatorFn, args, thiz) {\n        try {\n            var rv = awaitIterator(generatorFn.apply(thiz, args || []));\n            if (!rv || typeof rv.then !== 'function')\n                return DexiePromise.resolve(rv);\n            return rv;\n        }\n        catch (e) {\n            return rejection(e);\n        }\n    },\n    currentTransaction: {\n        get: function () { return PSD.trans || null; }\n    }, waitFor: function (promiseOrFunction, optionalTimeout) {\n        var promise = DexiePromise.resolve(typeof promiseOrFunction === 'function' ?\n            Dexie$1.ignoreTransaction(promiseOrFunction) :\n            promiseOrFunction)\n            .timeout(optionalTimeout || 60000);\n        return PSD.trans ?\n            PSD.trans.waitFor(promise) :\n            promise;\n    },\n    Promise: DexiePromise,\n    debug: {\n        get: function () { return debug; },\n        set: function (value) {\n            setDebug(value, value === 'dexie' ? function () { return true; } : dexieStackFrameFilter);\n        }\n    },\n    derive: derive, extend: extend, props: props, override: override,\n    Events: Events,\n    getByKeyPath: getByKeyPath, setByKeyPath: setByKeyPath, delByKeyPath: delByKeyPath, shallowClone: shallowClone, deepClone: deepClone, getObjectDiff: getObjectDiff, asap: asap,\n    minKey: minKey,\n    addons: [],\n    connections: connections,\n    errnames: errnames,\n    dependencies: (function () {\n        try {\n            return {\n                indexedDB: _global.indexedDB || _global.mozIndexedDB || _global.webkitIndexedDB || _global.msIndexedDB,\n                IDBKeyRange: _global.IDBKeyRange || _global.webkitIDBKeyRange\n            };\n        }\n        catch (e) {\n            return { indexedDB: null, IDBKeyRange: null };\n        }\n    })(),\n    semVer: DEXIE_VERSION, version: DEXIE_VERSION.split('.')\n        .map(function (n) { return parseInt(n); })\n        .reduce(function (p, c, i) { return p + (c / Math.pow(10, i * 2)); }),\n    default: Dexie$1,\n    Dexie: Dexie$1 }));\nDexie$1.maxKey = getMaxKey(Dexie$1.dependencies.IDBKeyRange);\n\ninitDatabaseEnumerator(Dexie.dependencies.indexedDB);\nDexiePromise.rejectionMapper = mapError;\nsetDebug(debug, dexieStackFrameFilter);\n\nexport default Dexie;\nexport { Dexie };\n//# sourceMappingURL=dexie.mjs.map\n","import cv from 'opencv-ts'\n\n// TODO: 雑に詰め込みすぎなのでいい感じに整理して assets に\n\nexport function sleep(msec) {\n  return new Promise(resolve => setTimeout(resolve, msec))\n}\n\n\nexport async function fetchImage(path) {\n  const img = new Image()\n  img.src = path\n\n  await new Promise(resolve => {img.onload = resolve})\n  console.log(`fetched ${path}`)\n  return cv.imread(img)\n}\n\n\nlet canvasCount = 0\nexport function dumpImage(img) {\n  const canvasId = `canvas${canvasCount}`\n  if (document.querySelector(`#${canvasId}`) == null) {\n    const divDump = document.querySelector('#imgdump')\n    const newCanvas = document.createElement('canvas')\n    newCanvas.id = canvasId\n    divDump.append(newCanvas)\n  }\n  cv.imshow(canvasId, img)\n}\n\nexport function setNextCanvas() {\n  canvasCount++\n}\n\nexport function setFirstCanvas() {\n  canvasCount = 0\n}\n\nexport function dumpImageNewline() {\n  if (document.querySelector('#imgdump')?.lastChild?.tagName?.toLowerCase() === 'p') {\n    return\n  }\n  const divDump = document.querySelector('#imgdump')\n  const newElm = document.createElement('p')\n  divDump.append(newElm)\n}\n\n\nexport function countImageDiffAtPoint(image, templateImage, trimRect, diffBinaryThreshold, filter, debug) {\n  // const trimmed = filter != null ? filter(image.roi(trimRect)) : image.roi(trimRect)\n  const trimmed = image.roi(trimRect)\n  if (filter != null) {\n    filter(trimmed)\n  }\n\n  const diff = new cv.Mat()\n  cv.absdiff(templateImage, trimmed, diff)\n  cv.cvtColor(diff, diff, cv.COLOR_BGR2GRAY)\n\n  const result = new cv.Mat()\n  cv.threshold(diff, result, diffBinaryThreshold, 255, cv.THRESH_BINARY)\n\n  // 入力の濃淡で 1px の誤差が出ることがあるので補正\n  cv.morphologyEx(result, result, cv.MORPH_OPEN, cv.Mat.ones(2, 2, cv.CV_8U))\n\n  const diffCount = cv.countNonZero(result)\n\n  if (debug != null) {\n    debug({trimmed, templateImage, diff, result})\n  }\n\n  result.delete()\n  diff.delete()\n  trimmed.delete()\n\n  // const buffer = image.roi(trimRect)\n  // cv.absdiff(templateImage, buffer, buffer)\n  // cv.cvtColor(buffer, buffer, cv.COLOR_BGR2GRAY)\n  // cv.threshold(buffer, buffer, diffBinaryThreshold, 255, cv.THRESH_BINARY)\n  // const diffCount = cv.countNonZero(buffer)\n  // buffer.delete()\n\n  return diffCount\n}\n\n\nexport function getMostMatchedImage(image, templates, trimRect, diffBinaryThreshold = 63, filter = null, debug = null) {\n  let minDiffCount = Number.MAX_SAFE_INTEGER\n  let candidate = null\n\n  for (const [name, template] of Object.entries(templates)) {\n    const diffCount = countImageDiffAtPoint(image, template, trimRect, diffBinaryThreshold, filter, debug)\n\n    if ( diffCount === 0 ) {\n      return {name, diffCount}\n    }\n    else if ( minDiffCount > diffCount ) {\n      minDiffCount = diffCount;\n      candidate = name;\n    }\n  }\n\n  return {name: candidate, diffCount: minDiffCount}\n}\n\n\nexport function promiseAllRecursive(value) {\n  if (value instanceof Promise) {\n    return value\n  }\n\n  if (Array.isArray(value)) {\n    return Promise.all(value.map(promiseAllRecursive))\n  }\n\n  if (typeof value === 'object') {\n    return resolveObject(value)\n  }\n\n  return Promise.resolve(value)\n}\n\nfunction resolveObject(obj) {\n  const promises = Object\n    .keys(obj)\n    .map(key => promiseAllRecursive(obj[key]).then(value => ({ key, value }))) // as Promise<{key: any, value: any}>[]\n\n  return Promise.all(promises).then(results => {\n    return results.reduce((obj, pair) => {\n      obj[pair.key] = pair.value\n      return obj\n    }, {})\n  })\n}\n\n\n// export function bgr2hsv(src) {\n//   const hsv = new cv.Mat()\n//   cv.cvtColor(src, hsv, cv.COLOR_BGR2HSV, 3)\n\n//   return hsv\n// }\n\n// export function rgba2gray(src) {\n//   const gray = new cv.Mat()\n//   cv.cvtColor(src, gray, cv.COLOR_RGBA2GRAY, 0)\n\n//   return gray\n// }\n\nexport function maskByColor(src, min, max) {\n  const mask = new cv.Mat()\n  const sMin = new cv.Mat(src.rows, src.cols, src.type(), min)\n  const sMax = new cv.Mat(src.rows, src.cols, src.type(), max)\n  cv.inRange(src, sMin, sMax, mask)\n\n  const dst = new cv.Mat()\n  src.copyTo(dst, mask)\n\n  sMax.delete()\n  sMin.delete()\n  mask.delete()\n\n  return dst\n}\n","import cv from 'opencv-ts';\nimport Dexie from \"dexie\";\nimport { MAX_PAGE, ROWS_PER_PAGE_IN_EQLIST, COLS_PER_PAGE_IN_EQLIST, ROWS_PER_PAGE_IN_RINNE, COLS_PER_PAGE_IN_RINNE } from 'assets/mhrise/metadata';\nimport { fetchImage, getMostMatchedImage, promiseAllRecursive, maskByColor } from 'util.js';\nimport 'util.js'; // for debug\nexport const SCAN_MODE = {\n    MODE_EQUIP_LIST: 'equip_list',\n    MODE_RINNE: 'rinne',\n};\nexport const SCAN_SKIP_MODE = {\n    SKIP_SCANNED_CHARM: 'skip_scanned_charm',\n    SKIP_SAME_CHARM_AS_IMMEDIATELY_BEFORE: 'skip_same_charm_as_immediately_before',\n    NO_SKIP: 'no_skip',\n};\nexport default class MHRiseCharmScanner {\n    constructor({ scanMode, scanSkipMode }) {\n        this.EQUIPMENT_SPEC_HEADER_BASE_X = 1023;\n        this.EQUIPMENT_SPEC_HEADER_BASE_Y = 88;\n        this.POINT_RARITY = new cv.Point(1190, 176);\n        this.POINT_SLOTS = new cv.Point(1160, 200);\n        this.POINT_SLOT1 = new cv.Point(1166, 200);\n        this.POINT_SLOT2 = new cv.Point(1194, 200);\n        this.POINT_SLOT3 = new cv.Point(1222, 200);\n        this.POINT_SKILL1 = new cv.Point(1033, 266);\n        this.POINT_SKILL2 = new cv.Point(1033, 317);\n        this.POINT_SKILL_LEVEL1 = new cv.Point(1190, 290);\n        this.POINT_SKILL_LEVEL2 = new cv.Point(1190, 341);\n        // 装備確認画面\n        this.POINT_PAGE = new cv.Point(787, 582); // ページ番号 (1桁数字 & 2桁数字の1桁目)\n        this.POINT_PAGE_SECOND_DIGIT = new cv.Point(796, 582); // ページ番号 (2桁数字)\n        this.POINT_CHARM_AREA = new cv.Point(634, 359); // アイコンリストの左上座標\n        this.POINT_CHARM_ICON_BASE = new cv.Point(634, 360); // アイコンリストの1つ目の場所\n        // private readonly SIZE_CHARM_AREA             = new cv.Size(357, 199)  // アイコンリストのサイズ\n        this.SIZE_CHARM_ICON_FRAME = new cv.Size(35, 34);\n        // 輪廻画面 (位置調整する都合で, EQUIPMENT_SPEC_HEADER_BASE に相対位置を足して定義)\n        // offset(-334, 14) で adjust されるはず? 手元のキャプボでは 1px ずれるので (-335, 13) で確認\n        this.POINT_PAGE_IN_RINNE = new cv.Point(796, 532); // ページ番号\n        this.POINT_PAGE_SECOND_DIGIT_IN_RINNE = new cv.Point(805, 532); // ページ番号 (2桁数字)\n        this.POINT_CHARM_AREA_IN_RINNE = new cv.Point(657, 358); // アイコンリストの左上座標 (-366, 270)\n        this.SIZE_CHARM_AREA_IN_RINNE = new cv.Size(329, 164); // アイコンリストのサイズ\n        this.prevPosition = { page: -1, row: -1, col: -1 };\n        this.indexeddb = null;\n        this.nCharms = 0; // このスキャンで読んだ護石の数\n        this.charms = {}; // このスキャンで読んだ護石のスペック\n        this.adjustOffset = { x: 0, y: 0 };\n        this.scanMode = scanMode !== null && scanMode !== void 0 ? scanMode : SCAN_MODE.MODE_EQUIP_LIST;\n        this.scanSkipMode = scanSkipMode !== null && scanSkipMode !== void 0 ? scanSkipMode : SCAN_SKIP_MODE.SKIP_SAME_CHARM_AS_IMMEDIATELY_BEFORE;\n        this.ROWS_PER_PAGE = (scanMode === SCAN_MODE.MODE_RINNE) ? ROWS_PER_PAGE_IN_RINNE : ROWS_PER_PAGE_IN_EQLIST;\n        this.COLS_PER_PAGE = (scanMode === SCAN_MODE.MODE_RINNE) ? COLS_PER_PAGE_IN_RINNE : COLS_PER_PAGE_IN_EQLIST;\n        this.reset();\n        this.indexeddb = new Dexie('charms');\n        this.indexeddb.version(1).stores({ images: 'name' });\n    }\n    static async init() {\n        const templateFetchPromises = {\n            others: {\n                charmSelectFrame: fetchImage('img/templates/others/charm-select-frame.png'),\n                charmSelectFrameForRinne: fetchImage('img/templates/others/charm-select-frame-for-rinne.png'),\n                equipmentSpecHeader: fetchImage('img/templates/others/equipment-spec-header.png'),\n            },\n            page: {},\n            'page-parts': {\n                0: fetchImage('img/templates/page-parts/0.png'),\n                1: fetchImage('img/templates/page-parts/1.png'),\n                2: fetchImage('img/templates/page-parts/2.png'),\n                3: fetchImage('img/templates/page-parts/3.png'),\n                4: fetchImage('img/templates/page-parts/4.png'),\n                5: fetchImage('img/templates/page-parts/5.png'),\n                6: fetchImage('img/templates/page-parts/6.png'),\n                7: fetchImage('img/templates/page-parts/7.png'),\n                8: fetchImage('img/templates/page-parts/8.png'),\n                9: fetchImage('img/templates/page-parts/9.png'),\n            },\n            rare: {\n                10: fetchImage('img/templates/rare/10.jpg'),\n                9: fetchImage('img/templates/rare/9.jpg'),\n                8: fetchImage('img/templates/rare/8.jpg'),\n                7: fetchImage('img/templates/rare/7.jpg'),\n                6: fetchImage('img/templates/rare/6.jpg'),\n                5: fetchImage('img/templates/rare/5.jpg'),\n                4: fetchImage('img/templates/rare/4.jpg'),\n            },\n            lvl: {\n                0: fetchImage('img/templates/lvl/0.jpg'),\n                1: fetchImage('img/templates/lvl/1.jpg'),\n                2: fetchImage('img/templates/lvl/2.jpg'),\n                3: fetchImage('img/templates/lvl/3.jpg'),\n                4: fetchImage('img/templates/lvl/4.jpg'),\n                5: fetchImage('img/templates/lvl/5.jpg'),\n                6: fetchImage('img/templates/lvl/6.jpg'),\n                7: fetchImage('img/templates/lvl/7.jpg'),\n            },\n            slot: {\n                // '0-0-0':              fetchImage('img/templates/slot/0.jpg'),\n                // '1-0-0':              fetchImage('img/templates/slot/1.jpg'),\n                // '1-1-0':              fetchImage('img/templates/slot/11.jpg'),\n                // '1-1-1':              fetchImage('img/templates/slot/111.jpg'),\n                // '2-0-0':              fetchImage('img/templates/slot/2.jpg'),\n                // '2-1-0':              fetchImage('img/templates/slot/21.jpg'),\n                // '2-1-1':              fetchImage('img/templates/slot/211.jpg'),\n                // '2-2-0':              fetchImage('img/templates/slot/22.jpg'),\n                // '2-2-1':              fetchImage('img/templates/slot/221.jpg'),\n                // '3-0-0':              fetchImage('img/templates/slot/3.jpg'),\n                // '3-1-0':              fetchImage('img/templates/slot/31.jpg'),\n                // '3-1-1':              fetchImage('img/templates/slot/311.jpg'),\n                // '3-2-0':              fetchImage('img/templates/slot/32.jpg'),\n                // '3-2-1':              fetchImage('img/templates/slot/321.jpg'),\n                // '4-0-0':              fetchImage('img/templates/slot/4.jpg'),\n                0: fetchImage('img/templates/slot/0.jpg'),\n                1: fetchImage('img/templates/slot/1.jpg'),\n                2: fetchImage('img/templates/slot/2.jpg'),\n                3: fetchImage('img/templates/slot/3.jpg'),\n                4: fetchImage('img/templates/slot/4.jpg'),\n            },\n            skill: {\n                'KO術': fetchImage('img/templates/skill/KO術.jpg'),\n                '匠': fetchImage('img/templates/skill/匠.jpg'),\n                '不屈': fetchImage('img/templates/skill/不屈.jpg'),\n                '体術': fetchImage('img/templates/skill/体術.jpg'),\n                '幸運': fetchImage('img/templates/skill/幸運.jpg'),\n                '心眼': fetchImage('img/templates/skill/心眼.jpg'),\n                '攻撃': fetchImage('img/templates/skill/攻撃.jpg'),\n                '業物': fetchImage('img/templates/skill/業物.jpg'),\n                '渾身': fetchImage('img/templates/skill/渾身.jpg'),\n                '無し': fetchImage('img/templates/skill/無し.jpg'),\n                '砲術': fetchImage('img/templates/skill/砲術.jpg'),\n                '耐震': fetchImage('img/templates/skill/耐震.jpg'),\n                '耳栓': fetchImage('img/templates/skill/耳栓.jpg'),\n                '逆襲': fetchImage('img/templates/skill/逆襲.jpg'),\n                '防御': fetchImage('img/templates/skill/防御.jpg'),\n                '陽動': fetchImage('img/templates/skill/陽動.jpg'),\n                '集中': fetchImage('img/templates/skill/集中.jpg'),\n                'ボマー': fetchImage('img/templates/skill/ボマー.jpg'),\n                '地質学': fetchImage('img/templates/skill/地質学.jpg'),\n                '広域化': fetchImage('img/templates/skill/広域化.jpg'),\n                '挑戦者': fetchImage('img/templates/skill/挑戦者.jpg'),\n                '早食い': fetchImage('img/templates/skill/早食い.jpg'),\n                '植生学': fetchImage('img/templates/skill/植生学.jpg'),\n                '毒耐性': fetchImage('img/templates/skill/毒耐性.jpg'),\n                '水耐性': fetchImage('img/templates/skill/水耐性.jpg'),\n                '氷耐性': fetchImage('img/templates/skill/氷耐性.jpg'),\n                '満足感': fetchImage('img/templates/skill/満足感.jpg'),\n                '火耐性': fetchImage('img/templates/skill/火耐性.jpg'),\n                '破壊王': fetchImage('img/templates/skill/破壊王.jpg'),\n                '納刀術': fetchImage('img/templates/skill/納刀術.jpg'),\n                '見切り': fetchImage('img/templates/skill/見切り.jpg'),\n                '超会心': fetchImage('img/templates/skill/超会心.jpg'),\n                '逆恨み': fetchImage('img/templates/skill/逆恨み.jpg'),\n                '達人芸': fetchImage('img/templates/skill/達人芸.jpg'),\n                '雷耐性': fetchImage('img/templates/skill/雷耐性.jpg'),\n                '鬼火纏': fetchImage('img/templates/skill/鬼火纏.jpg'),\n                '龍耐性': fetchImage('img/templates/skill/龍耐性.jpg'),\n                'ブレ抑制': fetchImage('img/templates/skill/ブレ抑制.jpg'),\n                'ランナー': fetchImage('img/templates/skill/ランナー.jpg'),\n                '乗り名人': fetchImage('img/templates/skill/乗り名人.jpg'),\n                '剛刃研磨': fetchImage('img/templates/skill/剛刃研磨.jpg'),\n                '力の解放': fetchImage('img/templates/skill/力の解放.jpg'),\n                '反動軽減': fetchImage('img/templates/skill/反動軽減.jpg'),\n                '回復速度': fetchImage('img/templates/skill/回復速度.jpg'),\n                '回避性能': fetchImage('img/templates/skill/回避性能.jpg'),\n                '壁面移動': fetchImage('img/templates/skill/壁面移動.jpg'),\n                '弱点特効': fetchImage('img/templates/skill/弱点特効.jpg'),\n                '強化持続': fetchImage('img/templates/skill/強化持続.jpg'),\n                '弾丸節約': fetchImage('img/templates/skill/弾丸節約.jpg'),\n                '弾導強化': fetchImage('img/templates/skill/弾導強化.jpg'),\n                '死中に活': fetchImage('img/templates/skill/死中に活.jpg'),\n                '気絶耐性': fetchImage('img/templates/skill/気絶耐性.jpg'),\n                '泡沫の舞': fetchImage('img/templates/skill/泡沫の舞.jpg'),\n                '泥雪耐性': fetchImage('img/templates/skill/泥雪耐性.jpg'),\n                '滑走強化': fetchImage('img/templates/skill/滑走強化.jpg'),\n                '火事場力': fetchImage('img/templates/skill/火事場力.jpg'),\n                '睡眠耐性': fetchImage('img/templates/skill/睡眠耐性.jpg'),\n                '砲弾装填': fetchImage('img/templates/skill/砲弾装填.jpg'),\n                '翔蟲使い': fetchImage('img/templates/skill/翔蟲使い.jpg'),\n                '装填拡張': fetchImage('img/templates/skill/装填拡張.jpg'),\n                '装填速度': fetchImage('img/templates/skill/装填速度.jpg'),\n                '速射強化': fetchImage('img/templates/skill/速射強化.jpg'),\n                '鈍器使い': fetchImage('img/templates/skill/鈍器使い.jpg'),\n                '風圧耐性': fetchImage('img/templates/skill/風圧耐性.jpg'),\n                '飛び込み': fetchImage('img/templates/skill/飛び込み.jpg'),\n                '高速変形': fetchImage('img/templates/skill/高速変形.jpg'),\n                '麻痺耐性': fetchImage('img/templates/skill/麻痺耐性.jpg'),\n                '回避距離UP': fetchImage('img/templates/skill/回避距離UP.jpg'),\n                'ひるみ軽減': fetchImage('img/templates/skill/ひるみ軽減.jpg'),\n                'ガード強化': fetchImage('img/templates/skill/ガード強化.jpg'),\n                'ガード性能': fetchImage('img/templates/skill/ガード性能.jpg'),\n                '攻めの守勢': fetchImage('img/templates/skill/攻めの守勢.jpg'),\n                '毒属性強化': fetchImage('img/templates/skill/毒属性強化.jpg'),\n                '笛吹き名人': fetchImage('img/templates/skill/笛吹き名人.jpg'),\n                '精霊の加護': fetchImage('img/templates/skill/精霊の加護.jpg'),\n                '腹減り耐性': fetchImage('img/templates/skill/腹減り耐性.jpg'),\n                '体力回復量UP': fetchImage('img/templates/skill/体力回復量UP.jpg'),\n                'キノコ大好き': fetchImage('img/templates/skill/キノコ大好き.jpg'),\n                'ジャンプ鉄人': fetchImage('img/templates/skill/ジャンプ鉄人.jpg'),\n                'スタミナ奪取': fetchImage('img/templates/skill/スタミナ奪取.jpg'),\n                'フルチャージ': fetchImage('img/templates/skill/フルチャージ.jpg'),\n                '剥ぎ取り鉄人': fetchImage('img/templates/skill/剥ぎ取り鉄人.jpg'),\n                '抜刀術【力】': fetchImage('img/templates/skill/抜刀術【力】.jpg'),\n                '抜刀術【技】': fetchImage('img/templates/skill/抜刀術【技】.jpg'),\n                '爆破属性強化': fetchImage('img/templates/skill/爆破属性強化.jpg'),\n                '特殊射撃強化': fetchImage('img/templates/skill/特殊射撃強化.jpg'),\n                '睡眠属性強化': fetchImage('img/templates/skill/睡眠属性強化.jpg'),\n                '麻痺属性強化': fetchImage('img/templates/skill/麻痺属性強化.jpg'),\n                '会心撃【属性】': fetchImage('img/templates/skill/会心撃【属性】.jpg'),\n                '属性やられ耐性': fetchImage('img/templates/skill/属性やられ耐性.jpg'),\n                '水属性攻撃強化': fetchImage('img/templates/skill/水属性攻撃強化.jpg'),\n                '氷属性攻撃強化': fetchImage('img/templates/skill/氷属性攻撃強化.jpg'),\n                '火属性攻撃強化': fetchImage('img/templates/skill/火属性攻撃強化.jpg'),\n                '爆破やられ耐性': fetchImage('img/templates/skill/爆破やられ耐性.jpg'),\n                '砥石使用高速化': fetchImage('img/templates/skill/砥石使用高速化.jpg'),\n                '雷属性攻撃強化': fetchImage('img/templates/skill/雷属性攻撃強化.jpg'),\n                '龍属性攻撃強化': fetchImage('img/templates/skill/龍属性攻撃強化.jpg'),\n                'アイテム使用強化': fetchImage('img/templates/skill/アイテム使用強化.jpg'),\n                'スタミナ急速回復': fetchImage('img/templates/skill/スタミナ急速回復.jpg'),\n                '散弾・拡散矢強化': fetchImage('img/templates/skill/散弾・拡散矢強化.jpg'),\n                '貫通弾・貫通矢強化': fetchImage('img/templates/skill/貫通弾・貫通矢強化.jpg'),\n                '通常弾・連射矢強化': fetchImage('img/templates/skill/通常弾・連射矢強化.jpg'),\n                // added in sunbreak\n                'チャージマスター': fetchImage('img/templates/skill/チャージマスター.jpg'),\n                'チューンアップ': fetchImage('img/templates/skill/チューンアップ.jpg'),\n                '供応': fetchImage('img/templates/skill/供応.jpg'),\n                '刃鱗磨き': fetchImage('img/templates/skill/刃鱗磨き.jpg'),\n                '合気': fetchImage('img/templates/skill/合気.jpg'),\n                '壁面移動【翔】': fetchImage('img/templates/skill/壁面移動【翔】.jpg'),\n                '攻勢': fetchImage('img/templates/skill/攻勢.jpg'),\n                '災禍転福': fetchImage('img/templates/skill/災禍転福.jpg'),\n                '研磨術【鋭】': fetchImage('img/templates/skill/研磨術【鋭】.jpg'),\n                '連撃': fetchImage('img/templates/skill/連撃.jpg'),\n                // added in v15 charm farming\n                '炎鱗の恩恵': fetchImage('img/templates/skill/炎鱗の恩恵.jpg'),\n                '鋼殻の恩恵': fetchImage('img/templates/skill/鋼殻の恩恵.jpg'),\n                '霞皮の恩恵': fetchImage('img/templates/skill/霞皮の恩恵.jpg'),\n                '龍気活性': fetchImage('img/templates/skill/龍気活性.jpg'),\n                '血氣': fetchImage('img/templates/skill/血氣.jpg'),\n                '激昂': fetchImage('img/templates/skill/激昂.jpg'),\n                '伏魔響命': fetchImage('img/templates/skill/伏魔響命.jpg'),\n                '狂竜症【蝕】': fetchImage('img/templates/skill/狂竜症【蝕】.jpg'),\n                '業鎧【修羅】': fetchImage('img/templates/skill/業鎧【修羅】.jpg'),\n                '根性': fetchImage('img/templates/skill/根性.jpg'),\n                '巧撃': fetchImage('img/templates/skill/巧撃.jpg'),\n                '闇討ち': fetchImage('img/templates/skill/闇討ち.jpg'),\n                '弱点特効【属性】': fetchImage('img/templates/skill/弱点特効【属性】.jpg'),\n                '顕如盤石': fetchImage('img/templates/skill/顕如盤石.jpg'),\n                '状態異常確定蓄積': fetchImage('img/templates/skill/状態異常確定蓄積.jpg'),\n                '煽衛': fetchImage('img/templates/skill/煽衛.jpg'),\n                '剛心': fetchImage('img/templates/skill/剛心.jpg'),\n                '蓄積時攻撃強化': fetchImage('img/templates/skill/蓄積時攻撃強化.jpg'),\n                '狂化': fetchImage('img/templates/skill/狂化.jpg'),\n                '奮闘': fetchImage('img/templates/skill/奮闘.jpg'),\n                '風纏': fetchImage('img/templates/skill/風纏.jpg'),\n                '粉塵纏': fetchImage('img/templates/skill/粉塵纏.jpg'),\n                '龍気変換': fetchImage('img/templates/skill/龍気変換.jpg'),\n                '冰気錬成': fetchImage('img/templates/skill/冰気錬成.jpg'),\n            },\n        };\n        for (let i = 1; i <= 9; i++) {\n            templateFetchPromises.page[i] = fetchImage(`img/templates/page/${i}.png`);\n        }\n        MHRiseCharmScanner.templates = await promiseAllRecursive(templateFetchPromises);\n        const template = MHRiseCharmScanner.templates.others.charmSelectFrame;\n        cv.cvtColor(template, template, cv.COLOR_BGR2GRAY);\n        cv.threshold(template, template, 63, 255, cv.THRESH_BINARY);\n    }\n    reset() {\n        this.nCharms = 0;\n        this.charms = {};\n        for (let p = 1; p <= MAX_PAGE; p++) {\n            this.charms[p] = {};\n            for (let r = 1; r <= this.ROWS_PER_PAGE; r++) {\n                this.charms[p][r] = {};\n            }\n        }\n    }\n    _isScaned(page, row, col) {\n        return this._getCache({ page, row, col }) != null;\n    }\n    _setCache({ page, row, col }, charm) {\n        this.charms[page][row][col] = charm;\n    }\n    _getCache({ page, row, col }) {\n        return this.charms[page][row][col];\n    }\n    getAdjustOffset(screenshot) {\n        const template = MHRiseCharmScanner.templates.others.equipmentSpecHeader;\n        const result = new cv.Mat();\n        cv.matchTemplate(screenshot, template, result, cv.TM_CCOEFF_NORMED);\n        const { maxLoc, maxVal } = cv.minMaxLoc(result);\n        result.delete();\n        return {\n            x: maxLoc.x - this.EQUIPMENT_SPEC_HEADER_BASE_X,\n            y: maxLoc.y - this.EQUIPMENT_SPEC_HEADER_BASE_Y,\n        };\n    }\n    // 事前に Point オブジェクトの調整をする (無駄にヒープを使って GC 誘発を避けたい)\n    adjustPosition(screenshot) {\n        const offset = this.getAdjustOffset(screenshot);\n        console.log({ offset });\n        this.POINT_RARITY.x += (offset.x - this.adjustOffset.x);\n        this.POINT_RARITY.y += (offset.y - this.adjustOffset.y);\n        this.POINT_SLOTS.x += (offset.x - this.adjustOffset.x);\n        this.POINT_SLOTS.y += (offset.y - this.adjustOffset.y);\n        this.POINT_SLOT1.x += (offset.x - this.adjustOffset.x);\n        this.POINT_SLOT1.y += (offset.y - this.adjustOffset.y);\n        this.POINT_SLOT2.x += (offset.x - this.adjustOffset.x);\n        this.POINT_SLOT2.y += (offset.y - this.adjustOffset.y);\n        this.POINT_SLOT3.x += (offset.x - this.adjustOffset.x);\n        this.POINT_SLOT3.y += (offset.y - this.adjustOffset.y);\n        this.POINT_SKILL1.x += (offset.x - this.adjustOffset.x);\n        this.POINT_SKILL1.y += (offset.y - this.adjustOffset.y);\n        this.POINT_SKILL2.x += (offset.x - this.adjustOffset.x);\n        this.POINT_SKILL2.y += (offset.y - this.adjustOffset.y);\n        this.POINT_SKILL_LEVEL1.x += (offset.x - this.adjustOffset.x);\n        this.POINT_SKILL_LEVEL1.y += (offset.y - this.adjustOffset.y);\n        this.POINT_SKILL_LEVEL2.x += (offset.x - this.adjustOffset.x);\n        this.POINT_SKILL_LEVEL2.y += (offset.y - this.adjustOffset.y);\n        this.POINT_PAGE.x += (offset.x - this.adjustOffset.x);\n        this.POINT_PAGE.y += (offset.y - this.adjustOffset.y);\n        this.POINT_PAGE_SECOND_DIGIT.x += (offset.x - this.adjustOffset.x);\n        this.POINT_PAGE_SECOND_DIGIT.y += (offset.y - this.adjustOffset.y);\n        this.POINT_PAGE_IN_RINNE.x += (offset.x - this.adjustOffset.x);\n        this.POINT_PAGE_IN_RINNE.y += (offset.y - this.adjustOffset.y);\n        this.POINT_PAGE_SECOND_DIGIT_IN_RINNE.x += (offset.x - this.adjustOffset.x);\n        this.POINT_PAGE_SECOND_DIGIT_IN_RINNE.y += (offset.y - this.adjustOffset.y);\n        this.POINT_CHARM_AREA.x += (offset.x - this.adjustOffset.x);\n        this.POINT_CHARM_AREA.y += (offset.y - this.adjustOffset.y);\n        this.POINT_CHARM_ICON_BASE.x += (offset.x - this.adjustOffset.x);\n        this.POINT_CHARM_ICON_BASE.y += (offset.y - this.adjustOffset.y);\n        this.POINT_CHARM_AREA_IN_RINNE.x += (offset.x - this.adjustOffset.x);\n        this.POINT_CHARM_AREA_IN_RINNE.y += (offset.y - this.adjustOffset.y);\n        console.log({ POINT_PAGE_IN_RINNE: this.POINT_PAGE_IN_RINNE });\n        this.adjustOffset = offset;\n    }\n    scan(screenshot, movieName, matchThresholdOverwrite) {\n        const page = this._getCurrentPage(screenshot);\n        // if (page <= 0 || MAX_PAGE < page) {\n        //   console.log(`invalid page number: ${page}`)\n        //   return null\n        // }\n        // スキャンモード (装備確認ページと輪廻ページ) でパラメータ設定を分岐\n        const { pos, match, matchThreshold } = (() => {\n            switch (this.scanMode) {\n                case SCAN_MODE.MODE_EQUIP_LIST:\n                    return Object.assign(Object.assign({}, this._getCurrentCharmPos(screenshot)), { matchThreshold: matchThresholdOverwrite !== null && matchThresholdOverwrite !== void 0 ? matchThresholdOverwrite : 0.31 });\n                case SCAN_MODE.MODE_RINNE:\n                    return Object.assign(Object.assign({}, this._getCurrentCharmPosForRinne(screenshot)), { matchThreshold: matchThresholdOverwrite !== null && matchThresholdOverwrite !== void 0 ? matchThresholdOverwrite : 0.28 });\n                default:\n                    throw new Error('[internal error] invalid scan mode');\n            }\n        })();\n        if (match < matchThreshold) {\n            // 放置すると blink するので一致度が低い時はスキップ\n            // console.log(`low match degress ${match} for charm position searching. skip`)\n            return null;\n        }\n        const [col, row] = pos;\n        // console.log(`scaned ${row} ${col}`)\n        const isCacheEnabled = (() => {\n            switch (this.scanSkipMode) {\n                case SCAN_SKIP_MODE.SKIP_SCANNED_CHARM:\n                    return true;\n                case SCAN_SKIP_MODE.SKIP_SAME_CHARM_AS_IMMEDIATELY_BEFORE:\n                    return page === this.prevPosition.page && col === this.prevPosition.col && row === this.prevPosition.row;\n                default:\n                    return false;\n            }\n        })();\n        this.prevPosition = { page, row, col };\n        if (isCacheEnabled) {\n            const cache = this._getCache({ page, row, col });\n            if (cache != null) {\n                // console.log(`this charm is already scanned. skip: p${page} (${row}, ${col})`);\n                return { charm: cache, isCache: true };\n            }\n        }\n        const rarity = this._getRarity(screenshot);\n        const slots = this._getSlots(screenshot);\n        const skills = this._getSkills(screenshot);\n        const skillLevels = this._getSkillLevels(screenshot);\n        skills.forEach((i, idx) => {\n            if (i === '無し') {\n                skillLevels[idx] = 0;\n            }\n        });\n        // console.log(JSON.stringify({col, row, match, page, rarity, slots, skills, skillLevels}, null, 2))\n        const imageName = `${movieName}_${page}-${row}-${col}`;\n        const charm = { page, row, col, rarity, slots, skills, skillLevels, imageName };\n        this.nCharms++;\n        this._setCache({ page, row, col }, charm);\n        return { charm, isCache: false };\n    }\n    countCharms() {\n        return this.nCharms;\n    }\n    exportAsText() {\n        const buf = [];\n        for (let p = 1; p <= MAX_PAGE; p++) {\n            for (let r = 1; r <= this.ROWS_PER_PAGE; r++) {\n                for (let c = 1; c <= this.COLS_PER_PAGE; c++) {\n                    const charm = this.charms[p][r][c];\n                    if (charm == null) {\n                        continue;\n                    }\n                    buf.push([\n                        charm.skills[0],\n                        charm.skillLevels[0],\n                        charm.skills[1],\n                        charm.skillLevels[1],\n                        ...charm.slots,\n                    ].join(','));\n                }\n            }\n        }\n        return buf.join('\\n');\n    }\n    getCharms() {\n        const buf = [];\n        for (let p = 1; p <= MAX_PAGE; p++) {\n            for (let r = 1; r <= this.ROWS_PER_PAGE; r++) {\n                for (let c = 1; c <= this.COLS_PER_PAGE; c++) {\n                    const charm = this.charms[p][r][c];\n                    if (charm == null) {\n                        continue;\n                    }\n                    buf.push(charm);\n                }\n            }\n        }\n        return buf;\n    }\n    _getTrimRect(templates, point) {\n        const template = Object.values(templates).shift();\n        const size = new cv.Size(template.cols, template.rows);\n        const rect = new cv.Rect(point, size);\n        return rect;\n    }\n    _getRarity(screenshot) {\n        const templates = MHRiseCharmScanner.templates.rare;\n        const rect = this._getTrimRect(templates, this.POINT_RARITY);\n        const diffThreshold = 63;\n        return getMostMatchedImage(screenshot, templates, rect, diffThreshold).name;\n    }\n    _getSlots(screenshot) {\n        const templates = MHRiseCharmScanner.templates.slot;\n        const diffThreshold = 63;\n        return [\n            getMostMatchedImage(screenshot, templates, this._getTrimRect(templates, this.POINT_SLOT1), diffThreshold).name,\n            getMostMatchedImage(screenshot, templates, this._getTrimRect(templates, this.POINT_SLOT2), diffThreshold).name,\n            getMostMatchedImage(screenshot, templates, this._getTrimRect(templates, this.POINT_SLOT3), diffThreshold).name,\n        ].map(i => parseInt(i));\n    }\n    _getSkills(screenshot) {\n        const templates = MHRiseCharmScanner.templates.skill;\n        const rect1 = this._getTrimRect(templates, this.POINT_SKILL1);\n        const rect2 = this._getTrimRect(templates, this.POINT_SKILL2);\n        const diffThreshold = 63;\n        return [\n            getMostMatchedImage(screenshot, templates, rect1, diffThreshold).name,\n            getMostMatchedImage(screenshot, templates, rect2, diffThreshold).name,\n        ];\n    }\n    _getSkillLevels(screenshot) {\n        const templates = MHRiseCharmScanner.templates.lvl;\n        const rect1 = this._getTrimRect(templates, this.POINT_SKILL_LEVEL1);\n        const rect2 = this._getTrimRect(templates, this.POINT_SKILL_LEVEL2);\n        const diffThreshold = 127;\n        const filter = (input) => {\n            const hsv = new cv.Mat();\n            cv.cvtColor(input, hsv, cv.COLOR_BGR2HSV, 3);\n            const channels = new cv.MatVector();\n            cv.split(hsv, channels);\n            const brightness = channels.get(2);\n            const binary = new cv.Mat();\n            cv.threshold(brightness, binary, 110, 255, cv.THRESH_OTSU);\n            cv.cvtColor(binary, input, cv.COLOR_GRAY2BGRA);\n            binary.delete();\n            channels.delete();\n            hsv.delete();\n        };\n        return [\n            getMostMatchedImage(screenshot, templates, rect1, diffThreshold, filter).name,\n            getMostMatchedImage(screenshot, templates, rect2, diffThreshold, filter).name,\n        ].map(i => parseInt(i));\n    }\n    _getCurrentPage(screenshot) {\n        // 1桁と仮定してマッチング\n        const candidateForAssumingOneDigitNumber = (() => {\n            const templates = MHRiseCharmScanner.templates.page;\n            const rect = this._getTrimRect(templates, this.scanMode === SCAN_MODE.MODE_RINNE ? this.POINT_PAGE_IN_RINNE : this.POINT_PAGE);\n            const diffThreshold = 127;\n            return getMostMatchedImage(screenshot, templates, rect, diffThreshold);\n        })();\n        if (candidateForAssumingOneDigitNumber.diffCount === 0) {\n            return parseInt(candidateForAssumingOneDigitNumber.name);\n        }\n        // setFirstCanvas()\n        // const debug = (images: any) => {\n        //   setNextCanvas(); dumpImage(images.trimmed)\n        //   setNextCanvas(); dumpImage(images.templateImage)\n        //   // setNextCanvas(); dumpImage(images.templateMask)\n        //   // setNextCanvas(); dumpImage(images.masked)\n        //   setNextCanvas(); dumpImage(images.diff)\n        //   setNextCanvas(); dumpImage(images.result)\n        //   dumpImageNewline()\n        // }\n        // 2桁と仮定してマッチング\n        const candidateForAssumingTwoDigitNumber = (() => {\n            const templates = MHRiseCharmScanner.templates['page-parts'];\n            const rectForFirstDigit = this._getTrimRect(templates, this.scanMode === SCAN_MODE.MODE_RINNE ? this.POINT_PAGE_IN_RINNE : this.POINT_PAGE);\n            const rectForSecondDigit = this._getTrimRect(templates, this.scanMode === SCAN_MODE.MODE_RINNE ? this.POINT_PAGE_SECOND_DIGIT_IN_RINNE : this.POINT_PAGE_SECOND_DIGIT);\n            const diffThreshold = 127;\n            const firstDigitCandidate = getMostMatchedImage(screenshot, templates, rectForFirstDigit, diffThreshold);\n            const secondDigitCandidate = getMostMatchedImage(screenshot, templates, rectForSecondDigit, diffThreshold);\n            return {\n                name: '' + firstDigitCandidate.name + secondDigitCandidate.name,\n                diffCount: firstDigitCandidate.diffCount + secondDigitCandidate.diffCount,\n            };\n        })();\n        // 1桁/2桁で一致度が高い方を返す\n        if (candidateForAssumingOneDigitNumber.diffCount < candidateForAssumingTwoDigitNumber.diffCount) {\n            return parseInt(candidateForAssumingOneDigitNumber.name);\n        }\n        else {\n            return parseInt(candidateForAssumingTwoDigitNumber.name);\n        }\n    }\n    _getCurrentCharmPos(screenshot) {\n        const template = MHRiseCharmScanner.templates.others.charmSelectFrame;\n        // cv.cvtColor(template, template, cv.COLOR_BGR2GRAY)\n        // cv.threshold(template, template, 63, 255, cv.THRESH_BINARY)\n        const mask = template;\n        const masked = new cv.Mat();\n        const maskedHsv = new cv.Mat();\n        const yellowInGrayScale = new cv.Mat();\n        let candidate = {\n            row: null,\n            col: null,\n            match: 39, // ignore if less than 40\n        };\n        for (let row = 1; row <= this.ROWS_PER_PAGE; row++) {\n            for (let col = 1; col <= this.COLS_PER_PAGE; col++) {\n                const point = new cv.Point(this.POINT_CHARM_ICON_BASE.x + (col - 1) * 36, this.POINT_CHARM_ICON_BASE.y + (row - 1) * 41);\n                const rect = new cv.Rect(point, this.SIZE_CHARM_ICON_FRAME);\n                const trimmed = screenshot.roi(rect); // アイコンを抽出\n                trimmed.copyTo(masked, mask); // フレーム以外をマスク\n                // 黄色っぽい色を抽出してカウント\n                cv.cvtColor(masked, maskedHsv, cv.COLOR_BGR2HSV, 3);\n                const yellow = maskByColor(maskedHsv, [70, 100, 100, 0], [120, 255, 255, 255]);\n                cv.cvtColor(yellow, yellowInGrayScale, cv.COLOR_RGBA2GRAY, 0);\n                const yellowCount = cv.countNonZero(yellowInGrayScale);\n                yellow.delete();\n                // console.log({row, col, match: yellowCount})\n                if (yellowCount > candidate.match) {\n                    candidate = { row, col, match: yellowCount };\n                }\n            }\n        }\n        // console.log(candidate)\n        yellowInGrayScale.delete();\n        maskedHsv.delete();\n        masked.delete();\n        return {\n            pos: [candidate.col, candidate.row],\n            match: candidate.match / 400,\n        };\n    }\n    // TODO: 元の関数と統合 (mode で分岐するように)\n    _getCurrentCharmPosForRinne(screenshot) {\n        const rect = new cv.Rect(this.POINT_CHARM_AREA_IN_RINNE, this.SIZE_CHARM_AREA_IN_RINNE);\n        const trimmed = screenshot.roi(rect);\n        const template = MHRiseCharmScanner.templates.others.charmSelectFrameForRinne;\n        const result = new cv.Mat();\n        cv.matchTemplate(trimmed, template, result, cv.TM_CCOEFF_NORMED);\n        const { maxLoc, maxVal } = cv.minMaxLoc(result);\n        // debug\n        // if (maxVal > 0.3) {\n        //   console.log({ maxLoc, maxVal })\n        //   const color = new cv.Scalar(0, 0, 255)\n        //   const p2 = new cv.Point(maxLoc.x + template.cols, maxLoc.y + template.rows)\n        //   cv.rectangle(trimmed, maxLoc, p2, color, cv.LINE_4)\n        //   setFirstCanvas()\n        //   dumpImage(trimmed)\n        // }\n        result.delete();\n        trimmed.delete();\n        return {\n            pos: [\n                1 + Math.floor(0.5 + maxLoc.x / 41.0),\n                1 + Math.floor(0.5 + maxLoc.y / 41.0),\n            ],\n            match: maxVal,\n        };\n    }\n}\n","<script lang=\"ts\">\n  import {COLS_PER_PAGE_IN_EQLIST, ROWS_PER_PAGE_IN_EQLIST}\n                                        from 'assets/mhrise/metadata'\n  import type {Charm}                   from 'assets/mhrise/charm'\n  import MHRiseCharmScanner             from 'assets/mhrise/mhrise-charm-scanner'\n\n  export let page: number\n  export let rowsPerPage = ROWS_PER_PAGE_IN_EQLIST\n  export let colsPerPage = COLS_PER_PAGE_IN_EQLIST\n  export let currentCharm: Charm\n  export let charmScanner: MHRiseCharmScanner\n\n\n  // TODO: スキャン毎に全セル分呼ばれないようにする？\n  function getClassName({row, col}) {\n   //  console.log(charmScanner.charms)\n    return [\n      _getCharmClass({row, col}),\n      _isCurrentCharm({row, col}) ? 'current' : '',\n    ].join(' ')\n  }\n\n  function _getCharmClass({row, col}) {\n    // return `rare${Math.floor(Math.random() * 7)}` // for debug\n\n    // const rarity = charmScanner?.charms?.[page]?.[row]?.[col]\n    const charm = charmScanner.charms[page][row][col]\n    if (charm == null) { return 'none' }\n\n    return `rare${charm.rarity}`\n  }\n\n  function _isCurrentCharm({row, col}) {\n    // return row === 2 && col === 2\n\n    if (currentCharm == null) { return false }\n    if (page !== currentCharm.page) { return false }\n    return currentCharm.row === row && currentCharm.col === col\n  }\n</script>\n\n<div class=\"minimap\">\n  <table>\n    <tbody>\n      {#each [...Array(rowsPerPage + 1).keys()].slice(1) as row}\n      <tr>\n        {#each [...Array(colsPerPage + 1).keys()].slice(1) as col}\n        <!-- <td class:current={_isCurrentCharm({row: row + 1, col: col + 1})} -->\n        <!-- <td class:current={_isCurrentCharm(row, col, currentCharm)} -->\n        <td class=\"{getClassName({row, col}, currentCharm)}\"></td>\n        {/each}\n      </tr>\n      {/each}\n    </tbody>\n  </table>\n  {page}\n</div>\n\n<style>\n  .minimap {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n\n  /* .minimap:nth-of-type(n+2) { */\n  /*   margin: 0 0 0 0.4rem; */\n  /* } */\n\n  .minimap > table {\n    border-collapse: collapse;\n  }\n  .minimap > table > tbody > tr > td.current {\n    border-color: rgb(255, 220, 40);\n    border-width: 4px;\n  }\n\n  .minimap > table td {\n    width:  0.8rem;\n    height: 0.8rem;\n    border: solid 1px gray;\n  }\n\n\n  .minimap > table > tbody > tr > td.rare1 {background: #bbb;}\n  .minimap > table > tbody > tr > td.rare2 {background: #bbb;}\n  .minimap > table > tbody > tr > td.rare3 {background: rgb(236, 182, 200);}\n  .minimap > table > tbody > tr > td.rare4 {background: rgb(163, 228, 133);}\n  .minimap > table > tbody > tr > td.rare5 {background: rgb(54, 206, 255);}\n  .minimap > table > tbody > tr > td.rare6 {background: rgb(116, 141, 243);}\n  .minimap > table > tbody > tr > td.rare7 {background: rgb(217, 98, 81);}\n  .minimap > table > tbody > tr > td.rare8 {background: rgb(194, 244, 255);}\n  .minimap > table > tbody > tr > td.rare9 {background: rgb(164, 138, 255);}\n  .minimap > table > tbody > tr > td.rare10 {background: rgb(255, 177, 84);}\n</style>\n","<script>\nexport let isRecording = false\nexport let label = 'Recording'\n</script>\n\n<div>\n  <button id=\"rec-button\"\n          class:recording={isRecording}\n          on:click={() => isRecording = !isRecording}\n          />\n  <label for=\"rec-button\">{label}</label>\n</div>\n\n<style>\ndiv {\n  display: flex;\n  align-items: center;\n}\n\nlabel {\n  font-size: 1.1rem;\n  margin: 0 0 0.03rem 0.4rem;\n}\n\nbutton {\n\twidth:  1rem;\n\theight: 1rem;\n\tfont-size: 0;\n\t/*background-color: red;*/\n\tborder: 0;\n\tborder-radius: 1rem;\n\tmargin: 1rem 0;\n\toutline: none;\n}\n\nbutton { /* not recording */\n\tbackground-color: darkred;\n}\n\n.recording {\n\tbackground-color: red;\n\tanimation-name: pulse;\n\tanimation-duration: 1.5s;\n\tanimation-iteration-count: infinite;\n\tanimation-timing-function: linear;\n}\n\n@keyframes pulse{\n\t 0%{ box-shadow: 0px 0px 5px  0px rgba(173, 0, 0, 0.3); }\n\t65%{ box-shadow: 0px 0px 5px 13px rgba(173, 0, 0, 0.3); }\n\t90%{ box-shadow: 0px 0px 5px 13px rgba(173, 0, 0, 0); }\n}\n</style>\n","<!-- forked from https://github.com/dasDaniel/svelte-table/blob/0982cb390f8e3529922145817e7bd3ba42dba2c1/src/SvelteTable.svelte -->\n\n<script>\n  import { createEventDispatcher } from 'svelte';\n  const dispatch = createEventDispatcher();\n  export let columns;\n  export let rows;\n  export let sortBy = \"\";\n  export let sortOrder = 1;\n  export let iconAsc = '▲';\n  export let iconDesc = '▼';\n  export let classNameTable = '';\n  export let classNameThead = '';\n  export let classNameTbody = '';\n  export let classNameSelect = '';\n  export let classNameRow = '';\n  export let classNameCell = '';\n  export let filterSelections = {};\n\n  export let sliceBegin = null\n  export let sliceEnd   = null\n  export let disableFilterHeader = false\n\n  let sortFunction = () => \"\";\n  let showFilterHeader = !disableFilterHeader && columns.some(c => {\n    // check if there are any filter or search headers\n    return c.filterOptions !== undefined || c.searchValue !== undefined\n  });\n  let filterValues = {};\n//let searchValues = {};\n  let columnByKey = {};\n  columns.forEach(col => {\n    columnByKey[col.key] = col;\n  });\n  $: c_rows = rows\n    .filter(r => {\n      // get search and filter results/matches\n      return Object.keys(filterSelections).every(f => {\n          // check search (text input) matches\n          let resSearch =\n            filterSelections[f] === \"\" ||\n            (columnByKey[f].searchValue &&\n              (columnByKey[f].searchValue(r) + \"\")\n                .toLocaleLowerCase()\n                .indexOf((filterSelections[f] + \"\").toLocaleLowerCase()) >= 0);\n\n          // check filter (dropdown) matches\n          let resFilter =\n            resSearch ||\n            filterSelections[f] === undefined ||\n            // default to value() if filterValue() not provided in col\n            filterSelections[f] ===\n              (typeof columnByKey[f].filterValue === \"function\"\n                ? columnByKey[f].filterValue(r)\n                : columnByKey[f].value(r));\n          return resFilter;\n        })\n      }\n    )\n    .map(r => (Object.assign({}, r, {$sortOn: sortFunction(r)} ) ) )\n    .sort((a, b) => {\n      if (a.$sortOn > b.$sortOn) return sortOrder;\n      else if (a.$sortOn < b.$sortOn) return -sortOrder;\n      return 0;\n    })\n    .slice(sliceBegin || 0, sliceEnd || undefined);\n  const asStringArray = (v) => [].concat(v).filter(v => typeof v === 'string' && v !== \"\").join(' ');\n  const calculateFilterValues = () => {\n    filterValues = {};\n    columns.forEach(c => {\n      if (typeof c.filterOptions === \"function\") {\n        filterValues[c.key] = c.filterOptions(rows);\n      } else if (Array.isArray(c.filterOptions)) {\n        // if array of strings is provided, use it for name and value\n        filterValues[c.key] = c.filterOptions.map(val => ({name:val, value:val}));\n      }\n    });\n  };\n  $: {\n    let col = columnByKey[sortBy];\n    if (col !== undefined && col.sortable === true && typeof col.value === \"function\") {\n      sortFunction = r => col.value(r);\n    }\n  };\n  $: {\n    // if filters are enabled, watch rows and columns\n    if (showFilterHeader && columns && rows) {\n      calculateFilterValues();\n    }\n  };\n  const updateSortOrder = (colKey) => {\n    if (colKey === sortBy) {\n      sortOrder = sortOrder === 1 ? -1 : 1\n    } else {\n      sortOrder = 1;\n    }\n  }\n  const handleClickCol = (event, col) => {\n    updateSortOrder(col.key)\n    sortBy = col.key;\n    dispatch('clickCol', {event, col, key:col.key} );\n  }\n  const handleClickRow = (event, row) => {\n    dispatch('clickRow', {event, row} );\n  }\n  const handleClickCell = (event, row, key) => {\n    dispatch('clickCell', {event, row, key} );\n  }\n</script>\n\n<style>\n  table {\n    width: 100%;\n  }\n  .isSortable {\n    cursor: pointer;\n  }\n  tr th select {\n    width: 100%;\n  }\n</style>\n\n<table class={asStringArray(classNameTable)}>\n  <thead class={asStringArray(classNameThead)}>\n    {#if showFilterHeader}\n      <tr class=\"row-filter-header\">\n        {#each columns as col}\n          <th>\n            {#if col.searchValue !== undefined}\n              <input bind:value={filterSelections[col.key]}>\n            {:else if filterValues[col.key] !== undefined}\n              <select bind:value={filterSelections[col.key]} class={asStringArray(classNameSelect)}>\n                <option value={undefined}></option>\n                {#each filterValues[col.key] as option}\n                  <option value={option.value}>{option.name}</option>\n                {/each}\n              </select>\n            {/if}\n          </th>\n        {/each}\n      </tr>\n    {/if}\n    <slot name=\"header\" sortOrder={sortOrder} sortBy={sortBy}>\n      <tr class=\"row-title-header\">\n        {#each columns as col}\n          {#if col.sortable}\n            <th\n              on:click={(e) => handleClickCol(e, col)}\n              class={asStringArray(['isSortable', col.headerClass])}\n            >\n              {col.title}\n              {#if sortBy === col.key}\n                { sortOrder === 1 ? iconAsc : iconDesc}\n              {/if}\n            </th>\n          {:else}\n            <th\n              class={col.headerClass}\n            >\n              {col.title}\n              {#if sortBy === col.key}\n                { sortOrder === 1 ? iconAsc : iconDesc}\n              {/if}\n            </th>\n          {/if}\n        {/each}\n      </tr>\n    </slot>\n  </thead>\n  <tbody class={asStringArray(classNameTbody)}>\n    {#each c_rows as row, n}\n      <slot name=\"row\" row={row} n={n} >\n        <tr on:click={(e)=>{handleClickRow(e, row)}} class={asStringArray(classNameRow)}>\n          {#each columns as col}\n            <td\n              on:click={(e)=>{handleClickCell(e, row, col.key)}}\n              class={asStringArray([col.class, classNameCell])}\n            >\n              {#if col.renderComponent}\n                <svelte:component\n                  this={col.renderComponent.component || col.renderComponent} {...(col.renderComponent.props || {})}\n                  row={row}\n                  col={col}\n                />\n              {:else}\n                {@html col.renderValue ? col.renderValue(row) : col.value(row)}\n              {/if}\n            </td>\n          {/each}\n        </tr>\n      </slot>\n      <slot name=\"after-row\" row={row} n={n}>\n      </slot>\n    {/each}\n  </tbody>\n</table>\n","<script lang=\"ts\">\n  import cv                 from 'opencv-ts'\n  import {slide}            from \"svelte/transition\"\n  import SvelteTable        from \"./SvelteTable.svelte\"\n  import {getAllSkillNames} from 'assets/mhrise/mhrise-skills.js'\n  import {charmManager}     from 'stores/stores.js'\n  import {MAX_NUM_SLOTS,MAX_SKILL_LEVEL,MAX_SLOT_LEVEL}\n                            from 'assets/mhrise/metadata'\n\n  export let headerColor           = 'mediumseagreen'\n  export let disableFilterHeader   = false\n  export let showImageColumn       = true\n  export let showSubstitutesColumn = true\n  export let charms\n\n  export let initialOpenedScreentshots = []\n\n  export let sliceBegin\n  export let sliceEnd\n\n  const allSkills = getAllSkillNames()\n  const columns = [\n    {\n      key: \"id\",\n      title: \"ID\",\n      value: v => v.rowid,\n      sortable: true,\n      filterOptions: rows => {\n        const UNIT = 50\n        // generate groupings of 1-50, 51-100, etc...\n        let nums = {}\n        rows.forEach(row => {\n          let num = Math.floor(row.rowid / UNIT)\n          if (nums[num] === undefined)\n            nums[num] = { name: `${num * UNIT + 1} 〜 ${(num + 1) * UNIT}`, value: num }\n        })\n        // fix order\n        nums = Object.entries(nums)\n          .sort()\n          .reduce((o, [k, v]) => ((o[k] = v), o), {})\n        return Object.values(nums)\n      },\n      filterValue: v => Math.floor((v.rowid - 1) / 50),\n    },\n    {\n      key:           'skill1',\n      title:         'スキル1',\n      value:         v => v.skill1,\n      filterOptions: allSkills,\n      sortable:      true,\n    },\n    {\n      key:           'skill1Level',\n      title:         'スキル1 Lv',\n      value:         v => v.skill1Level,\n      filterOptions: [...Array(MAX_SKILL_LEVEL + 1).keys()].slice(1),\n      sortable:      true,\n    },\n    {\n      key:           'skill2',\n      title:         'スキル2',\n      value:         v => v.skill2,\n      filterOptions: allSkills,\n      sortable:      true,\n    },\n    {\n      key:           'skill2Level',\n      title:         'スキル2 Lv',\n      value:         v => v.skill2Level,\n      filterOptions: [...Array(MAX_SKILL_LEVEL + 1).keys()].slice(1),\n      sortable:      true,\n    },\n    ...Array.from({length: MAX_NUM_SLOTS}, (_, i) => i + 1).map(i => ({\n      key:           `slot${i}`,\n      title:         `スロット${i}`,\n      value:         v => v[`slot${i}`],\n      renderValue:   v => v[`slot${i}`] || '-',\n      sortable:      true,\n      filterOptions: [...Array(MAX_SLOT_LEVEL + 1).keys()].slice(1),\n    })),\n    {\n      key:           'evaluation',\n      title:         '合計Lv',\n      value:         v => v.evaluation || '-',\n      // filterOptions: rows => [...new Set(rows.map(i => i.evaluation))],\n      filterOptions: [...Array(21).keys()],\n      sortable:      true,\n    },\n    {\n      key:           \"image\",\n      title:         \"画像\",\n      value:         v => v.imagename ? '有り' : '無し',\n      renderValue:   v => v.imagename ? '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-camera-fill\" viewBox=\"0 0 16 16\"> <path d=\"M10.5 8.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z\"/> <path d=\"M2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4H2zm.5 2a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1zm9 2.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0z\"/> </svg>' : '',\n      sortable:      true,\n      filterOptions: [\"有り\", \"無し\"],\n      onClick:       toggleScreenshot,\n    },\n    {\n      key:           \"substitutableCharms\",\n      title:         \"代替\",\n      value:         v => v.substitutableCharms?.length ? '有り' : '無し',\n      renderValue:   v => {\n        const question = '<span style=\"color: gray\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-question-square-fill\" viewBox=\"0 0 16 16\"> <path d=\"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm3.496 6.033a.237.237 0 0 1-.24-.247C5.35 4.091 6.737 3.5 8.005 3.5c1.396 0 2.672.73 2.672 2.24 0 1.08-.635 1.594-1.244 2.057-.737.559-1.01.768-1.01 1.486v.105a.25.25 0 0 1-.25.25h-.81a.25.25 0 0 1-.25-.246l-.004-.217c-.038-.927.495-1.498 1.168-1.987.59-.444.965-.736.965-1.371 0-.825-.628-1.168-1.314-1.168-.803 0-1.253.478-1.342 1.134-.018.137-.128.25-.266.25h-.825zm2.325 6.443c-.584 0-1.009-.394-1.009-.927 0-.552.425-.94 1.01-.94.609 0 1.028.388 1.028.94 0 .533-.42.927-1.029.927z\"/> </svg> </span>'\n        const up = '<span style=\"color: mediumseagreen\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-arrow-up-square-fill\" viewBox=\"0 0 16 16\"> <path d=\"M2 16a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2zm6.5-4.5V5.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 5.707V11.5a.5.5 0 0 0 1 0z\"/> </svg> </span>'\n        return v.substitutableCharms == null ? question\n             : v.substitutableCharms.length  ? up\n             :                                 ''\n      },\n      sortable:      true,\n      filterOptions: [\"有り\", \"無し\"],\n    },\n  ].filter(i => {\n    switch (i.key) {\n      case 'image':               return showImageColumn\n      case 'substitutableCharms': return showSubstitutesColumn\n      default:                    return true\n    }\n  })\n\n\n  // fields\n  let isScreenshotShown = []\n  let isSubstitutableCharmsShown = []\n\n\n  // handlers\n  function onSort() {\n    init()\n  }\n\n  function onClickRow({row}) {\n    const index = row.rowid\n    isSubstitutableCharmsShown[index] = !isSubstitutableCharmsShown[index]\n  }\n\n  async function toggleScreenshot({e, row}) {\n    e?.stopPropagation()\n\n    const index = row.rowid\n    const toShow = ! isScreenshotShown[index]\n    isScreenshotShown[index] = toShow\n\n    if ( toShow ) {\n      // console.log(charms[index].imagename)\n      if (row.imagename == null) {\n        console.log('screenshot is not found')\n        return\n      }\n      const screenshot = await $charmManager.getScreenshot(row.imagename)\n\n      // await new Promise((resolve) => requestAnimationFrame(resolve))\n      cv.imshow(`charm-table-row-${index}-screenshot`, screenshot)\n      // screenshot.delete()\n    }\n  }\n\n\n  $: styleVars = Object.entries({\n    'header-background-color': headerColor,\n    'table-width': `${61 + (showImageColumn ? 3 : 0) + (showSubstitutesColumn ? 3 : 0)}rem`,\n  }).map(([k, v]) => `--${k}:${v}`)\n    .join(';')\n\n\n  function init(){\n    // close all accordion\n    isScreenshotShown          = []\n    isSubstitutableCharmsShown = []\n\n    for (let id of initialOpenedScreentshots) {\n      const row = charms.find(i => i.rowid === id)\n      toggleScreenshot({row})\n    }\n  }\n  init()\n  $: { charms; init() }\n</script>\n\n<div class=\"charm-table\" style=\"{styleVars}\">\n  <SvelteTable columns=\"{columns}\"\n               rows=\"{charms}\"\n               classNameTable={'table table-striped table-hover table-responsible'}\n               classNameThead={'table-dark hide-first-child.disabled'}\n               disableFilterHeader={disableFilterHeader}\n               bind:sliceBegin\n               bind:sliceEnd\n               on:clickCol={onSort}\n               >\n    <tr slot=\"row\" let:row let:n on:click={() => onClickRow({row})}>\n      {#each columns as col}\n        <td on:click={(e) => { if (col.onClick != null) {col.onClick({e, row, col, index: n})} }}\n            class={[col.class].join(' ')}\n            >\n          {#if col.renderComponent}\n            <svelte:component\n              this={col.renderComponent.component || col.renderComponent} {...(col.renderComponent.props || {})}\n              row={row}\n              col={col}\n              />\n          {:else}\n            {@html col.renderValue ? col.renderValue(row) : col.value(row)}\n          {/if}\n        </td>\n      {/each}\n    </tr>\n    <div slot=\"after-row\" let:row id=\"charm-table-row-{row.rowid}\" style=\"width: 100%\">\n      {#if isSubstitutableCharmsShown[row.rowid]}\n        {#if row.substitutableCharms == null}\n          <div style=\"width: 100%; border-bottom: solid 1px #ddd\">searching...</div>\n        {:else if row.substitutableCharms.length === 0}\n          <!-- none -->\n        {:else}\n          <div class=\"row-substitutes\" transition:slide={{duration: 150}}>\n          {#each row.substitutableCharms as c}\n            <div style=\"width: 100%; text-align: left; padding: 0.3rem 2rem\">\n              {c.rowid}: {c.skill1}{c.skill1Level}, {c.skill2}{c.skill2Level}, {c.slot1}-{c.slot2}-{c.slot3}\n            </div>\n          {/each}\n          </div>\n        {/if}\n      {/if}\n\n      {#if isScreenshotShown[row.rowid]}\n        <div style=\"width: 100%; border-bottom: solid 1px #ddd\" transition:slide={{duration: 100}}>\n          <canvas id=\"charm-table-row-{row.rowid}-screenshot\" style=\"width: 100%\"></canvas>\n        </div>\n      {/if}\n    </div>\n  </SvelteTable>\n</div>\n\n\n<style>\n  .charm-table {\n    height: 100%;\n    font-family: monospace;\n  }\n\n  :global(.charm-table > table) {\n    display: block;\n    height:  100%;\n  }\n\n  :global(\n    .charm-table > table thead,\n    .charm-table > table tbody,\n    .charm-table > table tr\n  ) {\n    display: flex;\n    flex-shrink: 0;\n  }\n\n  :global(\n    .charm-table > table thead,\n    .charm-table > table tbody\n  ) {\n    flex-direction: row;\n    flex-wrap: wrap;\n  }\n\n  :global(.charm-table > table thead) {\n    background: none;\n  }\n\n  :global(.charm-table > table > thead > .row-filter-header) {\n    border: none;\n  }\n\n  :global(.charm-table > table > thead > .row-title-header) {\n    background: var(--header-background-color);\n  }\n\n  :global(.charm-table > table > :not(caption) > * > *) {\n    padding-left:  0;\n    padding-right: 0;\n    border:        none;\n  }\n\n  :global(.charm-table > table > thead > .row-filter-header > th) {\n    padding-left:  0.5rem;\n    padding-right: 0.5rem;\n  }\n\n  :global(.charm-table > table > thead > .row-title-header > th) {\n    padding-top:    0.5rem;\n    padding-bottom: 0.5rem;\n  }\n\n  :global(.charm-table > table > thead th) {\n    background: inherit;\n  }\n\n  :global(.charm-table > table > tbody) {\n    height:     calc(100% - 7rem);\n    overflow-x: auto;\n    overflow-y: scroll;\n\n    align-content: flex-start;\n  }\n\n  :global(.charm-table > table tr) {\n    width:  100%;\n  }\n\n  :global(.charm-table > table tbody > tr) {\n    height: 1.9rem;\n  }\n\n  :global(.charm-table > table tbody > div) {\n    margin:  0;\n    padding: 0;\n  }\n\n  :global(.charm-table > table tbody > div > div.row-substitutes) {\n    margin:  0;\n    padding: 0.5rem 2rem;\n\n    max-height: 20rem;\n    overflow:   auto;\n  }\n\n  :global(\n    .charm-table > table th,\n    .charm-table > table td\n  ) {\n    text-align: center;\n    display:    inline-block;\n  }\n\n  :global(.charm-table > table td) {\n    padding: 0.3rem;\n  }\n\n\n  /* width */\n  :global(.charm-table > table) {\n    width: var(--table-width) !important;\n  }\n\n  :global(.charm-table > table > * > tr > *:nth-child(1)) {\n    width: 4rem;\n    padding-right: 1rem;\n    text-align: right;\n  }\n  :global(\n    .charm-table > table > * > tr > *:nth-child(2),\n    .charm-table > table > * > tr > *:nth-child(4)\n  ) {\n    /* width: calc((100% - 52rem - 6rem) / 2); */\n    width: 10rem;\n    padding-left: 1rem;\n    text-align: left;\n  }\n  :global(\n    .charm-table > table > * > tr > *:nth-child(3),\n    .charm-table > table > * > tr > *:nth-child(5),\n    .charm-table > table > * > tr > *:nth-child(6),\n    .charm-table > table > * > tr > *:nth-child(7),\n    .charm-table > table > * > tr > *:nth-child(8),\n    .charm-table > table > * > tr > *:nth-child(9)\n  ) {\n    width: 6rem;\n  }\n  :global(\n    .charm-table > table > * > tr > *:nth-child(10),\n    .charm-table > table > * > tr > *:nth-child(11)\n  ) {\n    width: 3rem;\n  }\n</style>\n","<script lang=\"ts\">\n  import CharmTable from './CharmTable.svelte'\n\n  export let charms: CharmEntry[] = []\n  export let disableFilterHeader  = true\n  export let headerColor          = 'dodgerblue'\n  export let initialOpenedScreentshots = []\n\n  let currentPage:  number = 1\n  let itemsPerPage: number = 10\n\n  $: nPages     = Math.ceil((charms?.length ?? 0) / itemsPerPage)\n  $: sliceBegin = itemsPerPage * currentPage\n  $: sliceEnd   = itemsPerPage * (currentPage+1)\n  $: { // reset page on update\n    if ( charms && nPages ) { currentPage = 0 }\n  }\n</script>\n\n<div>\n  <div>\n    show\n    <select bind:value={itemsPerPage}>\n      <option>10</option>\n      <option>25</option>\n      <option>50</option>\n      <option>100</option>\n    </select>\n    charms\n  </div>\n\n  <CharmTable {charms}\n              {sliceBegin}\n              {sliceEnd}\n              {disableFilterHeader}\n              {headerColor}\n              {initialOpenedScreentshots}\n              />\n\n  <div id=\"pager\">\n    <ul class=\"pagination\">\n      <li class=\"page-item\" class:disabled={currentPage === 0} aria-label=\"First\">\n        <span class=\"page-link\" on:click={() => currentPage = 0}>\n          <span aria-hidden=\"true\">&laquo;</span>\n        </span>\n      </li>\n      <li class=\"page-item\" class:disabled={currentPage === 0} aria-label=\"Previous\">\n        <span class=\"page-link\" on:click={() => currentPage--}>\n          <span aria-hidden=\"true\">&lt;</span>\n        </span>\n      </li>\n      {#each [...Array(nPages).keys()] as i}\n        <li class=\"page-item\" class:active={i === currentPage}>\n          <span class=\"page-link\" on:click={() => currentPage = i}>{i + 1}</span>\n        </li>\n      {/each}\n      <li class=\"page-item\" class:disabled={currentPage === (nPages - 1)} aria-label=\"Next\">\n        <span class=\"page-link\" on:click={() => currentPage++}>\n          <span aria-hidden=\"true\">&gt;</span>\n        </span>\n      </li>\n      <li class=\"page-item\" class:disabled={currentPage === (nPages - 1)} aria-label=\"Last\">\n        <span class=\"page-link\" on:click={() => currentPage = nPages - 1}>\n          <span aria-hidden=\"true\">&raquo;</span>\n        </span>\n      </li>\n    </ul>\n  </div>\n</div>\n","// TODO: class にして equals にする\nexport function isSameCharm(c1, c2) {\n    const isSameArray = (a1, a2) => {\n        return a1.length === a2.length && a1.every(i => a2.includes(i));\n    };\n    return isSameArray(c1.skills, c2.skills)\n        && isSameArray(c1.skillLevels, c2.skillLevels)\n        && isSameArray(c1.slots, c2.slots);\n}\nexport function flatCharm2charm(c) {\n    return {\n        skills: [c.skill1, c.skill2],\n        skillLevels: [c.skill1Level, c.skill2Level],\n        slots: [c.slot1, c.slot2, c.slot3],\n    };\n}\n","import { writable } from 'svelte/store';\nexport const isAppReady = writable(false);\n","<script lang=\"ts\">\n  import type {Mat}          from 'opencv-ts'\n  import dayjs               from 'dayjs'\n  import {writable}          from 'svelte/store'\n  import MDBBtn              from 'mdbsvelte/src/MDBBtn.svelte'\n  import RangeSlider         from 'svelte-range-slider-pips'\n  import CameraReader        from '../components/parts/CameraReader.svelte'\n  import CharmPositionInput  from '../components/parts/CharmPositionInput.svelte'\n  import RarityInput         from '../components/parts/CharmRarityInput.svelte'\n  import SkillInput          from '../components/parts/CharmSkillInput.svelte'\n  import SkillLevelInput     from '../components/parts/CharmSkillLevelInput.svelte'\n  import SlotsInput          from '../components/parts/CharmSlotsInput.svelte'\n  import CharmMinimap        from '../components/parts/CharmMinimap.svelte'\n  import RecordButton        from '../components/parts/RecordButton.svelte'\n  import CharmTableWithPager from '../components/parts/CharmTableWithPager.svelte'\n  import {MAX_PAGE, ROWS_PER_PAGE_IN_EQLIST, COLS_PER_PAGE_IN_EQLIST}\n                             from 'assets/mhrise/metadata'\n  import type {Charm}        from 'assets/mhrise/mhrise-charm'\n  import {isSameCharm, flatCharm2charm}\n                             from 'assets/mhrise/mhrise-charm'\n  import MHRiseCharmScanner, {SCAN_MODE, SCAN_SKIP_MODE}\n                             from 'assets/mhrise/mhrise-charm-scanner'\n  import {charmManager}      from 'stores/stores.js'\n  import {isAppReady}        from 'stores/flags'\n  import {sleep}             from 'util.js'\n\n  // const VIDEO_WIDTH      = 1280 // switch のキャプチャ解像度\n  // const VIDEO_HEIGHT     = 720\n  // const VIDEO_FRAME_RATE = 29.97\n\n  let charmScanner = new MHRiseCharmScanner({\n    scanMode: SCAN_MODE.MODE_EQUIP_LIST,\n    scanSkipMode: SCAN_SKIP_MODE.SKIP_SAME_CHARM_AS_IMMEDIATELY_BEFORE,\n  })\n\n  let domCameraReader\n  let isRecording              = false\n  let isRegisterEnabled        = false\n  let isPositionAdjustRequired = true\n  let charmPosMatchThreshold\n  let charmPosMatchThresholdSliderValues = [0.29]\n  $: charmPosMatchThreshold = charmPosMatchThresholdSliderValues[0]\n\n  // form to show and fix scanned data\n  let currentCharm: Charm = {skills: [], skillLevels: [], slots: []}\n\n  const imageProcessor = async (frame: Mat) => {\n    if ( !isRecording ) { return }\n\n    if ( isPositionAdjustRequired ) {\n      isPositionAdjustRequired = false\n      charmScanner.adjustPosition(frame)\n    }\n\n    const result = charmScanner.scan(frame, dayjs().format(), charmPosMatchThreshold)\n    if ( result == null ) { return }\n    const {charm, isCache} = result\n\n    // 表示を更新\n    if ( !isSameCharm(currentCharm, charm) ) {\n      currentCharm = charm\n    }\n\n    if ( !isCache && isRegisterEnabled ) {\n      // nScanedCharms = charmScanner.countCharms()\n      await $charmManager.registerCharm(charm, frame)\n    }\n  }\n\n  async function init() {\n    while ( !$isAppReady ) {\n      await new Promise(r => setTimeout(r, 1000))\n    }\n    await domCameraReader.init()\n  }\n  init()\n\n  // result table\n  let domCharmTable\n  let isSpinnerShown              = false\n  let searchResults: CharmEntry[] = null\n\n  // $: updateResult({\n  //   skills:      currentCharm.skills,\n  //   skillLevels: currentCharm.skillLevels,\n  //   slots:       currentCharm.slots,\n  // })\n  $: updateResult(currentCharm)\n\n  async function updateResult(baseSpec: Charm | null) {\n    if (Object.keys(baseSpec.skills).length === 0) { return }\n    if (isSpinnerShown) { return }\n    isSpinnerShown = true\n\n    const {skills, skillLevels, slots} = baseSpec\n\n    if (skills.filter(i => i && i !== '無し').length == 0 && slots.filter(i => i !== 0).length == 0) {\n      searchResults = null\n      isSpinnerShown = false\n      return\n    }\n\n    const input = {\n      skills:      skills.map(i => i ?? '無し'),\n      skillLevels: skillLevels.map(i => i ?? 0),\n      slots:       slots.map(i => i ?? 0),\n    }\n    const inputJson = JSON.stringify(input)\n    // console.log(input)\n\n    while ( typeof Module.getSubstitutes !== 'function' ) {\n      await sleep(100)\n    }\n\n    const result = Module.getSubstitutes(\n      JSON.stringify($charmManager.charms.map((i: CharmEntry) => {\n        // 余分なデータを落としてから渡す\n        const {rowid, skill1, skill1Level, skill2, skill2Level, slot1, slot2, slot3} = i\n        return {rowid, skill1, skill1Level, skill2, skill2Level, slot1, slot2, slot3}\n      })),\n      inputJson\n    )\n    const matchIds = JSON.parse(result) as number[]\n    searchResults = matchIds\n      .map(id => $charmManager.charms.find((i: any) => i.rowid === id))\n      .filter(c => !isSameCharm(flatCharm2charm(c), input))\n\n    isSpinnerShown = false\n  }\n\n  function reset() {\n    currentCharm = {skills: [], skillLevels: [], slots: []}\n    charmScanner.reset()\n  }\n</script>\n\n\n<div class=\"tab-content\">\n  <!-- <div id=\"imgdump\"></div> -->\n  <div id=\"scanner\">\n    <div id=\"status\">\n      <div id=\"main\">\n        <CameraReader bind:this={domCameraReader}\n                      imageProcessor={imageProcessor}/>\n        <div id=\"scan-status\">\n          <div id=\"scan-settings\">\n            <RecordButton bind:isRecording\n                          label=\"スキャン\"\n                          />\n            <RangeSlider bind:values={charmPosMatchThresholdSliderValues}\n                         min={0.10} max={0.40} step={0.01}\n                         float\n                         pips pipstep={5}\n                         all='label'\n                         hoverable={false}\n                         />\n            <MDBBtn on:click={() => {reset()}}>Reset Minimap</MDBBtn>\n          </div>\n          <div id=\"charm-spec\">\n            <div id=\"charm-spec-position\">\n              位置:\n              <CharmPositionInput inputIdPrefix=\"input-position-\"\n                                  bind:page={currentCharm.page}\n                                  bind:row={currentCharm.row}\n                                  bind:col={currentCharm.col}\n                                  />\n            </div>\n            <div id=\"charm-spec-rarity\">\n              レア度:\n              <RarityInput inputId=\"input-rarity\"\n                           bind:value={currentCharm.rarity}\n                           />\n            </div>\n            <div id=\"charm-spec-skills\">\n              スキル:\n              {#each [...Array(2).keys()] as i}\n                <div>\n                  <SkillInput inputId=\"input-skill-{i}\"\n                              bind:value={currentCharm.skills[i]}\n                              placeholder=\"スキル{i+1}\"\n                              />\n                  <SkillLevelInput inputId=\"input-skill-level-{i}\"\n                                   bind:value={currentCharm.skillLevels[i]}\n                                   />\n                </div>\n              {/each}\n            </div>\n            <div id=\"charm-spec-slots\">\n              スロット:\n              <SlotsInput inputIdPrefix=\"input-slot-level-\"\n                          bind:values={currentCharm.slots}\n                          placeholder=\"スロット\"\n                          />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"charm-box-overview\">\n        {#each [...Array(MAX_PAGE + 1).keys()].slice(1) as page}\n          <CharmMinimap {page}\n                        rowsPerPage={ROWS_PER_PAGE_IN_EQLIST}\n                        colsPerPage={COLS_PER_PAGE_IN_EQLIST}\n                        {currentCharm}\n                        {charmScanner}\n                        />\n                      {/each}\n                    </div>\n    </div>\n  </div>\n  <div id=\"result\">\n    {#if isSpinnerShown}\n      <div class=\"spinner-border text-info\" role=\"status\"></div>\n    {:else if searchResults == null}\n      <!-- blank -->\n    {:else if searchResults.length === 0}\n      <div style=\"text-align: center\">not found</div>\n    {:else}\n      <CharmTableWithPager charms={searchResults}\n                           />\n                           <!-- initialOpenedScreentshots={[searchResults[0].rowid]} -->\n    {/if}\n  </div>\n</div>\n\n\n<style>\n  .tab-content {\n    padding:    2rem;\n    height:     100%;\n    overflow:   auto;\n  }\n\n  #scanner > #status {\n\t\twidth:     100%;\n    /* max-width: calc(1280px + 26rem); */\n    margin:    0;\n  }\n\n  #scanner > #status > #main {\n    display: flex;\n  }\n\n  #scanner > #status > #main > :global(.camera-reader) {\n    max-width:   1280px;\n    flex-grow:   1;\n    flex-shrink: 1;\n  }\n\n  #scanner > #status > #main > #scan-status {\n    width:       25rem;\n    margin:      0 0 0 1rem; /* TODO: gap */\n    flex-grow:   0;\n    flex-shrink: 0;\n  }\n\n  #scanner > #status > #main > #scan-status > div {\n    padding: 1rem 0;\n    border-bottom: 1px solid #ccc;\n  }\n\n  #scanner > #status > #main > #scan-status > div:first-of-type {\n    border-top: 1px solid #ccc;\n  }\n\n  #scanner > #status > #main > #scan-status > #charm-spec > div {\n    margin:      0 0 1rem 0;\n  }\n\n  #scanner > #status > div.charm-box-overview {\n    margin:    0.5rem 0 1.0rem;\n\n    display:     flex;\n    /* flex-wrap:   wrap; */\n    gap:         0 0.4rem;\n\n    overflow-x:  auto;\n  }\n\n  #scanner > #status > div.charm-box-overview > :global(div) {\n    flex-shrink: 0;\n  }\n\n  #result {\n\t\twidth:     100%;\n    margin:    0.5rem 0;\n  }\n\n  :global(.rangeSlider) {\n    height: 0.3em !important;\n  }\n\n  :global(.rangeSlider > span[role=\"slider\"]) {\n    width: 1em !important;\n    height: 1em !important;\n  }\n\n  :global(.rangeSlider:not(.disabled) .rangeHandle:hover:before) {\n    box-shadow: 0 0 0 8px var(--handle-border);\n    opacity: 0.2;\n  }\n  :global(.rangeSlider:not(.disabled) .rangeHandle.press:before),\n  :global(.rangeSlider:not(.disabled) .rangeHandle.press:hover:before) {\n    box-shadow: 0 0 0 12px var(--handle-border);\n    opacity: 0.4;\n  }\n</style>\n","<script lang=\"ts\">\n  import type {Mat}          from 'opencv-ts'\n  import dayjs               from 'dayjs'\n  import {writable}          from 'svelte/store'\n  import MDBBtn              from 'mdbsvelte/src/MDBBtn.svelte'\n  import RangeSlider         from 'svelte-range-slider-pips'\n  import CameraReader        from '../components/parts/CameraReader.svelte'\n  import CharmPositionInput  from '../components/parts/CharmPositionInput.svelte'\n  import RarityInput         from '../components/parts/CharmRarityInput.svelte'\n  import SkillInput          from '../components/parts/CharmSkillInput.svelte'\n  import SkillLevelInput     from '../components/parts/CharmSkillLevelInput.svelte'\n  import SlotsInput          from '../components/parts/CharmSlotsInput.svelte'\n  import CharmMinimap        from '../components/parts/CharmMinimap.svelte'\n  import RecordButton        from '../components/parts/RecordButton.svelte'\n  import CharmTableWithPager from '../components/parts/CharmTableWithPager.svelte'\n  import {MAX_PAGE, ROWS_PER_PAGE_IN_RINNE, COLS_PER_PAGE_IN_RINNE}\n                             from 'assets/mhrise/metadata'\n  import type {Charm}        from 'assets/mhrise/mhrise-charm'\n  import {isSameCharm, flatCharm2charm}\n                             from 'assets/mhrise/mhrise-charm'\n  import MHRiseCharmScanner, {SCAN_MODE, SCAN_SKIP_MODE}\n                             from 'assets/mhrise/mhrise-charm-scanner'\n  import {charmManager}      from 'stores/stores.js'\n  import {isAppReady}        from 'stores/flags'\n  import {sleep}             from 'util.js'\n\n  // const VIDEO_WIDTH      = 1280 // switch のキャプチャ解像度\n  // const VIDEO_HEIGHT     = 720\n  // const VIDEO_FRAME_RATE = 29.97\n\n  let charmScanner = new MHRiseCharmScanner({\n    scanMode: SCAN_MODE.MODE_RINNE,\n    scanSkipMode: SCAN_SKIP_MODE.SKIP_SAME_CHARM_AS_IMMEDIATELY_BEFORE,\n  })\n\n  let domCameraReader\n  let isRecording              = false\n  let isRegisterEnabled        = false\n  let isPositionAdjustRequired = true\n  let charmPosMatchThreshold\n  let charmPosMatchThresholdSliderValues = [0.29]\n  $: charmPosMatchThreshold = charmPosMatchThresholdSliderValues[0]\n\n  // form to show and fix scanned data\n  let currentCharm: Charm = {skills: [], skillLevels: [], slots: []}\n\n  const imageProcessor = async (frame: Mat) => {\n    if ( !isRecording ) { return }\n\n    if ( isPositionAdjustRequired ) {\n      isPositionAdjustRequired = false\n      charmScanner.adjustPosition(frame)\n    }\n\n    const result = charmScanner.scan(frame, dayjs().format(), charmPosMatchThreshold)\n    if ( result == null ) { return }\n    const {charm, isCache} = result\n\n    // 表示を更新\n    if ( !isSameCharm(currentCharm, charm) ) {\n      currentCharm = charm\n    }\n\n    if ( !isCache && isRegisterEnabled ) {\n      // nScanedCharms = charmScanner.countCharms()\n      await $charmManager.registerCharm(charm, frame)\n    }\n  }\n\n  async function init() {\n    while ( !$isAppReady ) {\n      await new Promise(r => setTimeout(r, 1000))\n    }\n    await domCameraReader.init()\n  }\n  init()\n\n  // result table\n  let domCharmTable\n  let isSpinnerShown              = false\n  let searchResults: CharmEntry[] = null\n\n  // $: updateResult({\n  //   skills:      currentCharm.skills,\n  //   skillLevels: currentCharm.skillLevels,\n  //   slots:       currentCharm.slots,\n  // })\n  $: updateResult(currentCharm)\n\n  async function updateResult(baseSpec: Charm | null) {\n    if (Object.keys(baseSpec.skills).length === 0) { return }\n    if (isSpinnerShown) { return }\n    isSpinnerShown = true\n\n    const {skills, skillLevels, slots} = baseSpec\n\n    if ( !skills.length && !slots.length) {\n      searchResults = null\n      isSpinnerShown = false\n      return\n    }\n\n    const input = {\n      skills:      skills.map(i => i ?? '無し'),\n      skillLevels: skillLevels.map(i => i ?? 0),\n      slots:       slots.map(i => i ?? 0),\n    }\n    const inputJson = JSON.stringify(input)\n    // console.log(input)\n\n    while ( typeof Module.getSubstitutes !== 'function' ) {\n      await sleep(100)\n    }\n\n    const result = Module.getSubstitutes(\n      JSON.stringify($charmManager.charms.map((i: CharmEntry) => {\n        // 余分なデータを落としてから渡す\n        const {rowid, skill1, skill1Level, skill2, skill2Level, slot1, slot2, slot3} = i\n        return {rowid, skill1, skill1Level, skill2, skill2Level, slot1, slot2, slot3}\n      })),\n      inputJson\n    )\n    const matchIds = JSON.parse(result) as number[]\n    searchResults = matchIds\n      .map(id => $charmManager.charms.find((i: any) => i.rowid === id))\n      .filter(c => !isSameCharm(flatCharm2charm(c), input))\n\n    isSpinnerShown = false\n  }\n\n  function reset() {\n    currentCharm = {skills: [], skillLevels: [], slots: []}\n    charmScanner.reset()\n  }\n</script>\n\n\n<div class=\"tab-content\">\n  <!-- <div id=\"imgdump\"></div> -->\n  <div id=\"scanner\">\n    <div id=\"status\">\n      <div id=\"main\">\n        <CameraReader bind:this={domCameraReader}\n                      imageProcessor={imageProcessor}/>\n        <div id=\"scan-status\">\n          <div id=\"scan-settings\">\n            <RecordButton bind:isRecording\n                          label=\"スキャン\"\n                          />\n            <RangeSlider bind:values={charmPosMatchThresholdSliderValues}\n                         min={0.10} max={0.40} step={0.01}\n                         float\n                         pips pipstep={5}\n                         all='label'\n                         hoverable={false}\n                         />\n            <MDBBtn on:click={() => {reset()}}>Reset Minimap</MDBBtn>\n          </div>\n          <div id=\"charm-spec\">\n            <div id=\"charm-spec-position\">\n              位置:\n              <CharmPositionInput inputIdPrefix=\"input-position-\"\n                                  bind:page={currentCharm.page}\n                                  bind:row={currentCharm.row}\n                                  bind:col={currentCharm.col}\n                                  />\n            </div>\n            <div id=\"charm-spec-rarity\">\n              レア度:\n              <RarityInput inputId=\"input-rarity\"\n                           bind:value={currentCharm.rarity}\n                           />\n            </div>\n            <div id=\"charm-spec-skills\">\n              スキル:\n              {#each [...Array(2).keys()] as i}\n                <div>\n                  <SkillInput inputId=\"input-skill-{i}\"\n                              bind:value={currentCharm.skills[i]}\n                              placeholder=\"スキル{i+1}\"\n                              />\n                  <SkillLevelInput inputId=\"input-skill-level-{i}\"\n                                   bind:value={currentCharm.skillLevels[i]}\n                                   />\n                </div>\n              {/each}\n            </div>\n            <div id=\"charm-spec-slots\">\n              スロット:\n              <SlotsInput inputIdPrefix=\"input-slot-level-\"\n                          bind:values={currentCharm.slots}\n                          placeholder=\"スロット\"\n                          />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"charm-box-overview\">\n        {#each [...Array(MAX_PAGE + 1).keys()].slice(1) as page}\n          <CharmMinimap {page}\n                        rowsPerPage={ROWS_PER_PAGE_IN_RINNE}\n                        colsPerPage={COLS_PER_PAGE_IN_RINNE}\n                        {currentCharm}\n                        {charmScanner}\n                        />\n                      {/each}\n                    </div>\n    </div>\n  </div>\n  <div id=\"result\">\n    {#if isSpinnerShown}\n      <div class=\"spinner-border text-info\" role=\"status\"></div>\n    {:else if searchResults == null}\n      <!-- blank -->\n    {:else if searchResults.length === 0}\n      <div style=\"text-align: center\">not found</div>\n    {:else}\n      <CharmTableWithPager charms={searchResults}\n                           />\n                           <!-- initialOpenedScreentshots={[searchResults[0].rowid]} -->\n    {/if}\n  </div>\n</div>\n\n\n<style>\n  .tab-content {\n    padding:    2rem;\n    height:     100%;\n    overflow:   auto;\n  }\n\n  #scanner > #status {\n\t\twidth:     100%;\n    /* max-width: calc(1280px + 26rem); */\n    margin:    0;\n  }\n\n  #scanner > #status > #main {\n    display: flex;\n  }\n\n  #scanner > #status > #main > :global(.camera-reader) {\n    max-width:   1280px;\n    flex-grow:   1;\n    flex-shrink: 1;\n  }\n\n  #scanner > #status > #main > #scan-status {\n    width:       25rem;\n    margin:      0 0 0 1rem; /* TODO: gap */\n    flex-grow:   0;\n    flex-shrink: 0;\n  }\n\n  #scanner > #status > #main > #scan-status > div {\n    padding: 1rem 0;\n    border-bottom: 1px solid #ccc;\n  }\n\n  #scanner > #status > #main > #scan-status > div:first-of-type {\n    border-top: 1px solid #ccc;\n  }\n\n  #scanner > #status > #main > #scan-status > #charm-spec > div {\n    margin:      0 0 1rem 0;\n  }\n\n  #scanner > #status > div.charm-box-overview {\n    margin:    0.5rem 0 1.0rem;\n\n    display:     flex;\n    /* flex-wrap:   wrap; */\n    gap:         0 0.4rem;\n\n    overflow-x:  auto;\n  }\n\n  #scanner > #status > div.charm-box-overview > :global(div) {\n    flex-shrink: 0;\n  }\n\n  #result {\n\t\twidth:     100%;\n    margin:    0.5rem 0;\n  }\n\n  :global(.rangeSlider) {\n    height: 0.3em !important;\n  }\n\n  :global(.rangeSlider > span[role=\"slider\"]) {\n    width: 1em !important;\n    height: 1em !important;\n  }\n\n  :global(.rangeSlider:not(.disabled) .rangeHandle:hover:before) {\n    box-shadow: 0 0 0 8px var(--handle-border);\n    opacity: 0.2;\n  }\n  :global(.rangeSlider:not(.disabled) .rangeHandle.press:before),\n  :global(.rangeSlider:not(.disabled) .rangeHandle.press:hover:before) {\n    box-shadow: 0 0 0 12px var(--handle-border);\n    opacity: 0.4;\n  }\n</style>\n","<script lang=\"ts\">\n  import AutoComplete      from 'simple-svelte-autocomplete'\n  import CharmTable        from '../components/parts/CharmTable.svelte'\n  import {charmManager}    from 'stores/stores.js'\n  import {allSkillDetails} from 'assets/mhrise/mhrise-skills.js'\n  import type {CharmEntry} from 'assets/mhrise/mhrise-charm'\n\n  const MAX_SKILL_LEVEL  = 7\n  const SKILL_LEVEL_LIST = [...Array(MAX_SKILL_LEVEL).keys()].map(i => i + 1) // 補完用\n  const MAX_SLOTS        = 3\n\n  let skillFilters      = []\n  let skillLevelFilters = []\n  let slots             = []\n\n  let isSpinnerShown              = false\n  let searchResults: CharmEntry[] = null\n\n  // table pagination\n  let currentPage         = 0,\n      itemsPerPage        = 10\n  $: nPages = Math.ceil((searchResults||[]).length / itemsPerPage)\n  $: {\n    if ( searchResults && nPages ) {\n      currentPage = 0\n    }\n  }\n  $: searchResultsToShow = searchResults //?.slice(itemsPerPage * currentPage, itemsPerPage * (currentPage+1))\n  $: sliceBegin = itemsPerPage * currentPage\n  $: sliceEnd   = itemsPerPage * (currentPage+1)\n\n  // update form (skill)\n  $: {\n    for (let i = 0; i < skillFilters.length; i++) { // for ... in だと i が string になるので\n      if ( skillFilters[i] && skillLevelFilters[i] == null ) {\n        skillLevelFilters[i] = 1\n      }\n      if ( skillFilters[i] == null ) {\n        skillFilters.splice(i, 1)\n        skillLevelFilters.splice(i, 1)\n      }\n    }\n  }\n\n  // update form (slot)\n  $: slots = slots.sort((a, b) => b - a)\n\n  // update result\n  $: {\n    isSpinnerShown = true\n    slots = slots.filter(i => i)\n\n    const base = JSON.stringify({\n      skills: skillFilters.map(i => i.name),\n      skillLevels: skillLevelFilters,\n      slots,\n    })\n\n    const search = () => {\n      if ( !skillFilters.length && !skillLevelFilters.length && !slots.length) {\n        searchResults = null\n        return\n      }\n\n      if ( typeof Module.getSubstitutesAll !== 'function' ) {\n        setTimeout(search, 100)\n        return\n      }\n\n      const result = Module.getSubstitutes(\n        JSON.stringify($charmManager.charms.map((i: CharmEntry) => {\n          // 余分なデータを落としてから渡す\n          // return i\n          const {rowid, skill1, skill1Level, skill2, skill2Level, slot1, slot2, slot3} = i\n          return {rowid, skill1, skill1Level, skill2, skill2Level, slot1, slot2, slot3}\n        })),\n        base\n      )\n      const matchIds = JSON.parse(result) as number[]\n      searchResults = matchIds.map(id => $charmManager.charms.find((i: any) => i.rowid === id))\n    }\n\n    search()\n    isSpinnerShown = false\n  }\n\n\n  function handleKeydown(event: KeyboardEvent) {\n    if ( event.key === 'Escape' ) {\n      document.body.click()\n      return\n    }\n\n    // key combination\n    if ( !( (event.ctrlKey && event.metaKey) || (event.ctrlKey && event.altKey) )) {\n      return\n    }\n\n    let elementBasename = ''\n    if      ( event.key === 'k' ) { elementBasename = 'input-skill-' }\n    else if ( event.key === 'l' ) { elementBasename = 'input-skill-level-' }\n    else if ( event.key === 't' ) { elementBasename = 'input-slot-' }\n    else {\n      return\n    }\n\n    const focusedId = document.activeElement.id\n    if ( focusedId.startsWith(elementBasename) ) {\n      const currentSuffix = parseInt(focusedId.replace(elementBasename, ''))\n      const nextFocus = document.getElementById(`${elementBasename}${currentSuffix + 1}`)\n                     || document.getElementById(`${elementBasename}0`)\n      document.body.click()\n      nextFocus.focus()\n    }\n    else {\n      const nextFocus = document.getElementById(`${elementBasename}0`)\n      document.body.click()\n      nextFocus.focus()\n    }\n\t}\n</script>\n\n<svelte:window on:keydown={handleKeydown}/>\n\n<div class=\"tab-content\">\n  <div id=\"charm-searcher\">\n    <!-- <h2>検索条件</h2> -->\n    <div id=\"charm-search-form\">\n      <div id=\"skills\">\n        スキル:\n        {#each [...Array(skillFilters.filter(i => i).length + 1).keys()] as i}\n          <div>\n            <AutoComplete items={allSkillDetails}\n                          inputId=\"input-skill-{i}\"\n                          bind:selectedItem={skillFilters[i]}\n                          labelFieldName=\"name\"\n                          valueFieldName=\"name\"\n                          keywordsFunction={s => `${s.name} ${s.hiragana} ${s.englishCharacters}`}\n                          placeholder=\"スキル{i+1}\"\n                          showClear\n                          hideArrow\n                          className=\"autocomplete-skill\"\n                          />\n            <AutoComplete items={SKILL_LEVEL_LIST}\n                          inputId=\"input-skill-level-{i}\"\n                          bind:selectedItem={skillLevelFilters[i]}\n                          placeholder=\"Lv\"\n                          hideArrow\n                          className=\"autocomplete-skill-level\"\n                          />\n          </div>\n        {/each}\n      </div>\n      <div id=\"slots\">\n        スロット:<br>\n        {#each [...Array(MAX_SLOTS).keys()] as i}\n          <AutoComplete items={[...Array(3).keys()].map(i => i + 1)}\n                        placeholder=\"スロット{i+1}\"\n                        inputId=\"input-slot-{i}\"\n                        bind:selectedItem={slots[i]}\n                        showClear\n                        hideArrow\n                        className=\"autocomplete-slot-level\"\n                        />&nbsp;\n        {/each}\n      </div>\n      <!-- <div> -->\n      <!--   現在の検索条件: -->\n      <!--   <ul> -->\n      <!--     {#each skillFilters.map((e, idx) => `${e.name} Lv${skillLevelFilters[idx]}`) as skill} -->\n      <!--       <li>{skill}</li> -->\n      <!--     {/each} -->\n      <!--     {#if slots.length > 0} -->\n      <!--       <li>空きスロット {slots.join('-')}</li> -->\n      <!--     {/if} -->\n      <!--   </ul> -->\n      <!-- </div> -->\n\n      <!-- <input type=\"checkbox\" checked disabled> 装飾品を使うパターンを含める -->\n    </div>\n\n    <hr>\n\n    <div id=\"charm-search-result\">\n      {#if isSpinnerShown}\n        <div class=\"spinner-border text-info\" role=\"status\"></div>\n      {:else if searchResults == null}\n        <!-- blank -->\n      {:else if searchResults.length === 0}\n        <div style=\"text-align: center\">not found</div>\n      {:else}\n        show\n        <select bind:value={itemsPerPage}>\n          <option>10</option>\n          <option>25</option>\n          <option>50</option>\n          <option>100</option>\n        </select>\n        charms\n        <CharmTable bind:charms={searchResultsToShow}\n                    bind:sliceBegin\n                    bind:sliceEnd\n                    disableFilterHeader={true}\n                    headerColor='dodgerblue'\n                    />\n        <div id=\"charm-search-result-pager\">\n          <ul class=\"pagination\">\n            <li class=\"page-item {currentPage === 0 ? 'disabled' : ''}\" aria-label=\"Previous\">\n              <span class=\"page-link\" on:click={() => currentPage--}>\n                <span aria-hidden=\"true\">&laquo;</span>\n              </span>\n            </li>\n            {#each [...Array(nPages).keys()] as i}\n              <li class=\"page-item {i === currentPage ? 'active' : ''}\">\n                <span class=\"page-link\" on:click={() => currentPage = i}>{i + 1}</span>\n              </li>\n            {/each}\n            <li class=\"page-item {currentPage === (nPages - 1) ? 'disabled' : ''}\" aria-label=\"Next\">\n              <span class=\"page-link\" on:click={() => currentPage++}>\n                <span aria-hidden=\"true\">&raquo;</span>\n              </span>\n            </li>\n          </ul>\n        </div>\n      {/if}\n    </div>\n  </div>\n</div>\n\n\n<style>\n  .tab-content {\n    margin:     0;\n    padding:    0;\n    height:     100%;\n    overflow:   auto; /* width 100% でスクロールさせる用 */\n  }\n\n  .tab-content > #charm-searcher {\n    margin:     0;\n    padding:    0;\n\n    width:      100%;\n  }\n\n  .tab-content > #charm-searcher hr {\n    color: #ccc;\n  }\n\n  .tab-content > #charm-searcher #charm-search-form,\n  .tab-content > #charm-searcher #charm-search-result {\n    width:      calc(100% - 2rem);\n    margin:     1rem auto 1.4rem;\n  }\n\n  .tab-content > #charm-searcher #charm-search-form #skills,\n  .tab-content > #charm-searcher #charm-search-form #slots {\n    margin:     1rem 0;\n  }\n\n  #charm-search-result-pager ul.pagination {\n    width:           67rem;\n\n    justify-content: center;\n    flex-wrap:       wrap;\n  }\n\n  :global(.tab-content > #charm-searcher .autocomplete-skill-level) {\n    width:     6rem;\n    min-width: 6rem; /* overwrite */\n  }\n\n  :global(.tab-content > #charm-searcher .autocomplete-slot-level) {\n    width:     8rem;\n    min-width: 8rem; /* overwrite */\n  }\n</style>\n","<script lang=\"ts\">\n  import CharmTable from '../components/parts/CharmTable.svelte'\n  import {charmManager} from 'stores/stores.js'\n\n  let charms\n\n  setInterval(() => { // WORKAROUND: charms does not follow charManager.charms...\n    if ( charms !== $charmManager?.charms ) {\n      charms = $charmManager?.charms\n    }\n  }, 1000)\n</script>\n\n\n<div class=\"tab-content\">\n  <div id=\"charm-list\">\n    {#if charms == null}\n      <div class=\"spinner-border text-info\" role=\"status\">\n        <!-- <span class=\"visually-hidden\">Loading...</span> -->\n      </div>\n    {:else}\n      <CharmTable bind:charms\n                  />\n    {/if}\n  </div>\n</div>\n\n\n<style>\n  .tab-content {\n    margin:     0;\n    padding:    0;\n    height:     100%;\n    overflow:   hidden;\n  }\n\n  #charm-list{\n    padding:     8px;\n\n    margin-top: 2px;\n    width:      100%;\n    height:     100%;\n\n    overflow-x: auto;\n    overflow-y: hidden;\n  }\n\n  #charm-list .spinner-border {\n    margin: 30% calc(50% - 1rem);\n  }\n</style>\n","<script lang=\"ts\">\n  import type {Mat}         from 'opencv-ts'\n  import dayjs              from 'dayjs'\n  import {writable}         from 'svelte/store'\n  import MDBBtn             from 'mdbsvelte/src/MDBBtn.svelte'\n  import CameraReader       from '../components/parts/CameraReader.svelte'\n  import CharmPositionInput from '../components/parts/CharmPositionInput.svelte'\n  import RarityInput        from '../components/parts/CharmRarityInput.svelte'\n  import SkillInput         from '../components/parts/CharmSkillInput.svelte'\n  import SkillLevelInput    from '../components/parts/CharmSkillLevelInput.svelte'\n  import SlotsInput         from '../components/parts/CharmSlotsInput.svelte'\n  import CharmMinimap       from '../components/parts/CharmMinimap.svelte'\n  import RecordButton       from '../components/parts/RecordButton.svelte'\n  import {MAX_PAGE}         from 'assets/mhrise/metadata'\n  import type {Charm}       from 'assets/mhrise/mhrise-charm'\n  import MHRiseCharmScanner, {SCAN_MODE, SCAN_SKIP_MODE}\n                            from 'assets/mhrise/mhrise-charm-scanner'\n  import {charmManager}     from 'stores/stores.js'\n  import {isAppReady}       from 'stores/flags'\n\n  // const VIDEO_WIDTH      = 1280 // switch のキャプチャ解像度\n  // const VIDEO_HEIGHT     = 720\n  // const VIDEO_FRAME_RATE = 29.97\n\n  let charmScanner = new MHRiseCharmScanner({\n    scanMode: SCAN_MODE.MODE_EQUIP_LIST,\n    scanSkipMode: SCAN_SKIP_MODE.SKIP_SAME_CHARM_AS_IMMEDIATELY_BEFORE,\n  })\n\n  let domCameraReader\n  let isRecording              = false\n  let isRegisterEnabled        = true\n  let isPositionAdjustRequired = true\n\n  // form to show and fix scanned data\n  let currentCharm: Charm = {skills: [], skillLevels: [], slots: []}\n\n  const imageProcessor = async (frame: Mat) => {\n    if ( !isRecording ) { return }\n\n    if ( isPositionAdjustRequired ) {\n      isPositionAdjustRequired = false\n      charmScanner.adjustPosition(frame)\n    }\n\n    const result = charmScanner.scan(frame, dayjs().format())\n    if ( result == null ) { return }\n    const {charm, isCache} = result\n\n    // 表示を更新\n    currentCharm = charm\n\n    if ( !isCache && isRegisterEnabled ) {\n      // nScanedCharms = charmScanner.countCharms()\n      await $charmManager.registerCharm(charm, frame)\n    }\n  }\n\n  ;(async () => {\n    while ( !$isAppReady ) {\n      await new Promise(r => setTimeout(r, 1000))\n    }\n    await domCameraReader.init()\n  })()\n</script>\n\n\n<div class=\"tab-content\">\n  <div id=\"imgdump\"></div>\n  <div id=\"scanner\">\n    <div id=\"status\">\n      <div id=\"main\">\n        <CameraReader bind:this={domCameraReader}\n                      imageProcessor={imageProcessor}/>\n        <div id=\"charm-spec\">\n          <RecordButton bind:isRecording\n                        label=\"スキャン\"\n                        />\n          <div id=\"charm-spec-position\">\n            位置:\n            <CharmPositionInput inputIdPrefix=\"input-position-\"\n                                bind:page={currentCharm.page}\n                                bind:row={currentCharm.row}\n                                bind:col={currentCharm.col}\n                                />\n          </div>\n          <div id=\"charm-spec-rarity\">\n            レア度:\n            <RarityInput inputId=\"input-rarity\"\n                         bind:value={currentCharm.rarity}\n                         />\n          </div>\n          <div id=\"charm-spec-skills\">\n            スキル:\n            {#each [...Array(2).keys()] as i}\n              <div>\n                <SkillInput inputId=\"input-skill-{i}\"\n                            bind:value={currentCharm.skills[i]}\n                            placeholder=\"スキル{i+1}\"\n                            />\n                <SkillLevelInput inputId=\"input-skill-level-{i}\"\n                                 bind:value={currentCharm.skillLevels[i]}\n                                 />\n              </div>\n            {/each}\n          </div>\n          <div id=\"charm-spec-slots\">\n            スロット:\n            <SlotsInput inputIdPrefix=\"input-slot-level-\"\n                        bind:values={currentCharm.slots}\n                        placeholder=\"スロット\"\n                        />\n          </div>\n        </div>\n      </div>\n\n      <div class=\"charm-box-overview\">\n        {#each [...Array(MAX_PAGE + 1).keys()].slice(1) as page}\n          <CharmMinimap {page}\n                        {currentCharm}\n                        {charmScanner}\n                        />\n                      {/each}\n                    </div>\n    </div>\n  </div>\n</div>\n\n\n<style>\n  .tab-content {\n    margin:     2rem;\n    padding:    0;\n    height:     100%;\n    overflow:   auto; /* width 100% でスクロールさせる用 */\n  }\n\n  #scanner > #status {\n\t\twidth:     100%;\n    max-width: calc(1280px + 26rem);\n    margin:    0;\n  }\n\n  #scanner > #status > #main {\n    display: flex;\n  }\n\n  #scanner > #status > #main > :global(.camera-reader) {\n    max-width:   1280px;\n    flex-grow:   1;\n    flex-shrink: 1;\n  }\n\n  #scanner > #status > #main > #charm-spec {\n    width:       25rem;\n    margin:      0 0 0 1rem; /* TODO: gap */\n    flex-grow:   0;\n    flex-shrink: 0;\n  }\n\n  #scanner > #status > #main > #charm-spec > div {\n    margin:      0 0 1rem 0;\n  }\n\n  #scanner > #status > div.charm-box-overview {\n    display:   flex;\n    flex-wrap: wrap;\n    gap:       0 0.4rem;\n  }\n</style>\n","<!-- ファイルから各フレームの cv.Mat を取り出すやつ -->\n\n<script lang=\"ts\">\n  import cv from 'opencv-ts'\n\n  const FRAME_RATE = 29.97\n  const videoWidth = 1280\n  const videoHeight = 720\n\n  export let nSplits\n  export let index\n  export let videoName\n  export let videoData\n  export let isVideoVisible = false\n  export let onCapture\n  export let onFinish\n\n  let beginTime, endTime\n\n  let domVideo\n\n  let capture\n  let frame = new cv.Mat(videoHeight, videoWidth, cv.CV_8UC4)\n  let progress = 0\n\n  ;(async () => {\n    await new Promise(r => requestAnimationFrame(r))\n    await new Promise(r => domVideo.oncanplay = r)\n    capture = new cv.VideoCapture(domVideo)\n\n    beginTime = index * domVideo.duration / nSplits\n    endTime   = (index + 1) * domVideo.duration / nSplits\n\n    domVideo.addEventListener('seeked', processCurrentFrame)\n    // console.log( domVideo.currentTime, domVideo.duration, index, nSplits, beginTime, endTime )\n    if ( domVideo.currentTime != beginTime ) {\n      domVideo.currentTime = beginTime\n    }\n    else {\n      processCurrentFrame()\n    }\n  })()\n\n  const processCurrentFrame = async () => {\n    // console.log( {currentTime: domVideo.currentTime, endTime} )\n\n    if ( endTime - domVideo.currentTime < 1 / FRAME_RATE ) {\n      progress = (1)\n      onFinish()\n\n      return\n    }\n\n    capture.read(frame)\n    onCapture(frame, videoName)\n\n    seekFrames(1, FRAME_RATE)\n    progress = ((domVideo.currentTime - beginTime) / (endTime - beginTime))\n  }\n\n\n  const seekFrames = (nFrames, fps) => {\n\t  const currentFrame = domVideo.currentTime * fps\n\t  const newPosition = 0.00001 + (currentFrame + nFrames) / fps\n\t  // plus 0.00001 is workaround for safari\n\n    domVideo.currentTime = Math.min(endTime, newPosition)\n  }\n\n</script>\n\n\n<div class=\"video-reader\">\n  <video id=\"video{index}\"\n         class=\"video-preview\"\n         src=\"{videoData}\"\n         width=\"{videoWidth}\"\n         height=\"{videoHeight}\"\n         alt=\"preview{index}\"\n         style=\"{isVideoVisible ? '' : 'display: none'}\"\n         bind:this={domVideo}>\n    <track kind=\"captions\">\n  </video>\n\n  <div>\n    <progress value={progress}></progress>\n    <span class=\"progress-text\">{Math.floor(progress * 100)}%</span>\n  </div>\n</div>\n\n\n<style>\n  .video-reader {\n    width: 100%;\n    height: 100%;\n  }\n\n  .video-reader video {\n    border: solid 1px gray;\n\n    height: 540px;\n\t\twidth:  960px;\n  }\n\n  .video-reader progress {\n\t\t/* display: block; */\n\t\twidth:   calc(100% - 5rem);\n\t}\n\n  .video-reader .progress-text {\n    width:      4rem;\n    display:    inline-block;\n  }\n</style>\n","<script lang=\"ts\">\n  import {writable}         from 'svelte/store'\n  import VideoReader        from '../components/parts/VideoReader.svelte'\n  import MHRiseCharmScanner, {SCAN_MODE, SCAN_SKIP_MODE}\n                            from 'assets/mhrise/mhrise-charm-scanner'\n  import {charmManager}     from 'stores/stores.js'\n  import {isAppReady}       from 'stores/flags.js'\n\n\n  // const VIDEO_WIDTH      = 1280 // switch のキャプチャ解像度\n  // const VIDEO_HEIGHT     = 720\n  // const VIDEO_FRAME_RATE = 29.97\n  const N_VIDEO_SPLITS = (navigator.hardwareConcurrency || 8) / 2\n\n  let charmScanner = new MHRiseCharmScanner({\n    scanMode: SCAN_MODE.MODE_EQUIP_LIST,\n    scanSkipMode: SCAN_SKIP_MODE.SKIP_SCANNED_CHARM,\n  })\n\n  let domFileInput // ファイルアップロード用 input 要素\n  let files = []   // 選択されたローカルファイル\n\n  // video reader\n  let videoReaderProps = writable([])\n  let countFinishVideoRead\n  let isVideoReadFinished = false\n\n  // progress\n  let currentFileIndex = -1\n  let isScanFinished = false\n\n  // result\n  let nScanedCharms = 0\n  let exportData = ''\n\n\n  function initVideoReaders() {\n    videoReaderProps = writable([])\n    countFinishVideoRead = 0\n    isVideoReadFinished = false\n  }\n\n\n  async function onFileSelected(e) {\n    if ( e.target.files == null ) { return }\n\n    const filelist = e.target.files as FileList\n    const files: File[] = [...filelist]\n\n    isScanFinished = false\n\n    // console.log(files)\n    for (let i = 0; i < files.length; i++) {\n      currentFileIndex = i\n      const file = files[i]\n\n      console.log(file.name, Date())\n\n      initVideoReaders()\n\n      const reader = new FileReader()\n      reader.readAsDataURL(file);\n      await new Promise((resolve) => { reader.onload = resolve })\n\n      for (let i = 0; i < N_VIDEO_SPLITS; i++) {\n        const index = $videoReaderProps.length\n\n        $videoReaderProps[index] = {\n          index:        index,\n          videoName:    file.name,\n          videoData:    reader.result,\n       // charmScanner: charmScanner,\n          nSplits:      N_VIDEO_SPLITS,\n          onCapture:    onCapture,\n          onFinish:     onFinishVideoRead,\n        }\n      }\n      // console.log($videoReaderProps)\n\n      // wait for movie\n      await new Promise((resolve) => requestAnimationFrame(resolve))\n\n      // wait scanning\n      const updateResult = () => {\n        nScanedCharms = charmScanner.countCharms()\n        exportData = charmScanner.exportAsText()\n      }\n      while ( !isVideoReadFinished ) {\n        updateResult()\n        await new Promise(r => setTimeout(r, 1000))\n      }\n      updateResult()\n\n      const charms = charmScanner.getCharms()\n      await $charmManager.registerCharms(charms)\n    }\n\n    const charms = charmScanner.getCharms()\n    console.log(JSON.stringify(charms))\n\n    isScanFinished = true\n  }\n\n\n  function onCapture(frame, videoName) {\n    const result = charmScanner.scan(frame, videoName)\n    if ( result == null ) { return }\n    const {charm, isCache} = result\n\n    if ( !isCache ) {\n      // スクショ保存だけしておく. (護石データの DB 保存は動画単位で)\n      $charmManager.saveScreenshot(frame, charm.imageName)\n    }\n  }\n\n\n  function onFinishVideoRead() {\n    if ( ++countFinishVideoRead !== N_VIDEO_SPLITS ) { return }\n    isVideoReadFinished = true\n  }\n</script>\n\n\n<div class=\"tab-content\">\n  <div id=\"scanner\">\n    <div id=\"status\">\n      {#each $videoReaderProps as props}\n        <VideoReader {...props} />\n      {/each}\n\n      {#if isScanFinished}\n        Completed!\n      {:else if files.length > 0}\n        Processing {1 + Number(currentFileIndex)}/{files.length} file. Please wait...\n      {/if}\n    </div>\n\n\n    <div id=\"result\">\n      <div>Found {nScanedCharms} charms.</div>\n      <textarea placeholder=\"納刀術,2,ひるみ軽減,1,1,0,0\">{exportData}</textarea>\n    </div>\n\n    <div id=\"upload\">\n      {#if isAppReady}\n        <input style=\"display:none\"\n               type=\"file\"\n               accept=\".mp4\"\n               multiple\n               on:change={onFileSelected}\n               bind:files\n               bind:this={domFileInput}>\n        <img src=\"https://static.thenounproject.com/png/625182-200.png\"\n             alt=\"\"\n             on:click={()=>domFileInput.click()}\n             />\n        <div on:click={()=>domFileInput.click()}>Click to Select Movie</div>\n      {:else}\n        Loading Files...\n      {/if}\n    </div>\n  </div>\n</div>\n\n\n<style>\n  .tab-content {\n    margin:     0;\n    padding:    0;\n    height:     100%;\n    overflow:   auto; /* width 100% でスクロールさせる用 */\n  }\n\n  #scanner #status {\n\t\twidth:     96%;\n    max-width: 960px;\n    margin:    2rem auto;\n\n    text-align: center;\n  }\n\n  #scanner #result {\n    width:  95%;\n    margin: auto;\n  }\n\n  #scanner #result textarea {\n    width:       100%;\n    height:      20rem;\n    font-size:   small;\n    font-family: monospace;\n  }\n\n  #scanner #upload,\n  #scanner #upload * {\n    z-index: 1;\n\t\tcursor:  pointer;\n\n    display: block;\n    margin:  auto;\n    text-align: center;\n\t}\n\n  #scanner #upload {\n    width:  11rem;\n    margin: auto;\n  }\n\n  #scanner #upload img {\n\t\twidth:   60px;\n    height:  60px;\n  }\n\n  #scanner #upload div {\n    font-weight: bold;\n  }\n</style>\n","<script context=\"module\">\n  import CharmScanner          from '../../pages/CharmScanner.svelte'\n  import CharmRealtimeScanner  from '../../pages/CharmRealtimeScanner.svelte'\n  import CharmList             from '../../pages/CharmList.svelte'\n  import CharmSearcher         from '../../pages/CharmSearcher.svelte'\n  import CharmRinneSupporter   from '../../pages/CharmRinneSupporter.svelte'\n  import CharmDisposalSupporter from '../../pages/CharmDisposalSupporter.svelte'\n  import CharmIxporter         from '../../pages/CharmIxporter.svelte'\n  import Description           from '../../pages/Description.svelte'\n\n  export const navOptions = [\n\t\t{ tabTitle: '護石スキャン',\n      component: CharmScanner,\n      iconData: [\n        \"M1.5 1a.5.5 0 0 0-.5.5v3a.5.5 0 0 1-1 0v-3A1.5 1.5 0 0 1 1.5 0h3a.5.5 0 0 1 0 1h-3zM11 .5a.5.5 0 0 1 .5-.5h3A1.5 1.5 0 0 1 16 1.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 1-.5-.5zM.5 11a.5.5 0 0 1 .5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 1 0 1h-3A1.5 1.5 0 0 1 0 14.5v-3a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v3a1.5 1.5 0 0 1-1.5 1.5h-3a.5.5 0 0 1 0-1h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 1 .5-.5zM3 4.5a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0v-7zm2 0a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0v-7zm2 0a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0v-7zm2 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-7zm3 0a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0v-7z\",\n      ],\n    },\n    { tabTitle: '護石リアルタイム\\nスキャン(β)',\n      component: CharmRealtimeScanner,\n      iconData: [\n        \"M1.5 1a.5.5 0 0 0-.5.5v3a.5.5 0 0 1-1 0v-3A1.5 1.5 0 0 1 1.5 0h3a.5.5 0 0 1 0 1h-3zM11 .5a.5.5 0 0 1 .5-.5h3A1.5 1.5 0 0 1 16 1.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 1-.5-.5zM.5 11a.5.5 0 0 1 .5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 1 0 1h-3A1.5 1.5 0 0 1 0 14.5v-3a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v3a1.5 1.5 0 0 1-1.5 1.5h-3a.5.5 0 0 1 0-1h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 1 .5-.5zM3 4.5a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0v-7zm2 0a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0v-7zm2 0a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0v-7zm2 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-7zm3 0a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0v-7z\",\n      ],\n    },\n    { tabTitle: '護石管理',\n      component: CharmList,\n      iconData: [\n        \"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 2h-4v3h4V4zm0 4h-4v3h4V8zm0 4h-4v3h3a1 1 0 0 0 1-1v-2zm-5 3v-3H6v3h4zm-5 0v-3H1v2a1 1 0 0 0 1 1h3zm-4-4h4V8H1v3zm0-4h4V4H1v3zm5-3v3h4V4H6zm4 4H6v3h4V8z\",\n      ],\n    },\n    { tabTitle: '護石スペック検索',\n      component: CharmSearcher,\n      iconData: [\n        \"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z\",\n      ],\n    },\n    { tabTitle: '輪廻サポート(β)',\n      component: CharmRinneSupporter,\n      iconData: [\n        \"M9.302 1.256a1.5 1.5 0 0 0-2.604 0l-1.704 2.98a.5.5 0 0 0 .869.497l1.703-2.981a.5.5 0 0 1 .868 0l2.54 4.444-1.256-.337a.5.5 0 1 0-.26.966l2.415.647a.5.5 0 0 0 .613-.353l.647-2.415a.5.5 0 1 0-.966-.259l-.333 1.242-2.532-4.431zM2.973 7.773l-1.255.337a.5.5 0 1 1-.26-.966l2.416-.647a.5.5 0 0 1 .612.353l.647 2.415a.5.5 0 0 1-.966.259l-.333-1.242-2.545 4.454a.5.5 0 0 0 .434.748H5a.5.5 0 0 1 0 1H1.723A1.5 1.5 0 0 1 .421 12.24l2.552-4.467zm10.89 1.463a.5.5 0 1 0-.868.496l1.716 3.004a.5.5 0 0 1-.434.748h-5.57l.647-.646a.5.5 0 1 0-.708-.707l-1.5 1.5a.498.498 0 0 0 0 .707l1.5 1.5a.5.5 0 1 0 .708-.707l-.647-.647h5.57a1.5 1.5 0 0 0 1.302-2.244l-1.716-3.004z\",\n      ],\n    },\n    { tabTitle: '売却サポート(β)',\n      component: CharmDisposalSupporter,\n      iconData: [\n        \"M5.5 9.511c.076.954.83 1.697 2.182 1.785V12h.6v-.709c1.4-.098 2.218-.846 2.218-1.932 0-.987-.626-1.496-1.745-1.76l-.473-.112V5.57c.6.068.982.396 1.074.85h1.052c-.076-.919-.864-1.638-2.126-1.716V4h-.6v.719c-1.195.117-2.01.836-2.01 1.853 0 .9.606 1.472 1.613 1.707l.397.098v2.034c-.615-.093-1.022-.43-1.114-.9H5.5zm2.177-2.166c-.59-.137-.91-.416-.91-.836 0-.47.345-.822.915-.925v1.76h-.005zm.692 1.193c.717.166 1.048.435 1.048.91 0 .542-.412.914-1.135.982V8.518l.087.02z\",\n        \"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\",\n        \"M8 13.5a5.5 5.5 0 1 1 0-11 5.5 5.5 0 0 1 0 11zm0 .5A6 6 0 1 0 8 2a6 6 0 0 0 0 12z\",\n      ],\n    },\n    { tabTitle: '護石エクスポート',\n      component: CharmIxporter,\n      iconData: [\n        \"M1 11.5a.5.5 0 0 0 .5.5h11.793l-3.147 3.146a.5.5 0 0 0 .708.708l4-4a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708.708L13.293 11H1.5a.5.5 0 0 0-.5.5zm14-7a.5.5 0 0 1-.5.5H2.707l3.147 3.146a.5.5 0 1 1-.708.708l-4-4a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 4H14.5a.5.5 0 0 1 .5.5z\",\n      ],\n    },\n    { tabTitle: 'ヘルプ',\n      component: Description,\n      iconData: [\n        \"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\",\n        \"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z\",\n      ],\n    },\n  ]\n</script>\n","<script lang=\"ts\">\n  import {navOptions} from './NavOptions.svelte'\n\n  export let isNavigationOpen: boolean\n\n  let currentNavOptionId = 7\n  let onActivate = {}\n\n  function switchComponent(e: Event) {\n    const selectedComponentId = (e.target as HTMLElement).closest('button')?.id\n    if (selectedComponentId == null) { return }\n\n    currentNavOptionId = parseInt(selectedComponentId)\n\n    if ( onActivate[currentNavOptionId] ) {\n      onActivate[currentNavOptionId]()\n    }\n  }\n</script>\n\n\n<div id=\"container\">\n  <ul class=\"navigation\" style=\"width: {isNavigationOpen ? '14rem' : '3.2rem'}\">\n    {#each navOptions as option, i}\n      <li class=\"navigation-item\">\n        <button id={String(i)}\n                class={currentNavOptionId == i ? \"active navigation-link\" : \"navigation-link\"}\n                role=\"tab\"\n                on:click={switchComponent}\n                >\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"19\" fill=\"currentColor\">\n            {#each (option.iconData || []) as iconData}\n              <path d={iconData}/>\n            {/each}\n          </svg>\n          <span style=\"display: {isNavigationOpen ? 'inline' : 'none'}\">\n            {@html option.tabTitle.replace('\\n', '<br>')}\n          </span>\n        </button>\n      </li>\n    {/each}\n    <div style=\"position: fixed; bottom: 0; left: 5px;\">\n      <a href=\"https://twitter.com/share?ref_src=twsrc%5Etfw\"\n         class=\"twitter-share-button\"\n         data-text=\"\"\n         data-url=\"https://mhrise-charm-scanner.yuzu-k.com\"\n         data-hashtags=\"MHRise,護石,ツール\"\n         data-show-count=\"false\">\n        Tweet\n      </a>\n      <script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n    </div>\n  </ul>\n\n  <div class=\"navigation-content\">\n    {#each navOptions as option, i}\n      <div class=\"h-100 {currentNavOptionId == i ? 'd-block' : 'd-none'}\">\n        <svelte:component this={option.component}\n                          bind:onActivate={onActivate[i]}\n                          />\n      </div>\n    {/each}\n  </div>\n</div>\n\n\n<style>\n  #container {\n    width:  100%;\n    height: 100%;\n\n    display: flex;\n    flex-wrap: nowrap;\n  }\n\n  ul.navigation {\n    /* width:   14rem; */\n    height:  100%;\n    margin:  0;\n    padding: 0;\n\n    list-style: none;\n\n    /* border: 2px solid #1266f140; */\n    border: none;\n    border-right: solid 1px #8884;\n\n    flex-grow:   0;\n    flex-shrink: 0;\n\n    transition: left 0.3s ease-in-out;\n  }\n\n  ul.navigation li.navigation-item {\n    width:  100%;\n    height: 3rem;\n    margin: 0;\n  }\n\n  ul.navigation li.navigation-item > button {\n    width: 100%;\n    height: 100%;\n    margin:  0;\n    padding: 0 1rem;\n\n    background: inherit;\n    border:     none;\n\n    text-align: left;\n\n    line-height: 1.1rem;\n\n    display: flex;\n    align-items: center;\n  }\n\n  /* ul.navigation li.navigation-item > button > svg { */\n  /*   position: absolute; */\n\n  /* /\\*   margin:  0; *\\/ */\n  /* /\\*   padding: 0 0 0 1rem; *\\/ */\n  /* } */\n\n  ul.navigation li.navigation-item > button > span {\n  /*   margin:  0; */\n    padding: 0 0 0 0.8rem;\n  }\n\n  ul.navigation li.navigation-item > button.active {\n    background: #1266f110;\n  }\n\n  ul.navigation li.navigation-item > button:hover {\n    background: #8881;\n  }\n\n  div.navigation-content {\n    width:    100%;\n    height:   100%;\n    overflow: hidden;\n  }\n</style>\n","<script lang=\"ts\">\n  export let isOpen = false;\n</script>\n\n\n<div class=\"menu toggle-back\">\n  <label>\n    <input type=\"checkbox\" bind:checked={isOpen}>\n    <svg viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\">\n      <circle cx=\"50\" cy=\"50\" r=\"30\" />\n      <path class=\"line--1\" d=\"M0 55l14-10c4.7-3.3 9-5 13-5h72\" />\n      <path class=\"line--2\" d=\"M0 50h99\" />\n      <path class=\"line--3\" d=\"M0 45l14 10c4.7 3.3 9 5 13 5h72\" />\n    </svg>\n  </label>\n</div>\n\n\n<style>\n.menu label {\n  width:  3rem;\n  height: 3rem;\n}\n\n.menu label input {\n  display: none;\n}\n\n.menu label svg circle {\n  fill: #fff3;\n  opacity: 0;\n}\n\n.menu label:hover circle {\n  opacity: 1;\n}\n\n.menu label svg path {\n  fill: none;\n  stroke: #ffffff;\n  stroke-width: 3;\n  stroke-linecap: round;\n  stroke-linejoin: round;\n  --length: 24;\n  --offset: -38;\n  stroke-dasharray: var(--length) var(--total-length);\n  stroke-dashoffset: var(--offset);\n  transition: all .2s cubic-bezier(.645, .045, .355, 1);\n}\n\n.menu.toggle-back label input:checked+svg .line--1,\n.menu.toggle-back label input:checked+svg .line--3 {\n  --length: 8.602325267;\n}\n\n.menu svg .line--1,\n.menu svg .line--3 {\n  --total-length: 103.35061645507812;\n  --offset:       -42.35061645507812;\n}\n.menu svg .line--2 {\n  --total-length: 99;\n}\n\n.menu input:checked+svg path {\n  transform: translateX(31px);\n}\n.menu input:checked+svg .line--1,\n.menu input:checked+svg .line--3 {\n  --offset: -8.602325267;\n}\n.menu input:checked+svg .line--2 {\n  --offset: -7;\n}\n</style>\n","/*\n ** LICENSE for the sqlite3 WebAssembly/JavaScript APIs.\n **\n ** This bundle (typically released as sqlite3.js or sqlite3.mjs)\n ** is an amalgamation of JavaScript source code from two projects:\n **\n ** 1) https://emscripten.org: the Emscripten \"glue code\" is covered by\n **    the terms of the MIT license and University of Illinois/NCSA\n **    Open Source License, as described at:\n **\n **    https://emscripten.org/docs/introducing_emscripten/emscripten_license.html\n **\n ** 2) https://sqlite.org: all code and documentation labeled as being\n **    from this source are released under the same terms as the sqlite3\n **    C library:\n **\n ** 2022-10-16\n **\n ** The author disclaims copyright to this source code.  In place of a\n ** legal notice, here is a blessing:\n **\n ** *   May you do good and not evil.\n ** *   May you find forgiveness for yourself and forgive others.\n ** *   May you share freely, never taking more than you give.\n */\n/*\n ** This code was built from sqlite3 version...\n **\n ** SQLITE_VERSION \"3.45.2\"\n ** SQLITE_VERSION_NUMBER 3045002\n ** SQLITE_SOURCE_ID \"2024-03-12 11:06:23 d8cd6d49b46a395b13955387d05e9e1a2a47e54fb99f3c9b59835bbefad6af77\"\n **\n ** Using the Emscripten SDK version 3.1.30.\n */\n\nvar sqlite3InitModule = (() => {\n  var _scriptDir = import.meta.url;\n\n  return function (config) {\n    var sqlite3InitModule = config || {};\n\n    var Module =\n      typeof sqlite3InitModule != 'undefined' ? sqlite3InitModule : {};\n\n    var readyPromiseResolve, readyPromiseReject;\n    Module['ready'] = new Promise(function (resolve, reject) {\n      readyPromiseResolve = resolve;\n      readyPromiseReject = reject;\n    });\n\n    const sqlite3InitModuleState =\n      globalThis.sqlite3InitModuleState ||\n      Object.assign(Object.create(null), {\n        debugModule: () => {},\n      });\n    delete globalThis.sqlite3InitModuleState;\n    sqlite3InitModuleState.debugModule(\n      'globalThis.location =',\n      globalThis.location,\n    );\n\n    const xNameOfInstantiateWasm = false\n      ? 'instantiateWasm'\n      : 'emscripten-bug-17951';\n    Module[xNameOfInstantiateWasm] = function callee(imports, onSuccess) {\n      imports.env.foo = function () {};\n      const uri = Module.locateFile(\n        callee.uri,\n        'undefined' === typeof scriptDirectory ? '' : scriptDirectory,\n      );\n      sqlite3InitModuleState.debugModule('instantiateWasm() uri =', uri);\n      const wfetch = () => fetch(uri, { credentials: 'same-origin' });\n      const loadWasm = WebAssembly.instantiateStreaming\n        ? async () => {\n            return WebAssembly.instantiateStreaming(wfetch(), imports).then(\n              (arg) => onSuccess(arg.instance, arg.module),\n            );\n          }\n        : async () => {\n            return wfetch()\n              .then((response) => response.arrayBuffer())\n              .then((bytes) => WebAssembly.instantiate(bytes, imports))\n              .then((arg) => onSuccess(arg.instance, arg.module));\n          };\n      loadWasm();\n      return {};\n    };\n\n    Module[xNameOfInstantiateWasm].uri = 'sqlite3.wasm';\n\n    var moduleOverrides = Object.assign({}, Module);\n\n    var arguments_ = [];\n    var thisProgram = './this.program';\n    var quit_ = (status, toThrow) => {\n      throw toThrow;\n    };\n\n    var ENVIRONMENT_IS_WEB = typeof window == 'object';\n    var ENVIRONMENT_IS_WORKER = typeof importScripts == 'function';\n\n    var ENVIRONMENT_IS_NODE =\n      typeof process == 'object' &&\n      typeof process.versions == 'object' &&\n      typeof process.versions.node == 'string';\n    var ENVIRONMENT_IS_SHELL =\n      !ENVIRONMENT_IS_WEB && !ENVIRONMENT_IS_NODE && !ENVIRONMENT_IS_WORKER;\n\n    var scriptDirectory = '';\n    function locateFile(path) {\n      if (Module['locateFile']) {\n        return Module['locateFile'](path, scriptDirectory);\n      }\n      return scriptDirectory + path;\n    }\n\n    var read_, readAsync, readBinary, setWindowTitle;\n\n    if (ENVIRONMENT_IS_WEB || ENVIRONMENT_IS_WORKER) {\n      if (ENVIRONMENT_IS_WORKER) {\n        scriptDirectory = self.location.href;\n      } else if (typeof document != 'undefined' && document.currentScript) {\n        scriptDirectory = document.currentScript.src;\n      }\n\n      if (_scriptDir) {\n        scriptDirectory = _scriptDir;\n      }\n\n      if (scriptDirectory.indexOf('blob:') !== 0) {\n        scriptDirectory = scriptDirectory.substr(\n          0,\n          scriptDirectory.replace(/[?#].*/, '').lastIndexOf('/') + 1,\n        );\n      } else {\n        scriptDirectory = '';\n      }\n\n      {\n        read_ = (url) => {\n          var xhr = new XMLHttpRequest();\n          xhr.open('GET', url, false);\n          xhr.send(null);\n          return xhr.responseText;\n        };\n\n        if (ENVIRONMENT_IS_WORKER) {\n          readBinary = (url) => {\n            var xhr = new XMLHttpRequest();\n            xhr.open('GET', url, false);\n            xhr.responseType = 'arraybuffer';\n            xhr.send(null);\n            return new Uint8Array(xhr.response);\n          };\n        }\n\n        readAsync = (url, onload, onerror) => {\n          var xhr = new XMLHttpRequest();\n          xhr.open('GET', url, true);\n          xhr.responseType = 'arraybuffer';\n          xhr.onload = () => {\n            if (xhr.status == 200 || (xhr.status == 0 && xhr.response)) {\n              onload(xhr.response);\n              return;\n            }\n            onerror();\n          };\n          xhr.onerror = onerror;\n          xhr.send(null);\n        };\n      }\n\n      setWindowTitle = (title) => (document.title = title);\n    } else {\n    }\n\n    var out = Module['print'] || console.log.bind(console);\n    var err = Module['printErr'] || console.warn.bind(console);\n\n    Object.assign(Module, moduleOverrides);\n\n    moduleOverrides = null;\n\n    if (Module['arguments']) arguments_ = Module['arguments'];\n\n    if (Module['thisProgram']) thisProgram = Module['thisProgram'];\n\n    if (Module['quit']) quit_ = Module['quit'];\n\n    var STACK_ALIGN = 16;\n    var POINTER_SIZE = 4;\n\n    function getNativeTypeSize(type) {\n      switch (type) {\n        case 'i1':\n        case 'i8':\n        case 'u8':\n          return 1;\n        case 'i16':\n        case 'u16':\n          return 2;\n        case 'i32':\n        case 'u32':\n          return 4;\n        case 'i64':\n        case 'u64':\n          return 8;\n        case 'float':\n          return 4;\n        case 'double':\n          return 8;\n        default: {\n          if (type[type.length - 1] === '*') {\n            return POINTER_SIZE;\n          }\n          if (type[0] === 'i') {\n            const bits = Number(type.substr(1));\n            assert(\n              bits % 8 === 0,\n              'getNativeTypeSize invalid bits ' + bits + ', type ' + type,\n            );\n            return bits / 8;\n          }\n          return 0;\n        }\n      }\n    }\n\n    var wasmBinary;\n    if (Module['wasmBinary']) wasmBinary = Module['wasmBinary'];\n    var noExitRuntime = Module['noExitRuntime'] || true;\n\n    if (typeof WebAssembly != 'object') {\n      abort('no native wasm support detected');\n    }\n\n    var wasmMemory;\n\n    var ABORT = false;\n\n    var EXITSTATUS;\n\n    function assert(condition, text) {\n      if (!condition) {\n        abort(text);\n      }\n    }\n\n    var UTF8Decoder =\n      typeof TextDecoder != 'undefined' ? new TextDecoder('utf8') : undefined;\n\n    function UTF8ArrayToString(heapOrArray, idx, maxBytesToRead) {\n      var endIdx = idx + maxBytesToRead;\n      var endPtr = idx;\n\n      while (heapOrArray[endPtr] && !(endPtr >= endIdx)) ++endPtr;\n\n      if (endPtr - idx > 16 && heapOrArray.buffer && UTF8Decoder) {\n        return UTF8Decoder.decode(heapOrArray.subarray(idx, endPtr));\n      }\n      var str = '';\n\n      while (idx < endPtr) {\n        var u0 = heapOrArray[idx++];\n        if (!(u0 & 0x80)) {\n          str += String.fromCharCode(u0);\n          continue;\n        }\n        var u1 = heapOrArray[idx++] & 63;\n        if ((u0 & 0xe0) == 0xc0) {\n          str += String.fromCharCode(((u0 & 31) << 6) | u1);\n          continue;\n        }\n        var u2 = heapOrArray[idx++] & 63;\n        if ((u0 & 0xf0) == 0xe0) {\n          u0 = ((u0 & 15) << 12) | (u1 << 6) | u2;\n        } else {\n          u0 =\n            ((u0 & 7) << 18) |\n            (u1 << 12) |\n            (u2 << 6) |\n            (heapOrArray[idx++] & 63);\n        }\n\n        if (u0 < 0x10000) {\n          str += String.fromCharCode(u0);\n        } else {\n          var ch = u0 - 0x10000;\n          str += String.fromCharCode(\n            0xd800 | (ch >> 10),\n            0xdc00 | (ch & 0x3ff),\n          );\n        }\n      }\n      return str;\n    }\n\n    function UTF8ToString(ptr, maxBytesToRead) {\n      return ptr ? UTF8ArrayToString(HEAPU8, ptr, maxBytesToRead) : '';\n    }\n\n    function stringToUTF8Array(str, heap, outIdx, maxBytesToWrite) {\n      if (!(maxBytesToWrite > 0)) return 0;\n\n      var startIdx = outIdx;\n      var endIdx = outIdx + maxBytesToWrite - 1;\n      for (var i = 0; i < str.length; ++i) {\n        var u = str.charCodeAt(i);\n        if (u >= 0xd800 && u <= 0xdfff) {\n          var u1 = str.charCodeAt(++i);\n          u = (0x10000 + ((u & 0x3ff) << 10)) | (u1 & 0x3ff);\n        }\n        if (u <= 0x7f) {\n          if (outIdx >= endIdx) break;\n          heap[outIdx++] = u;\n        } else if (u <= 0x7ff) {\n          if (outIdx + 1 >= endIdx) break;\n          heap[outIdx++] = 0xc0 | (u >> 6);\n          heap[outIdx++] = 0x80 | (u & 63);\n        } else if (u <= 0xffff) {\n          if (outIdx + 2 >= endIdx) break;\n          heap[outIdx++] = 0xe0 | (u >> 12);\n          heap[outIdx++] = 0x80 | ((u >> 6) & 63);\n          heap[outIdx++] = 0x80 | (u & 63);\n        } else {\n          if (outIdx + 3 >= endIdx) break;\n          heap[outIdx++] = 0xf0 | (u >> 18);\n          heap[outIdx++] = 0x80 | ((u >> 12) & 63);\n          heap[outIdx++] = 0x80 | ((u >> 6) & 63);\n          heap[outIdx++] = 0x80 | (u & 63);\n        }\n      }\n\n      heap[outIdx] = 0;\n      return outIdx - startIdx;\n    }\n\n    function stringToUTF8(str, outPtr, maxBytesToWrite) {\n      return stringToUTF8Array(str, HEAPU8, outPtr, maxBytesToWrite);\n    }\n\n    function lengthBytesUTF8(str) {\n      var len = 0;\n      for (var i = 0; i < str.length; ++i) {\n        var c = str.charCodeAt(i);\n        if (c <= 0x7f) {\n          len++;\n        } else if (c <= 0x7ff) {\n          len += 2;\n        } else if (c >= 0xd800 && c <= 0xdfff) {\n          len += 4;\n          ++i;\n        } else {\n          len += 3;\n        }\n      }\n      return len;\n    }\n\n    var HEAP,\n      HEAP8,\n      HEAPU8,\n      HEAP16,\n      HEAPU16,\n      HEAP32,\n      HEAPU32,\n      HEAPF32,\n      HEAP64,\n      HEAPU64,\n      HEAPF64;\n\n    function updateMemoryViews() {\n      var b = wasmMemory.buffer;\n      Module['HEAP8'] = HEAP8 = new Int8Array(b);\n      Module['HEAP16'] = HEAP16 = new Int16Array(b);\n      Module['HEAP32'] = HEAP32 = new Int32Array(b);\n      Module['HEAPU8'] = HEAPU8 = new Uint8Array(b);\n      Module['HEAPU16'] = HEAPU16 = new Uint16Array(b);\n      Module['HEAPU32'] = HEAPU32 = new Uint32Array(b);\n      Module['HEAPF32'] = HEAPF32 = new Float32Array(b);\n      Module['HEAPF64'] = HEAPF64 = new Float64Array(b);\n      Module['HEAP64'] = HEAP64 = new BigInt64Array(b);\n      Module['HEAPU64'] = HEAPU64 = new BigUint64Array(b);\n    }\n\n    var STACK_SIZE = 524288;\n\n    var INITIAL_MEMORY = Module['INITIAL_MEMORY'] || 16777216;\n\n    if (Module['wasmMemory']) {\n      wasmMemory = Module['wasmMemory'];\n    } else {\n      wasmMemory = new WebAssembly.Memory({\n        initial: INITIAL_MEMORY / 65536,\n\n        maximum: 2147483648 / 65536,\n      });\n    }\n\n    updateMemoryViews();\n\n    INITIAL_MEMORY = wasmMemory.buffer.byteLength;\n\n    var wasmTable;\n\n    var __ATPRERUN__ = [];\n    var __ATINIT__ = [];\n    var __ATEXIT__ = [];\n    var __ATPOSTRUN__ = [];\n\n    var runtimeInitialized = false;\n\n    function keepRuntimeAlive() {\n      return noExitRuntime;\n    }\n\n    function preRun() {\n      if (Module['preRun']) {\n        if (typeof Module['preRun'] == 'function')\n          Module['preRun'] = [Module['preRun']];\n        while (Module['preRun'].length) {\n          addOnPreRun(Module['preRun'].shift());\n        }\n      }\n\n      callRuntimeCallbacks(__ATPRERUN__);\n    }\n\n    function initRuntime() {\n      runtimeInitialized = true;\n\n      if (!Module['noFSInit'] && !FS.init.initialized) FS.init();\n      FS.ignorePermissions = false;\n\n      TTY.init();\n      callRuntimeCallbacks(__ATINIT__);\n    }\n\n    function postRun() {\n      if (Module['postRun']) {\n        if (typeof Module['postRun'] == 'function')\n          Module['postRun'] = [Module['postRun']];\n        while (Module['postRun'].length) {\n          addOnPostRun(Module['postRun'].shift());\n        }\n      }\n\n      callRuntimeCallbacks(__ATPOSTRUN__);\n    }\n\n    function addOnPreRun(cb) {\n      __ATPRERUN__.unshift(cb);\n    }\n\n    function addOnInit(cb) {\n      __ATINIT__.unshift(cb);\n    }\n\n    function addOnExit(cb) {}\n\n    function addOnPostRun(cb) {\n      __ATPOSTRUN__.unshift(cb);\n    }\n\n    var runDependencies = 0;\n    var runDependencyWatcher = null;\n    var dependenciesFulfilled = null;\n\n    function getUniqueRunDependency(id) {\n      return id;\n    }\n\n    function addRunDependency(id) {\n      runDependencies++;\n\n      if (Module['monitorRunDependencies']) {\n        Module['monitorRunDependencies'](runDependencies);\n      }\n    }\n\n    function removeRunDependency(id) {\n      runDependencies--;\n\n      if (Module['monitorRunDependencies']) {\n        Module['monitorRunDependencies'](runDependencies);\n      }\n\n      if (runDependencies == 0) {\n        if (runDependencyWatcher !== null) {\n          clearInterval(runDependencyWatcher);\n          runDependencyWatcher = null;\n        }\n        if (dependenciesFulfilled) {\n          var callback = dependenciesFulfilled;\n          dependenciesFulfilled = null;\n          callback();\n        }\n      }\n    }\n\n    function abort(what) {\n      if (Module['onAbort']) {\n        Module['onAbort'](what);\n      }\n\n      what = 'Aborted(' + what + ')';\n\n      err(what);\n\n      ABORT = true;\n      EXITSTATUS = 1;\n\n      what += '. Build with -sASSERTIONS for more info.';\n\n      var e = new WebAssembly.RuntimeError(what);\n\n      readyPromiseReject(e);\n\n      throw e;\n    }\n\n    var dataURIPrefix = 'data:application/octet-stream;base64,';\n\n    function isDataURI(filename) {\n      return filename.startsWith(dataURIPrefix);\n    }\n\n    function isFileURI(filename) {\n      return filename.startsWith('file://');\n    }\n\n    var wasmBinaryFile;\n    if (Module['locateFile']) {\n      wasmBinaryFile = 'sqlite3.wasm';\n      if (!isDataURI(wasmBinaryFile)) {\n        wasmBinaryFile = locateFile(wasmBinaryFile);\n      }\n    } else {\n      wasmBinaryFile = new URL('sqlite3.wasm', import.meta.url).href;\n    }\n\n    function getBinary(file) {\n      try {\n        if (file == wasmBinaryFile && wasmBinary) {\n          return new Uint8Array(wasmBinary);\n        }\n        if (readBinary) {\n          return readBinary(file);\n        }\n        throw 'both async and sync fetching of the wasm failed';\n      } catch (err) {\n        abort(err);\n      }\n    }\n\n    function getBinaryPromise() {\n      if (!wasmBinary && (ENVIRONMENT_IS_WEB || ENVIRONMENT_IS_WORKER)) {\n        if (typeof fetch == 'function') {\n          return fetch(wasmBinaryFile, { credentials: 'same-origin' })\n            .then(function (response) {\n              if (!response['ok']) {\n                throw (\n                  \"failed to load wasm binary file at '\" + wasmBinaryFile + \"'\"\n                );\n              }\n              return response['arrayBuffer']();\n            })\n            .catch(function () {\n              return getBinary(wasmBinaryFile);\n            });\n        }\n      }\n\n      return Promise.resolve().then(function () {\n        return getBinary(wasmBinaryFile);\n      });\n    }\n\n    function createWasm() {\n      var info = {\n        env: asmLibraryArg,\n        wasi_snapshot_preview1: asmLibraryArg,\n      };\n\n      function receiveInstance(instance, module) {\n        var exports = instance.exports;\n\n        Module['asm'] = exports;\n\n        wasmTable = Module['asm']['__indirect_function_table'];\n\n        addOnInit(Module['asm']['__wasm_call_ctors']);\n\n        removeRunDependency('wasm-instantiate');\n      }\n\n      addRunDependency('wasm-instantiate');\n\n      function receiveInstantiationResult(result) {\n        receiveInstance(result['instance']);\n      }\n\n      function instantiateArrayBuffer(receiver) {\n        return getBinaryPromise()\n          .then(function (binary) {\n            return WebAssembly.instantiate(binary, info);\n          })\n          .then(function (instance) {\n            return instance;\n          })\n          .then(receiver, function (reason) {\n            err('failed to asynchronously prepare wasm: ' + reason);\n\n            abort(reason);\n          });\n      }\n\n      function instantiateAsync() {\n        if (\n          !wasmBinary &&\n          typeof WebAssembly.instantiateStreaming == 'function' &&\n          !isDataURI(wasmBinaryFile) &&\n          typeof fetch == 'function'\n        ) {\n          return fetch(wasmBinaryFile, { credentials: 'same-origin' }).then(\n            function (response) {\n              var result = WebAssembly.instantiateStreaming(response, info);\n\n              return result.then(receiveInstantiationResult, function (reason) {\n                err('wasm streaming compile failed: ' + reason);\n                err('falling back to ArrayBuffer instantiation');\n                return instantiateArrayBuffer(receiveInstantiationResult);\n              });\n            },\n          );\n        } else {\n          return instantiateArrayBuffer(receiveInstantiationResult);\n        }\n      }\n\n      if (Module['instantiateWasm']) {\n        try {\n          var exports = Module['instantiateWasm'](info, receiveInstance);\n          return exports;\n        } catch (e) {\n          err('Module.instantiateWasm callback failed with error: ' + e);\n\n          readyPromiseReject(e);\n        }\n      }\n\n      instantiateAsync().catch(readyPromiseReject);\n      return {};\n    }\n\n    var tempDouble;\n    var tempI64;\n\n    var ASM_CONSTS = {};\n\n    function ExitStatus(status) {\n      this.name = 'ExitStatus';\n      this.message = 'Program terminated with exit(' + status + ')';\n      this.status = status;\n    }\n\n    function callRuntimeCallbacks(callbacks) {\n      while (callbacks.length > 0) {\n        callbacks.shift()(Module);\n      }\n    }\n\n    function getValue(ptr, type = 'i8') {\n      if (type.endsWith('*')) type = '*';\n      switch (type) {\n        case 'i1':\n          return HEAP8[ptr >> 0];\n        case 'i8':\n          return HEAP8[ptr >> 0];\n        case 'i16':\n          return HEAP16[ptr >> 1];\n        case 'i32':\n          return HEAP32[ptr >> 2];\n        case 'i64':\n          return HEAP64[ptr >> 3];\n        case 'float':\n          return HEAPF32[ptr >> 2];\n        case 'double':\n          return HEAPF64[ptr >> 3];\n        case '*':\n          return HEAPU32[ptr >> 2];\n        default:\n          abort('invalid type for getValue: ' + type);\n      }\n      return null;\n    }\n\n    function setValue(ptr, value, type = 'i8') {\n      if (type.endsWith('*')) type = '*';\n      switch (type) {\n        case 'i1':\n          HEAP8[ptr >> 0] = value;\n          break;\n        case 'i8':\n          HEAP8[ptr >> 0] = value;\n          break;\n        case 'i16':\n          HEAP16[ptr >> 1] = value;\n          break;\n        case 'i32':\n          HEAP32[ptr >> 2] = value;\n          break;\n        case 'i64':\n          (tempI64 = [\n            value >>> 0,\n            ((tempDouble = value),\n            +Math.abs(tempDouble) >= 1.0\n              ? tempDouble > 0.0\n                ? (Math.min(\n                    +Math.floor(tempDouble / 4294967296.0),\n                    4294967295.0,\n                  ) |\n                    0) >>>\n                  0\n                : ~~+Math.ceil(\n                    (tempDouble - +(~~tempDouble >>> 0)) / 4294967296.0,\n                  ) >>> 0\n              : 0),\n          ]),\n            (HEAP32[ptr >> 2] = tempI64[0]),\n            (HEAP32[(ptr + 4) >> 2] = tempI64[1]);\n          break;\n        case 'float':\n          HEAPF32[ptr >> 2] = value;\n          break;\n        case 'double':\n          HEAPF64[ptr >> 3] = value;\n          break;\n        case '*':\n          HEAPU32[ptr >> 2] = value;\n          break;\n        default:\n          abort('invalid type for setValue: ' + type);\n      }\n    }\n\n    var PATH = {\n      isAbs: (path) => path.charAt(0) === '/',\n      splitPath: (filename) => {\n        var splitPathRe =\n          /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\n        return splitPathRe.exec(filename).slice(1);\n      },\n      normalizeArray: (parts, allowAboveRoot) => {\n        var up = 0;\n        for (var i = parts.length - 1; i >= 0; i--) {\n          var last = parts[i];\n          if (last === '.') {\n            parts.splice(i, 1);\n          } else if (last === '..') {\n            parts.splice(i, 1);\n            up++;\n          } else if (up) {\n            parts.splice(i, 1);\n            up--;\n          }\n        }\n\n        if (allowAboveRoot) {\n          for (; up; up--) {\n            parts.unshift('..');\n          }\n        }\n        return parts;\n      },\n      normalize: (path) => {\n        var isAbsolute = PATH.isAbs(path),\n          trailingSlash = path.substr(-1) === '/';\n\n        path = PATH.normalizeArray(\n          path.split('/').filter((p) => !!p),\n          !isAbsolute,\n        ).join('/');\n        if (!path && !isAbsolute) {\n          path = '.';\n        }\n        if (path && trailingSlash) {\n          path += '/';\n        }\n        return (isAbsolute ? '/' : '') + path;\n      },\n      dirname: (path) => {\n        var result = PATH.splitPath(path),\n          root = result[0],\n          dir = result[1];\n        if (!root && !dir) {\n          return '.';\n        }\n        if (dir) {\n          dir = dir.substr(0, dir.length - 1);\n        }\n        return root + dir;\n      },\n      basename: (path) => {\n        if (path === '/') return '/';\n        path = PATH.normalize(path);\n        path = path.replace(/\\/$/, '');\n        var lastSlash = path.lastIndexOf('/');\n        if (lastSlash === -1) return path;\n        return path.substr(lastSlash + 1);\n      },\n      join: function () {\n        var paths = Array.prototype.slice.call(arguments);\n        return PATH.normalize(paths.join('/'));\n      },\n      join2: (l, r) => {\n        return PATH.normalize(l + '/' + r);\n      },\n    };\n\n    function getRandomDevice() {\n      if (\n        typeof crypto == 'object' &&\n        typeof crypto['getRandomValues'] == 'function'\n      ) {\n        var randomBuffer = new Uint8Array(1);\n        return () => {\n          crypto.getRandomValues(randomBuffer);\n          return randomBuffer[0];\n        };\n      } else return () => abort('randomDevice');\n    }\n\n    var PATH_FS = {\n      resolve: function () {\n        var resolvedPath = '',\n          resolvedAbsolute = false;\n        for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n          var path = i >= 0 ? arguments[i] : FS.cwd();\n\n          if (typeof path != 'string') {\n            throw new TypeError('Arguments to path.resolve must be strings');\n          } else if (!path) {\n            return '';\n          }\n          resolvedPath = path + '/' + resolvedPath;\n          resolvedAbsolute = PATH.isAbs(path);\n        }\n\n        resolvedPath = PATH.normalizeArray(\n          resolvedPath.split('/').filter((p) => !!p),\n          !resolvedAbsolute,\n        ).join('/');\n        return (resolvedAbsolute ? '/' : '') + resolvedPath || '.';\n      },\n      relative: (from, to) => {\n        from = PATH_FS.resolve(from).substr(1);\n        to = PATH_FS.resolve(to).substr(1);\n        function trim(arr) {\n          var start = 0;\n          for (; start < arr.length; start++) {\n            if (arr[start] !== '') break;\n          }\n          var end = arr.length - 1;\n          for (; end >= 0; end--) {\n            if (arr[end] !== '') break;\n          }\n          if (start > end) return [];\n          return arr.slice(start, end - start + 1);\n        }\n        var fromParts = trim(from.split('/'));\n        var toParts = trim(to.split('/'));\n        var length = Math.min(fromParts.length, toParts.length);\n        var samePartsLength = length;\n        for (var i = 0; i < length; i++) {\n          if (fromParts[i] !== toParts[i]) {\n            samePartsLength = i;\n            break;\n          }\n        }\n        var outputParts = [];\n        for (var i = samePartsLength; i < fromParts.length; i++) {\n          outputParts.push('..');\n        }\n        outputParts = outputParts.concat(toParts.slice(samePartsLength));\n        return outputParts.join('/');\n      },\n    };\n\n    function intArrayFromString(stringy, dontAddNull, length) {\n      var len = length > 0 ? length : lengthBytesUTF8(stringy) + 1;\n      var u8array = new Array(len);\n      var numBytesWritten = stringToUTF8Array(\n        stringy,\n        u8array,\n        0,\n        u8array.length,\n      );\n      if (dontAddNull) u8array.length = numBytesWritten;\n      return u8array;\n    }\n    var TTY = {\n      ttys: [],\n      init: function () {},\n      shutdown: function () {},\n      register: function (dev, ops) {\n        TTY.ttys[dev] = { input: [], output: [], ops: ops };\n        FS.registerDevice(dev, TTY.stream_ops);\n      },\n      stream_ops: {\n        open: function (stream) {\n          var tty = TTY.ttys[stream.node.rdev];\n          if (!tty) {\n            throw new FS.ErrnoError(43);\n          }\n          stream.tty = tty;\n          stream.seekable = false;\n        },\n        close: function (stream) {\n          stream.tty.ops.fsync(stream.tty);\n        },\n        fsync: function (stream) {\n          stream.tty.ops.fsync(stream.tty);\n        },\n        read: function (stream, buffer, offset, length, pos) {\n          if (!stream.tty || !stream.tty.ops.get_char) {\n            throw new FS.ErrnoError(60);\n          }\n          var bytesRead = 0;\n          for (var i = 0; i < length; i++) {\n            var result;\n            try {\n              result = stream.tty.ops.get_char(stream.tty);\n            } catch (e) {\n              throw new FS.ErrnoError(29);\n            }\n            if (result === undefined && bytesRead === 0) {\n              throw new FS.ErrnoError(6);\n            }\n            if (result === null || result === undefined) break;\n            bytesRead++;\n            buffer[offset + i] = result;\n          }\n          if (bytesRead) {\n            stream.node.timestamp = Date.now();\n          }\n          return bytesRead;\n        },\n        write: function (stream, buffer, offset, length, pos) {\n          if (!stream.tty || !stream.tty.ops.put_char) {\n            throw new FS.ErrnoError(60);\n          }\n          try {\n            for (var i = 0; i < length; i++) {\n              stream.tty.ops.put_char(stream.tty, buffer[offset + i]);\n            }\n          } catch (e) {\n            throw new FS.ErrnoError(29);\n          }\n          if (length) {\n            stream.node.timestamp = Date.now();\n          }\n          return i;\n        },\n      },\n      default_tty_ops: {\n        get_char: function (tty) {\n          if (!tty.input.length) {\n            var result = null;\n            if (\n              typeof window != 'undefined' &&\n              typeof window.prompt == 'function'\n            ) {\n              result = window.prompt('Input: ');\n              if (result !== null) {\n                result += '\\n';\n              }\n            } else if (typeof readline == 'function') {\n              result = readline();\n              if (result !== null) {\n                result += '\\n';\n              }\n            }\n            if (!result) {\n              return null;\n            }\n            tty.input = intArrayFromString(result, true);\n          }\n          return tty.input.shift();\n        },\n        put_char: function (tty, val) {\n          if (val === null || val === 10) {\n            out(UTF8ArrayToString(tty.output, 0));\n            tty.output = [];\n          } else {\n            if (val != 0) tty.output.push(val);\n          }\n        },\n        fsync: function (tty) {\n          if (tty.output && tty.output.length > 0) {\n            out(UTF8ArrayToString(tty.output, 0));\n            tty.output = [];\n          }\n        },\n      },\n      default_tty1_ops: {\n        put_char: function (tty, val) {\n          if (val === null || val === 10) {\n            err(UTF8ArrayToString(tty.output, 0));\n            tty.output = [];\n          } else {\n            if (val != 0) tty.output.push(val);\n          }\n        },\n        fsync: function (tty) {\n          if (tty.output && tty.output.length > 0) {\n            err(UTF8ArrayToString(tty.output, 0));\n            tty.output = [];\n          }\n        },\n      },\n    };\n\n    function zeroMemory(address, size) {\n      HEAPU8.fill(0, address, address + size);\n      return address;\n    }\n\n    function alignMemory(size, alignment) {\n      return Math.ceil(size / alignment) * alignment;\n    }\n    function mmapAlloc(size) {\n      size = alignMemory(size, 65536);\n      var ptr = _emscripten_builtin_memalign(65536, size);\n      if (!ptr) return 0;\n      return zeroMemory(ptr, size);\n    }\n    var MEMFS = {\n      ops_table: null,\n      mount: function (mount) {\n        return MEMFS.createNode(null, '/', 16384 | 511, 0);\n      },\n      createNode: function (parent, name, mode, dev) {\n        if (FS.isBlkdev(mode) || FS.isFIFO(mode)) {\n          throw new FS.ErrnoError(63);\n        }\n        if (!MEMFS.ops_table) {\n          MEMFS.ops_table = {\n            dir: {\n              node: {\n                getattr: MEMFS.node_ops.getattr,\n                setattr: MEMFS.node_ops.setattr,\n                lookup: MEMFS.node_ops.lookup,\n                mknod: MEMFS.node_ops.mknod,\n                rename: MEMFS.node_ops.rename,\n                unlink: MEMFS.node_ops.unlink,\n                rmdir: MEMFS.node_ops.rmdir,\n                readdir: MEMFS.node_ops.readdir,\n                symlink: MEMFS.node_ops.symlink,\n              },\n              stream: {\n                llseek: MEMFS.stream_ops.llseek,\n              },\n            },\n            file: {\n              node: {\n                getattr: MEMFS.node_ops.getattr,\n                setattr: MEMFS.node_ops.setattr,\n              },\n              stream: {\n                llseek: MEMFS.stream_ops.llseek,\n                read: MEMFS.stream_ops.read,\n                write: MEMFS.stream_ops.write,\n                allocate: MEMFS.stream_ops.allocate,\n                mmap: MEMFS.stream_ops.mmap,\n                msync: MEMFS.stream_ops.msync,\n              },\n            },\n            link: {\n              node: {\n                getattr: MEMFS.node_ops.getattr,\n                setattr: MEMFS.node_ops.setattr,\n                readlink: MEMFS.node_ops.readlink,\n              },\n              stream: {},\n            },\n            chrdev: {\n              node: {\n                getattr: MEMFS.node_ops.getattr,\n                setattr: MEMFS.node_ops.setattr,\n              },\n              stream: FS.chrdev_stream_ops,\n            },\n          };\n        }\n        var node = FS.createNode(parent, name, mode, dev);\n        if (FS.isDir(node.mode)) {\n          node.node_ops = MEMFS.ops_table.dir.node;\n          node.stream_ops = MEMFS.ops_table.dir.stream;\n          node.contents = {};\n        } else if (FS.isFile(node.mode)) {\n          node.node_ops = MEMFS.ops_table.file.node;\n          node.stream_ops = MEMFS.ops_table.file.stream;\n          node.usedBytes = 0;\n\n          node.contents = null;\n        } else if (FS.isLink(node.mode)) {\n          node.node_ops = MEMFS.ops_table.link.node;\n          node.stream_ops = MEMFS.ops_table.link.stream;\n        } else if (FS.isChrdev(node.mode)) {\n          node.node_ops = MEMFS.ops_table.chrdev.node;\n          node.stream_ops = MEMFS.ops_table.chrdev.stream;\n        }\n        node.timestamp = Date.now();\n\n        if (parent) {\n          parent.contents[name] = node;\n          parent.timestamp = node.timestamp;\n        }\n        return node;\n      },\n      getFileDataAsTypedArray: function (node) {\n        if (!node.contents) return new Uint8Array(0);\n        if (node.contents.subarray)\n          return node.contents.subarray(0, node.usedBytes);\n        return new Uint8Array(node.contents);\n      },\n      expandFileStorage: function (node, newCapacity) {\n        var prevCapacity = node.contents ? node.contents.length : 0;\n        if (prevCapacity >= newCapacity) return;\n\n        var CAPACITY_DOUBLING_MAX = 1024 * 1024;\n        newCapacity = Math.max(\n          newCapacity,\n          (prevCapacity *\n            (prevCapacity < CAPACITY_DOUBLING_MAX ? 2.0 : 1.125)) >>>\n            0,\n        );\n        if (prevCapacity != 0) newCapacity = Math.max(newCapacity, 256);\n        var oldContents = node.contents;\n        node.contents = new Uint8Array(newCapacity);\n        if (node.usedBytes > 0)\n          node.contents.set(oldContents.subarray(0, node.usedBytes), 0);\n      },\n      resizeFileStorage: function (node, newSize) {\n        if (node.usedBytes == newSize) return;\n        if (newSize == 0) {\n          node.contents = null;\n          node.usedBytes = 0;\n        } else {\n          var oldContents = node.contents;\n          node.contents = new Uint8Array(newSize);\n          if (oldContents) {\n            node.contents.set(\n              oldContents.subarray(0, Math.min(newSize, node.usedBytes)),\n            );\n          }\n          node.usedBytes = newSize;\n        }\n      },\n      node_ops: {\n        getattr: function (node) {\n          var attr = {};\n\n          attr.dev = FS.isChrdev(node.mode) ? node.id : 1;\n          attr.ino = node.id;\n          attr.mode = node.mode;\n          attr.nlink = 1;\n          attr.uid = 0;\n          attr.gid = 0;\n          attr.rdev = node.rdev;\n          if (FS.isDir(node.mode)) {\n            attr.size = 4096;\n          } else if (FS.isFile(node.mode)) {\n            attr.size = node.usedBytes;\n          } else if (FS.isLink(node.mode)) {\n            attr.size = node.link.length;\n          } else {\n            attr.size = 0;\n          }\n          attr.atime = new Date(node.timestamp);\n          attr.mtime = new Date(node.timestamp);\n          attr.ctime = new Date(node.timestamp);\n\n          attr.blksize = 4096;\n          attr.blocks = Math.ceil(attr.size / attr.blksize);\n          return attr;\n        },\n        setattr: function (node, attr) {\n          if (attr.mode !== undefined) {\n            node.mode = attr.mode;\n          }\n          if (attr.timestamp !== undefined) {\n            node.timestamp = attr.timestamp;\n          }\n          if (attr.size !== undefined) {\n            MEMFS.resizeFileStorage(node, attr.size);\n          }\n        },\n        lookup: function (parent, name) {\n          throw FS.genericErrors[44];\n        },\n        mknod: function (parent, name, mode, dev) {\n          return MEMFS.createNode(parent, name, mode, dev);\n        },\n        rename: function (old_node, new_dir, new_name) {\n          if (FS.isDir(old_node.mode)) {\n            var new_node;\n            try {\n              new_node = FS.lookupNode(new_dir, new_name);\n            } catch (e) {}\n            if (new_node) {\n              for (var i in new_node.contents) {\n                throw new FS.ErrnoError(55);\n              }\n            }\n          }\n\n          delete old_node.parent.contents[old_node.name];\n          old_node.parent.timestamp = Date.now();\n          old_node.name = new_name;\n          new_dir.contents[new_name] = old_node;\n          new_dir.timestamp = old_node.parent.timestamp;\n          old_node.parent = new_dir;\n        },\n        unlink: function (parent, name) {\n          delete parent.contents[name];\n          parent.timestamp = Date.now();\n        },\n        rmdir: function (parent, name) {\n          var node = FS.lookupNode(parent, name);\n          for (var i in node.contents) {\n            throw new FS.ErrnoError(55);\n          }\n          delete parent.contents[name];\n          parent.timestamp = Date.now();\n        },\n        readdir: function (node) {\n          var entries = ['.', '..'];\n          for (var key in node.contents) {\n            if (!node.contents.hasOwnProperty(key)) {\n              continue;\n            }\n            entries.push(key);\n          }\n          return entries;\n        },\n        symlink: function (parent, newname, oldpath) {\n          var node = MEMFS.createNode(parent, newname, 511 | 40960, 0);\n          node.link = oldpath;\n          return node;\n        },\n        readlink: function (node) {\n          if (!FS.isLink(node.mode)) {\n            throw new FS.ErrnoError(28);\n          }\n          return node.link;\n        },\n      },\n      stream_ops: {\n        read: function (stream, buffer, offset, length, position) {\n          var contents = stream.node.contents;\n          if (position >= stream.node.usedBytes) return 0;\n          var size = Math.min(stream.node.usedBytes - position, length);\n          if (size > 8 && contents.subarray) {\n            buffer.set(contents.subarray(position, position + size), offset);\n          } else {\n            for (var i = 0; i < size; i++)\n              buffer[offset + i] = contents[position + i];\n          }\n          return size;\n        },\n        write: function (stream, buffer, offset, length, position, canOwn) {\n          if (buffer.buffer === HEAP8.buffer) {\n            canOwn = false;\n          }\n\n          if (!length) return 0;\n          var node = stream.node;\n          node.timestamp = Date.now();\n\n          if (buffer.subarray && (!node.contents || node.contents.subarray)) {\n            if (canOwn) {\n              node.contents = buffer.subarray(offset, offset + length);\n              node.usedBytes = length;\n              return length;\n            } else if (node.usedBytes === 0 && position === 0) {\n              node.contents = buffer.slice(offset, offset + length);\n              node.usedBytes = length;\n              return length;\n            } else if (position + length <= node.usedBytes) {\n              node.contents.set(\n                buffer.subarray(offset, offset + length),\n                position,\n              );\n              return length;\n            }\n          }\n\n          MEMFS.expandFileStorage(node, position + length);\n          if (node.contents.subarray && buffer.subarray) {\n            node.contents.set(\n              buffer.subarray(offset, offset + length),\n              position,\n            );\n          } else {\n            for (var i = 0; i < length; i++) {\n              node.contents[position + i] = buffer[offset + i];\n            }\n          }\n          node.usedBytes = Math.max(node.usedBytes, position + length);\n          return length;\n        },\n        llseek: function (stream, offset, whence) {\n          var position = offset;\n          if (whence === 1) {\n            position += stream.position;\n          } else if (whence === 2) {\n            if (FS.isFile(stream.node.mode)) {\n              position += stream.node.usedBytes;\n            }\n          }\n          if (position < 0) {\n            throw new FS.ErrnoError(28);\n          }\n          return position;\n        },\n        allocate: function (stream, offset, length) {\n          MEMFS.expandFileStorage(stream.node, offset + length);\n          stream.node.usedBytes = Math.max(\n            stream.node.usedBytes,\n            offset + length,\n          );\n        },\n        mmap: function (stream, length, position, prot, flags) {\n          if (!FS.isFile(stream.node.mode)) {\n            throw new FS.ErrnoError(43);\n          }\n          var ptr;\n          var allocated;\n          var contents = stream.node.contents;\n\n          if (!(flags & 2) && contents.buffer === HEAP8.buffer) {\n            allocated = false;\n            ptr = contents.byteOffset;\n          } else {\n            if (position > 0 || position + length < contents.length) {\n              if (contents.subarray) {\n                contents = contents.subarray(position, position + length);\n              } else {\n                contents = Array.prototype.slice.call(\n                  contents,\n                  position,\n                  position + length,\n                );\n              }\n            }\n            allocated = true;\n            ptr = mmapAlloc(length);\n            if (!ptr) {\n              throw new FS.ErrnoError(48);\n            }\n            HEAP8.set(contents, ptr);\n          }\n          return { ptr: ptr, allocated: allocated };\n        },\n        msync: function (stream, buffer, offset, length, mmapFlags) {\n          MEMFS.stream_ops.write(stream, buffer, 0, length, offset, false);\n\n          return 0;\n        },\n      },\n    };\n\n    function asyncLoad(url, onload, onerror, noRunDep) {\n      var dep = !noRunDep ? getUniqueRunDependency('al ' + url) : '';\n      readAsync(\n        url,\n        (arrayBuffer) => {\n          assert(\n            arrayBuffer,\n            'Loading data file \"' + url + '\" failed (no arrayBuffer).',\n          );\n          onload(new Uint8Array(arrayBuffer));\n          if (dep) removeRunDependency(dep);\n        },\n        (event) => {\n          if (onerror) {\n            onerror();\n          } else {\n            throw 'Loading data file \"' + url + '\" failed.';\n          }\n        },\n      );\n      if (dep) addRunDependency(dep);\n    }\n\n    var FS = {\n      root: null,\n      mounts: [],\n      devices: {},\n      streams: [],\n      nextInode: 1,\n      nameTable: null,\n      currentPath: '/',\n      initialized: false,\n      ignorePermissions: true,\n      ErrnoError: null,\n      genericErrors: {},\n      filesystems: null,\n      syncFSRequests: 0,\n      lookupPath: (path, opts = {}) => {\n        path = PATH_FS.resolve(path);\n\n        if (!path) return { path: '', node: null };\n\n        var defaults = {\n          follow_mount: true,\n          recurse_count: 0,\n        };\n        opts = Object.assign(defaults, opts);\n\n        if (opts.recurse_count > 8) {\n          throw new FS.ErrnoError(32);\n        }\n\n        var parts = path.split('/').filter((p) => !!p);\n\n        var current = FS.root;\n        var current_path = '/';\n\n        for (var i = 0; i < parts.length; i++) {\n          var islast = i === parts.length - 1;\n          if (islast && opts.parent) {\n            break;\n          }\n\n          current = FS.lookupNode(current, parts[i]);\n          current_path = PATH.join2(current_path, parts[i]);\n\n          if (FS.isMountpoint(current)) {\n            if (!islast || (islast && opts.follow_mount)) {\n              current = current.mounted.root;\n            }\n          }\n\n          if (!islast || opts.follow) {\n            var count = 0;\n            while (FS.isLink(current.mode)) {\n              var link = FS.readlink(current_path);\n              current_path = PATH_FS.resolve(PATH.dirname(current_path), link);\n\n              var lookup = FS.lookupPath(current_path, {\n                recurse_count: opts.recurse_count + 1,\n              });\n              current = lookup.node;\n\n              if (count++ > 40) {\n                throw new FS.ErrnoError(32);\n              }\n            }\n          }\n        }\n\n        return { path: current_path, node: current };\n      },\n      getPath: (node) => {\n        var path;\n        while (true) {\n          if (FS.isRoot(node)) {\n            var mount = node.mount.mountpoint;\n            if (!path) return mount;\n            return mount[mount.length - 1] !== '/'\n              ? mount + '/' + path\n              : mount + path;\n          }\n          path = path ? node.name + '/' + path : node.name;\n          node = node.parent;\n        }\n      },\n      hashName: (parentid, name) => {\n        var hash = 0;\n\n        for (var i = 0; i < name.length; i++) {\n          hash = ((hash << 5) - hash + name.charCodeAt(i)) | 0;\n        }\n        return ((parentid + hash) >>> 0) % FS.nameTable.length;\n      },\n      hashAddNode: (node) => {\n        var hash = FS.hashName(node.parent.id, node.name);\n        node.name_next = FS.nameTable[hash];\n        FS.nameTable[hash] = node;\n      },\n      hashRemoveNode: (node) => {\n        var hash = FS.hashName(node.parent.id, node.name);\n        if (FS.nameTable[hash] === node) {\n          FS.nameTable[hash] = node.name_next;\n        } else {\n          var current = FS.nameTable[hash];\n          while (current) {\n            if (current.name_next === node) {\n              current.name_next = node.name_next;\n              break;\n            }\n            current = current.name_next;\n          }\n        }\n      },\n      lookupNode: (parent, name) => {\n        var errCode = FS.mayLookup(parent);\n        if (errCode) {\n          throw new FS.ErrnoError(errCode, parent);\n        }\n        var hash = FS.hashName(parent.id, name);\n        for (var node = FS.nameTable[hash]; node; node = node.name_next) {\n          var nodeName = node.name;\n          if (node.parent.id === parent.id && nodeName === name) {\n            return node;\n          }\n        }\n\n        return FS.lookup(parent, name);\n      },\n      createNode: (parent, name, mode, rdev) => {\n        var node = new FS.FSNode(parent, name, mode, rdev);\n\n        FS.hashAddNode(node);\n\n        return node;\n      },\n      destroyNode: (node) => {\n        FS.hashRemoveNode(node);\n      },\n      isRoot: (node) => {\n        return node === node.parent;\n      },\n      isMountpoint: (node) => {\n        return !!node.mounted;\n      },\n      isFile: (mode) => {\n        return (mode & 61440) === 32768;\n      },\n      isDir: (mode) => {\n        return (mode & 61440) === 16384;\n      },\n      isLink: (mode) => {\n        return (mode & 61440) === 40960;\n      },\n      isChrdev: (mode) => {\n        return (mode & 61440) === 8192;\n      },\n      isBlkdev: (mode) => {\n        return (mode & 61440) === 24576;\n      },\n      isFIFO: (mode) => {\n        return (mode & 61440) === 4096;\n      },\n      isSocket: (mode) => {\n        return (mode & 49152) === 49152;\n      },\n      flagModes: { r: 0, 'r+': 2, w: 577, 'w+': 578, a: 1089, 'a+': 1090 },\n      modeStringToFlags: (str) => {\n        var flags = FS.flagModes[str];\n        if (typeof flags == 'undefined') {\n          throw new Error('Unknown file open mode: ' + str);\n        }\n        return flags;\n      },\n      flagsToPermissionString: (flag) => {\n        var perms = ['r', 'w', 'rw'][flag & 3];\n        if (flag & 512) {\n          perms += 'w';\n        }\n        return perms;\n      },\n      nodePermissions: (node, perms) => {\n        if (FS.ignorePermissions) {\n          return 0;\n        }\n\n        if (perms.includes('r') && !(node.mode & 292)) {\n          return 2;\n        } else if (perms.includes('w') && !(node.mode & 146)) {\n          return 2;\n        } else if (perms.includes('x') && !(node.mode & 73)) {\n          return 2;\n        }\n        return 0;\n      },\n      mayLookup: (dir) => {\n        var errCode = FS.nodePermissions(dir, 'x');\n        if (errCode) return errCode;\n        if (!dir.node_ops.lookup) return 2;\n        return 0;\n      },\n      mayCreate: (dir, name) => {\n        try {\n          var node = FS.lookupNode(dir, name);\n          return 20;\n        } catch (e) {}\n        return FS.nodePermissions(dir, 'wx');\n      },\n      mayDelete: (dir, name, isdir) => {\n        var node;\n        try {\n          node = FS.lookupNode(dir, name);\n        } catch (e) {\n          return e.errno;\n        }\n        var errCode = FS.nodePermissions(dir, 'wx');\n        if (errCode) {\n          return errCode;\n        }\n        if (isdir) {\n          if (!FS.isDir(node.mode)) {\n            return 54;\n          }\n          if (FS.isRoot(node) || FS.getPath(node) === FS.cwd()) {\n            return 10;\n          }\n        } else {\n          if (FS.isDir(node.mode)) {\n            return 31;\n          }\n        }\n        return 0;\n      },\n      mayOpen: (node, flags) => {\n        if (!node) {\n          return 44;\n        }\n        if (FS.isLink(node.mode)) {\n          return 32;\n        } else if (FS.isDir(node.mode)) {\n          if (FS.flagsToPermissionString(flags) !== 'r' || flags & 512) {\n            return 31;\n          }\n        }\n        return FS.nodePermissions(node, FS.flagsToPermissionString(flags));\n      },\n      MAX_OPEN_FDS: 4096,\n      nextfd: (fd_start = 0, fd_end = FS.MAX_OPEN_FDS) => {\n        for (var fd = fd_start; fd <= fd_end; fd++) {\n          if (!FS.streams[fd]) {\n            return fd;\n          }\n        }\n        throw new FS.ErrnoError(33);\n      },\n      getStream: (fd) => FS.streams[fd],\n      createStream: (stream, fd_start, fd_end) => {\n        if (!FS.FSStream) {\n          FS.FSStream = function () {\n            this.shared = {};\n          };\n          FS.FSStream.prototype = {};\n          Object.defineProperties(FS.FSStream.prototype, {\n            object: {\n              get: function () {\n                return this.node;\n              },\n\n              set: function (val) {\n                this.node = val;\n              },\n            },\n            isRead: {\n              get: function () {\n                return (this.flags & 2097155) !== 1;\n              },\n            },\n            isWrite: {\n              get: function () {\n                return (this.flags & 2097155) !== 0;\n              },\n            },\n            isAppend: {\n              get: function () {\n                return this.flags & 1024;\n              },\n            },\n            flags: {\n              get: function () {\n                return this.shared.flags;\n              },\n\n              set: function (val) {\n                this.shared.flags = val;\n              },\n            },\n            position: {\n              get: function () {\n                return this.shared.position;\n              },\n\n              set: function (val) {\n                this.shared.position = val;\n              },\n            },\n          });\n        }\n\n        stream = Object.assign(new FS.FSStream(), stream);\n        var fd = FS.nextfd(fd_start, fd_end);\n        stream.fd = fd;\n        FS.streams[fd] = stream;\n        return stream;\n      },\n      closeStream: (fd) => {\n        FS.streams[fd] = null;\n      },\n      chrdev_stream_ops: {\n        open: (stream) => {\n          var device = FS.getDevice(stream.node.rdev);\n\n          stream.stream_ops = device.stream_ops;\n\n          if (stream.stream_ops.open) {\n            stream.stream_ops.open(stream);\n          }\n        },\n        llseek: () => {\n          throw new FS.ErrnoError(70);\n        },\n      },\n      major: (dev) => dev >> 8,\n      minor: (dev) => dev & 0xff,\n      makedev: (ma, mi) => (ma << 8) | mi,\n      registerDevice: (dev, ops) => {\n        FS.devices[dev] = { stream_ops: ops };\n      },\n      getDevice: (dev) => FS.devices[dev],\n      getMounts: (mount) => {\n        var mounts = [];\n        var check = [mount];\n\n        while (check.length) {\n          var m = check.pop();\n\n          mounts.push(m);\n\n          check.push.apply(check, m.mounts);\n        }\n\n        return mounts;\n      },\n      syncfs: (populate, callback) => {\n        if (typeof populate == 'function') {\n          callback = populate;\n          populate = false;\n        }\n\n        FS.syncFSRequests++;\n\n        if (FS.syncFSRequests > 1) {\n          err(\n            'warning: ' +\n              FS.syncFSRequests +\n              ' FS.syncfs operations in flight at once, probably just doing extra work',\n          );\n        }\n\n        var mounts = FS.getMounts(FS.root.mount);\n        var completed = 0;\n\n        function doCallback(errCode) {\n          FS.syncFSRequests--;\n          return callback(errCode);\n        }\n\n        function done(errCode) {\n          if (errCode) {\n            if (!done.errored) {\n              done.errored = true;\n              return doCallback(errCode);\n            }\n            return;\n          }\n          if (++completed >= mounts.length) {\n            doCallback(null);\n          }\n        }\n\n        mounts.forEach((mount) => {\n          if (!mount.type.syncfs) {\n            return done(null);\n          }\n          mount.type.syncfs(mount, populate, done);\n        });\n      },\n      mount: (type, opts, mountpoint) => {\n        var root = mountpoint === '/';\n        var pseudo = !mountpoint;\n        var node;\n\n        if (root && FS.root) {\n          throw new FS.ErrnoError(10);\n        } else if (!root && !pseudo) {\n          var lookup = FS.lookupPath(mountpoint, { follow_mount: false });\n\n          mountpoint = lookup.path;\n          node = lookup.node;\n\n          if (FS.isMountpoint(node)) {\n            throw new FS.ErrnoError(10);\n          }\n\n          if (!FS.isDir(node.mode)) {\n            throw new FS.ErrnoError(54);\n          }\n        }\n\n        var mount = {\n          type: type,\n          opts: opts,\n          mountpoint: mountpoint,\n          mounts: [],\n        };\n\n        var mountRoot = type.mount(mount);\n        mountRoot.mount = mount;\n        mount.root = mountRoot;\n\n        if (root) {\n          FS.root = mountRoot;\n        } else if (node) {\n          node.mounted = mount;\n\n          if (node.mount) {\n            node.mount.mounts.push(mount);\n          }\n        }\n\n        return mountRoot;\n      },\n      unmount: (mountpoint) => {\n        var lookup = FS.lookupPath(mountpoint, { follow_mount: false });\n\n        if (!FS.isMountpoint(lookup.node)) {\n          throw new FS.ErrnoError(28);\n        }\n\n        var node = lookup.node;\n        var mount = node.mounted;\n        var mounts = FS.getMounts(mount);\n\n        Object.keys(FS.nameTable).forEach((hash) => {\n          var current = FS.nameTable[hash];\n\n          while (current) {\n            var next = current.name_next;\n\n            if (mounts.includes(current.mount)) {\n              FS.destroyNode(current);\n            }\n\n            current = next;\n          }\n        });\n\n        node.mounted = null;\n\n        var idx = node.mount.mounts.indexOf(mount);\n        node.mount.mounts.splice(idx, 1);\n      },\n      lookup: (parent, name) => {\n        return parent.node_ops.lookup(parent, name);\n      },\n      mknod: (path, mode, dev) => {\n        var lookup = FS.lookupPath(path, { parent: true });\n        var parent = lookup.node;\n        var name = PATH.basename(path);\n        if (!name || name === '.' || name === '..') {\n          throw new FS.ErrnoError(28);\n        }\n        var errCode = FS.mayCreate(parent, name);\n        if (errCode) {\n          throw new FS.ErrnoError(errCode);\n        }\n        if (!parent.node_ops.mknod) {\n          throw new FS.ErrnoError(63);\n        }\n        return parent.node_ops.mknod(parent, name, mode, dev);\n      },\n      create: (path, mode) => {\n        mode = mode !== undefined ? mode : 438;\n        mode &= 4095;\n        mode |= 32768;\n        return FS.mknod(path, mode, 0);\n      },\n      mkdir: (path, mode) => {\n        mode = mode !== undefined ? mode : 511;\n        mode &= 511 | 512;\n        mode |= 16384;\n        return FS.mknod(path, mode, 0);\n      },\n      mkdirTree: (path, mode) => {\n        var dirs = path.split('/');\n        var d = '';\n        for (var i = 0; i < dirs.length; ++i) {\n          if (!dirs[i]) continue;\n          d += '/' + dirs[i];\n          try {\n            FS.mkdir(d, mode);\n          } catch (e) {\n            if (e.errno != 20) throw e;\n          }\n        }\n      },\n      mkdev: (path, mode, dev) => {\n        if (typeof dev == 'undefined') {\n          dev = mode;\n          mode = 438;\n        }\n        mode |= 8192;\n        return FS.mknod(path, mode, dev);\n      },\n      symlink: (oldpath, newpath) => {\n        if (!PATH_FS.resolve(oldpath)) {\n          throw new FS.ErrnoError(44);\n        }\n        var lookup = FS.lookupPath(newpath, { parent: true });\n        var parent = lookup.node;\n        if (!parent) {\n          throw new FS.ErrnoError(44);\n        }\n        var newname = PATH.basename(newpath);\n        var errCode = FS.mayCreate(parent, newname);\n        if (errCode) {\n          throw new FS.ErrnoError(errCode);\n        }\n        if (!parent.node_ops.symlink) {\n          throw new FS.ErrnoError(63);\n        }\n        return parent.node_ops.symlink(parent, newname, oldpath);\n      },\n      rename: (old_path, new_path) => {\n        var old_dirname = PATH.dirname(old_path);\n        var new_dirname = PATH.dirname(new_path);\n        var old_name = PATH.basename(old_path);\n        var new_name = PATH.basename(new_path);\n\n        var lookup, old_dir, new_dir;\n\n        lookup = FS.lookupPath(old_path, { parent: true });\n        old_dir = lookup.node;\n        lookup = FS.lookupPath(new_path, { parent: true });\n        new_dir = lookup.node;\n\n        if (!old_dir || !new_dir) throw new FS.ErrnoError(44);\n\n        if (old_dir.mount !== new_dir.mount) {\n          throw new FS.ErrnoError(75);\n        }\n\n        var old_node = FS.lookupNode(old_dir, old_name);\n\n        var relative = PATH_FS.relative(old_path, new_dirname);\n        if (relative.charAt(0) !== '.') {\n          throw new FS.ErrnoError(28);\n        }\n\n        relative = PATH_FS.relative(new_path, old_dirname);\n        if (relative.charAt(0) !== '.') {\n          throw new FS.ErrnoError(55);\n        }\n\n        var new_node;\n        try {\n          new_node = FS.lookupNode(new_dir, new_name);\n        } catch (e) {}\n\n        if (old_node === new_node) {\n          return;\n        }\n\n        var isdir = FS.isDir(old_node.mode);\n        var errCode = FS.mayDelete(old_dir, old_name, isdir);\n        if (errCode) {\n          throw new FS.ErrnoError(errCode);\n        }\n\n        errCode = new_node\n          ? FS.mayDelete(new_dir, new_name, isdir)\n          : FS.mayCreate(new_dir, new_name);\n        if (errCode) {\n          throw new FS.ErrnoError(errCode);\n        }\n        if (!old_dir.node_ops.rename) {\n          throw new FS.ErrnoError(63);\n        }\n        if (\n          FS.isMountpoint(old_node) ||\n          (new_node && FS.isMountpoint(new_node))\n        ) {\n          throw new FS.ErrnoError(10);\n        }\n\n        if (new_dir !== old_dir) {\n          errCode = FS.nodePermissions(old_dir, 'w');\n          if (errCode) {\n            throw new FS.ErrnoError(errCode);\n          }\n        }\n\n        FS.hashRemoveNode(old_node);\n\n        try {\n          old_dir.node_ops.rename(old_node, new_dir, new_name);\n        } catch (e) {\n          throw e;\n        } finally {\n          FS.hashAddNode(old_node);\n        }\n      },\n      rmdir: (path) => {\n        var lookup = FS.lookupPath(path, { parent: true });\n        var parent = lookup.node;\n        var name = PATH.basename(path);\n        var node = FS.lookupNode(parent, name);\n        var errCode = FS.mayDelete(parent, name, true);\n        if (errCode) {\n          throw new FS.ErrnoError(errCode);\n        }\n        if (!parent.node_ops.rmdir) {\n          throw new FS.ErrnoError(63);\n        }\n        if (FS.isMountpoint(node)) {\n          throw new FS.ErrnoError(10);\n        }\n        parent.node_ops.rmdir(parent, name);\n        FS.destroyNode(node);\n      },\n      readdir: (path) => {\n        var lookup = FS.lookupPath(path, { follow: true });\n        var node = lookup.node;\n        if (!node.node_ops.readdir) {\n          throw new FS.ErrnoError(54);\n        }\n        return node.node_ops.readdir(node);\n      },\n      unlink: (path) => {\n        var lookup = FS.lookupPath(path, { parent: true });\n        var parent = lookup.node;\n        if (!parent) {\n          throw new FS.ErrnoError(44);\n        }\n        var name = PATH.basename(path);\n        var node = FS.lookupNode(parent, name);\n        var errCode = FS.mayDelete(parent, name, false);\n        if (errCode) {\n          throw new FS.ErrnoError(errCode);\n        }\n        if (!parent.node_ops.unlink) {\n          throw new FS.ErrnoError(63);\n        }\n        if (FS.isMountpoint(node)) {\n          throw new FS.ErrnoError(10);\n        }\n        parent.node_ops.unlink(parent, name);\n        FS.destroyNode(node);\n      },\n      readlink: (path) => {\n        var lookup = FS.lookupPath(path);\n        var link = lookup.node;\n        if (!link) {\n          throw new FS.ErrnoError(44);\n        }\n        if (!link.node_ops.readlink) {\n          throw new FS.ErrnoError(28);\n        }\n        return PATH_FS.resolve(\n          FS.getPath(link.parent),\n          link.node_ops.readlink(link),\n        );\n      },\n      stat: (path, dontFollow) => {\n        var lookup = FS.lookupPath(path, { follow: !dontFollow });\n        var node = lookup.node;\n        if (!node) {\n          throw new FS.ErrnoError(44);\n        }\n        if (!node.node_ops.getattr) {\n          throw new FS.ErrnoError(63);\n        }\n        return node.node_ops.getattr(node);\n      },\n      lstat: (path) => {\n        return FS.stat(path, true);\n      },\n      chmod: (path, mode, dontFollow) => {\n        var node;\n        if (typeof path == 'string') {\n          var lookup = FS.lookupPath(path, { follow: !dontFollow });\n          node = lookup.node;\n        } else {\n          node = path;\n        }\n        if (!node.node_ops.setattr) {\n          throw new FS.ErrnoError(63);\n        }\n        node.node_ops.setattr(node, {\n          mode: (mode & 4095) | (node.mode & ~4095),\n          timestamp: Date.now(),\n        });\n      },\n      lchmod: (path, mode) => {\n        FS.chmod(path, mode, true);\n      },\n      fchmod: (fd, mode) => {\n        var stream = FS.getStream(fd);\n        if (!stream) {\n          throw new FS.ErrnoError(8);\n        }\n        FS.chmod(stream.node, mode);\n      },\n      chown: (path, uid, gid, dontFollow) => {\n        var node;\n        if (typeof path == 'string') {\n          var lookup = FS.lookupPath(path, { follow: !dontFollow });\n          node = lookup.node;\n        } else {\n          node = path;\n        }\n        if (!node.node_ops.setattr) {\n          throw new FS.ErrnoError(63);\n        }\n        node.node_ops.setattr(node, {\n          timestamp: Date.now(),\n        });\n      },\n      lchown: (path, uid, gid) => {\n        FS.chown(path, uid, gid, true);\n      },\n      fchown: (fd, uid, gid) => {\n        var stream = FS.getStream(fd);\n        if (!stream) {\n          throw new FS.ErrnoError(8);\n        }\n        FS.chown(stream.node, uid, gid);\n      },\n      truncate: (path, len) => {\n        if (len < 0) {\n          throw new FS.ErrnoError(28);\n        }\n        var node;\n        if (typeof path == 'string') {\n          var lookup = FS.lookupPath(path, { follow: true });\n          node = lookup.node;\n        } else {\n          node = path;\n        }\n        if (!node.node_ops.setattr) {\n          throw new FS.ErrnoError(63);\n        }\n        if (FS.isDir(node.mode)) {\n          throw new FS.ErrnoError(31);\n        }\n        if (!FS.isFile(node.mode)) {\n          throw new FS.ErrnoError(28);\n        }\n        var errCode = FS.nodePermissions(node, 'w');\n        if (errCode) {\n          throw new FS.ErrnoError(errCode);\n        }\n        node.node_ops.setattr(node, {\n          size: len,\n          timestamp: Date.now(),\n        });\n      },\n      ftruncate: (fd, len) => {\n        var stream = FS.getStream(fd);\n        if (!stream) {\n          throw new FS.ErrnoError(8);\n        }\n        if ((stream.flags & 2097155) === 0) {\n          throw new FS.ErrnoError(28);\n        }\n        FS.truncate(stream.node, len);\n      },\n      utime: (path, atime, mtime) => {\n        var lookup = FS.lookupPath(path, { follow: true });\n        var node = lookup.node;\n        node.node_ops.setattr(node, {\n          timestamp: Math.max(atime, mtime),\n        });\n      },\n      open: (path, flags, mode) => {\n        if (path === '') {\n          throw new FS.ErrnoError(44);\n        }\n        flags = typeof flags == 'string' ? FS.modeStringToFlags(flags) : flags;\n        mode = typeof mode == 'undefined' ? 438 : mode;\n        if (flags & 64) {\n          mode = (mode & 4095) | 32768;\n        } else {\n          mode = 0;\n        }\n        var node;\n        if (typeof path == 'object') {\n          node = path;\n        } else {\n          path = PATH.normalize(path);\n          try {\n            var lookup = FS.lookupPath(path, {\n              follow: !(flags & 131072),\n            });\n            node = lookup.node;\n          } catch (e) {}\n        }\n\n        var created = false;\n        if (flags & 64) {\n          if (node) {\n            if (flags & 128) {\n              throw new FS.ErrnoError(20);\n            }\n          } else {\n            node = FS.mknod(path, mode, 0);\n            created = true;\n          }\n        }\n        if (!node) {\n          throw new FS.ErrnoError(44);\n        }\n\n        if (FS.isChrdev(node.mode)) {\n          flags &= ~512;\n        }\n\n        if (flags & 65536 && !FS.isDir(node.mode)) {\n          throw new FS.ErrnoError(54);\n        }\n\n        if (!created) {\n          var errCode = FS.mayOpen(node, flags);\n          if (errCode) {\n            throw new FS.ErrnoError(errCode);\n          }\n        }\n\n        if (flags & 512 && !created) {\n          FS.truncate(node, 0);\n        }\n\n        flags &= ~(128 | 512 | 131072);\n\n        var stream = FS.createStream({\n          node: node,\n          path: FS.getPath(node),\n          flags: flags,\n          seekable: true,\n          position: 0,\n          stream_ops: node.stream_ops,\n\n          ungotten: [],\n          error: false,\n        });\n\n        if (stream.stream_ops.open) {\n          stream.stream_ops.open(stream);\n        }\n        if (Module['logReadFiles'] && !(flags & 1)) {\n          if (!FS.readFiles) FS.readFiles = {};\n          if (!(path in FS.readFiles)) {\n            FS.readFiles[path] = 1;\n          }\n        }\n        return stream;\n      },\n      close: (stream) => {\n        if (FS.isClosed(stream)) {\n          throw new FS.ErrnoError(8);\n        }\n        if (stream.getdents) stream.getdents = null;\n        try {\n          if (stream.stream_ops.close) {\n            stream.stream_ops.close(stream);\n          }\n        } catch (e) {\n          throw e;\n        } finally {\n          FS.closeStream(stream.fd);\n        }\n        stream.fd = null;\n      },\n      isClosed: (stream) => {\n        return stream.fd === null;\n      },\n      llseek: (stream, offset, whence) => {\n        if (FS.isClosed(stream)) {\n          throw new FS.ErrnoError(8);\n        }\n        if (!stream.seekable || !stream.stream_ops.llseek) {\n          throw new FS.ErrnoError(70);\n        }\n        if (whence != 0 && whence != 1 && whence != 2) {\n          throw new FS.ErrnoError(28);\n        }\n        stream.position = stream.stream_ops.llseek(stream, offset, whence);\n        stream.ungotten = [];\n        return stream.position;\n      },\n      read: (stream, buffer, offset, length, position) => {\n        if (length < 0 || position < 0) {\n          throw new FS.ErrnoError(28);\n        }\n        if (FS.isClosed(stream)) {\n          throw new FS.ErrnoError(8);\n        }\n        if ((stream.flags & 2097155) === 1) {\n          throw new FS.ErrnoError(8);\n        }\n        if (FS.isDir(stream.node.mode)) {\n          throw new FS.ErrnoError(31);\n        }\n        if (!stream.stream_ops.read) {\n          throw new FS.ErrnoError(28);\n        }\n        var seeking = typeof position != 'undefined';\n        if (!seeking) {\n          position = stream.position;\n        } else if (!stream.seekable) {\n          throw new FS.ErrnoError(70);\n        }\n        var bytesRead = stream.stream_ops.read(\n          stream,\n          buffer,\n          offset,\n          length,\n          position,\n        );\n        if (!seeking) stream.position += bytesRead;\n        return bytesRead;\n      },\n      write: (stream, buffer, offset, length, position, canOwn) => {\n        if (length < 0 || position < 0) {\n          throw new FS.ErrnoError(28);\n        }\n        if (FS.isClosed(stream)) {\n          throw new FS.ErrnoError(8);\n        }\n        if ((stream.flags & 2097155) === 0) {\n          throw new FS.ErrnoError(8);\n        }\n        if (FS.isDir(stream.node.mode)) {\n          throw new FS.ErrnoError(31);\n        }\n        if (!stream.stream_ops.write) {\n          throw new FS.ErrnoError(28);\n        }\n        if (stream.seekable && stream.flags & 1024) {\n          FS.llseek(stream, 0, 2);\n        }\n        var seeking = typeof position != 'undefined';\n        if (!seeking) {\n          position = stream.position;\n        } else if (!stream.seekable) {\n          throw new FS.ErrnoError(70);\n        }\n        var bytesWritten = stream.stream_ops.write(\n          stream,\n          buffer,\n          offset,\n          length,\n          position,\n          canOwn,\n        );\n        if (!seeking) stream.position += bytesWritten;\n        return bytesWritten;\n      },\n      allocate: (stream, offset, length) => {\n        if (FS.isClosed(stream)) {\n          throw new FS.ErrnoError(8);\n        }\n        if (offset < 0 || length <= 0) {\n          throw new FS.ErrnoError(28);\n        }\n        if ((stream.flags & 2097155) === 0) {\n          throw new FS.ErrnoError(8);\n        }\n        if (!FS.isFile(stream.node.mode) && !FS.isDir(stream.node.mode)) {\n          throw new FS.ErrnoError(43);\n        }\n        if (!stream.stream_ops.allocate) {\n          throw new FS.ErrnoError(138);\n        }\n        stream.stream_ops.allocate(stream, offset, length);\n      },\n      mmap: (stream, length, position, prot, flags) => {\n        if (\n          (prot & 2) !== 0 &&\n          (flags & 2) === 0 &&\n          (stream.flags & 2097155) !== 2\n        ) {\n          throw new FS.ErrnoError(2);\n        }\n        if ((stream.flags & 2097155) === 1) {\n          throw new FS.ErrnoError(2);\n        }\n        if (!stream.stream_ops.mmap) {\n          throw new FS.ErrnoError(43);\n        }\n        return stream.stream_ops.mmap(stream, length, position, prot, flags);\n      },\n      msync: (stream, buffer, offset, length, mmapFlags) => {\n        if (!stream.stream_ops.msync) {\n          return 0;\n        }\n        return stream.stream_ops.msync(\n          stream,\n          buffer,\n          offset,\n          length,\n          mmapFlags,\n        );\n      },\n      munmap: (stream) => 0,\n      ioctl: (stream, cmd, arg) => {\n        if (!stream.stream_ops.ioctl) {\n          throw new FS.ErrnoError(59);\n        }\n        return stream.stream_ops.ioctl(stream, cmd, arg);\n      },\n      readFile: (path, opts = {}) => {\n        opts.flags = opts.flags || 0;\n        opts.encoding = opts.encoding || 'binary';\n        if (opts.encoding !== 'utf8' && opts.encoding !== 'binary') {\n          throw new Error('Invalid encoding type \"' + opts.encoding + '\"');\n        }\n        var ret;\n        var stream = FS.open(path, opts.flags);\n        var stat = FS.stat(path);\n        var length = stat.size;\n        var buf = new Uint8Array(length);\n        FS.read(stream, buf, 0, length, 0);\n        if (opts.encoding === 'utf8') {\n          ret = UTF8ArrayToString(buf, 0);\n        } else if (opts.encoding === 'binary') {\n          ret = buf;\n        }\n        FS.close(stream);\n        return ret;\n      },\n      writeFile: (path, data, opts = {}) => {\n        opts.flags = opts.flags || 577;\n        var stream = FS.open(path, opts.flags, opts.mode);\n        if (typeof data == 'string') {\n          var buf = new Uint8Array(lengthBytesUTF8(data) + 1);\n          var actualNumBytes = stringToUTF8Array(data, buf, 0, buf.length);\n          FS.write(stream, buf, 0, actualNumBytes, undefined, opts.canOwn);\n        } else if (ArrayBuffer.isView(data)) {\n          FS.write(stream, data, 0, data.byteLength, undefined, opts.canOwn);\n        } else {\n          throw new Error('Unsupported data type');\n        }\n        FS.close(stream);\n      },\n      cwd: () => FS.currentPath,\n      chdir: (path) => {\n        var lookup = FS.lookupPath(path, { follow: true });\n        if (lookup.node === null) {\n          throw new FS.ErrnoError(44);\n        }\n        if (!FS.isDir(lookup.node.mode)) {\n          throw new FS.ErrnoError(54);\n        }\n        var errCode = FS.nodePermissions(lookup.node, 'x');\n        if (errCode) {\n          throw new FS.ErrnoError(errCode);\n        }\n        FS.currentPath = lookup.path;\n      },\n      createDefaultDirectories: () => {\n        FS.mkdir('/tmp');\n        FS.mkdir('/home');\n        FS.mkdir('/home/web_user');\n      },\n      createDefaultDevices: () => {\n        FS.mkdir('/dev');\n\n        FS.registerDevice(FS.makedev(1, 3), {\n          read: () => 0,\n          write: (stream, buffer, offset, length, pos) => length,\n        });\n        FS.mkdev('/dev/null', FS.makedev(1, 3));\n\n        TTY.register(FS.makedev(5, 0), TTY.default_tty_ops);\n        TTY.register(FS.makedev(6, 0), TTY.default_tty1_ops);\n        FS.mkdev('/dev/tty', FS.makedev(5, 0));\n        FS.mkdev('/dev/tty1', FS.makedev(6, 0));\n\n        var random_device = getRandomDevice();\n        FS.createDevice('/dev', 'random', random_device);\n        FS.createDevice('/dev', 'urandom', random_device);\n\n        FS.mkdir('/dev/shm');\n        FS.mkdir('/dev/shm/tmp');\n      },\n      createSpecialDirectories: () => {\n        FS.mkdir('/proc');\n        var proc_self = FS.mkdir('/proc/self');\n        FS.mkdir('/proc/self/fd');\n        FS.mount(\n          {\n            mount: () => {\n              var node = FS.createNode(proc_self, 'fd', 16384 | 511, 73);\n              node.node_ops = {\n                lookup: (parent, name) => {\n                  var fd = +name;\n                  var stream = FS.getStream(fd);\n                  if (!stream) throw new FS.ErrnoError(8);\n                  var ret = {\n                    parent: null,\n                    mount: { mountpoint: 'fake' },\n                    node_ops: { readlink: () => stream.path },\n                  };\n                  ret.parent = ret;\n                  return ret;\n                },\n              };\n              return node;\n            },\n          },\n          {},\n          '/proc/self/fd',\n        );\n      },\n      createStandardStreams: () => {\n        if (Module['stdin']) {\n          FS.createDevice('/dev', 'stdin', Module['stdin']);\n        } else {\n          FS.symlink('/dev/tty', '/dev/stdin');\n        }\n        if (Module['stdout']) {\n          FS.createDevice('/dev', 'stdout', null, Module['stdout']);\n        } else {\n          FS.symlink('/dev/tty', '/dev/stdout');\n        }\n        if (Module['stderr']) {\n          FS.createDevice('/dev', 'stderr', null, Module['stderr']);\n        } else {\n          FS.symlink('/dev/tty1', '/dev/stderr');\n        }\n\n        var stdin = FS.open('/dev/stdin', 0);\n        var stdout = FS.open('/dev/stdout', 1);\n        var stderr = FS.open('/dev/stderr', 1);\n      },\n      ensureErrnoError: () => {\n        if (FS.ErrnoError) return;\n        FS.ErrnoError = function ErrnoError(errno, node) {\n          this.node = node;\n          this.setErrno = function (errno) {\n            this.errno = errno;\n          };\n          this.setErrno(errno);\n          this.message = 'FS error';\n        };\n        FS.ErrnoError.prototype = new Error();\n        FS.ErrnoError.prototype.constructor = FS.ErrnoError;\n\n        [44].forEach((code) => {\n          FS.genericErrors[code] = new FS.ErrnoError(code);\n          FS.genericErrors[code].stack = '<generic error, no stack>';\n        });\n      },\n      staticInit: () => {\n        FS.ensureErrnoError();\n\n        FS.nameTable = new Array(4096);\n\n        FS.mount(MEMFS, {}, '/');\n\n        FS.createDefaultDirectories();\n        FS.createDefaultDevices();\n        FS.createSpecialDirectories();\n\n        FS.filesystems = {\n          MEMFS: MEMFS,\n        };\n      },\n      init: (input, output, error) => {\n        FS.init.initialized = true;\n\n        FS.ensureErrnoError();\n\n        Module['stdin'] = input || Module['stdin'];\n        Module['stdout'] = output || Module['stdout'];\n        Module['stderr'] = error || Module['stderr'];\n\n        FS.createStandardStreams();\n      },\n      quit: () => {\n        FS.init.initialized = false;\n\n        for (var i = 0; i < FS.streams.length; i++) {\n          var stream = FS.streams[i];\n          if (!stream) {\n            continue;\n          }\n          FS.close(stream);\n        }\n      },\n      getMode: (canRead, canWrite) => {\n        var mode = 0;\n        if (canRead) mode |= 292 | 73;\n        if (canWrite) mode |= 146;\n        return mode;\n      },\n      findObject: (path, dontResolveLastLink) => {\n        var ret = FS.analyzePath(path, dontResolveLastLink);\n        if (!ret.exists) {\n          return null;\n        }\n        return ret.object;\n      },\n      analyzePath: (path, dontResolveLastLink) => {\n        try {\n          var lookup = FS.lookupPath(path, { follow: !dontResolveLastLink });\n          path = lookup.path;\n        } catch (e) {}\n        var ret = {\n          isRoot: false,\n          exists: false,\n          error: 0,\n          name: null,\n          path: null,\n          object: null,\n          parentExists: false,\n          parentPath: null,\n          parentObject: null,\n        };\n        try {\n          var lookup = FS.lookupPath(path, { parent: true });\n          ret.parentExists = true;\n          ret.parentPath = lookup.path;\n          ret.parentObject = lookup.node;\n          ret.name = PATH.basename(path);\n          lookup = FS.lookupPath(path, { follow: !dontResolveLastLink });\n          ret.exists = true;\n          ret.path = lookup.path;\n          ret.object = lookup.node;\n          ret.name = lookup.node.name;\n          ret.isRoot = lookup.path === '/';\n        } catch (e) {\n          ret.error = e.errno;\n        }\n        return ret;\n      },\n      createPath: (parent, path, canRead, canWrite) => {\n        parent = typeof parent == 'string' ? parent : FS.getPath(parent);\n        var parts = path.split('/').reverse();\n        while (parts.length) {\n          var part = parts.pop();\n          if (!part) continue;\n          var current = PATH.join2(parent, part);\n          try {\n            FS.mkdir(current);\n          } catch (e) {}\n          parent = current;\n        }\n        return current;\n      },\n      createFile: (parent, name, properties, canRead, canWrite) => {\n        var path = PATH.join2(\n          typeof parent == 'string' ? parent : FS.getPath(parent),\n          name,\n        );\n        var mode = FS.getMode(canRead, canWrite);\n        return FS.create(path, mode);\n      },\n      createDataFile: (parent, name, data, canRead, canWrite, canOwn) => {\n        var path = name;\n        if (parent) {\n          parent = typeof parent == 'string' ? parent : FS.getPath(parent);\n          path = name ? PATH.join2(parent, name) : parent;\n        }\n        var mode = FS.getMode(canRead, canWrite);\n        var node = FS.create(path, mode);\n        if (data) {\n          if (typeof data == 'string') {\n            var arr = new Array(data.length);\n            for (var i = 0, len = data.length; i < len; ++i)\n              arr[i] = data.charCodeAt(i);\n            data = arr;\n          }\n\n          FS.chmod(node, mode | 146);\n          var stream = FS.open(node, 577);\n          FS.write(stream, data, 0, data.length, 0, canOwn);\n          FS.close(stream);\n          FS.chmod(node, mode);\n        }\n        return node;\n      },\n      createDevice: (parent, name, input, output) => {\n        var path = PATH.join2(\n          typeof parent == 'string' ? parent : FS.getPath(parent),\n          name,\n        );\n        var mode = FS.getMode(!!input, !!output);\n        if (!FS.createDevice.major) FS.createDevice.major = 64;\n        var dev = FS.makedev(FS.createDevice.major++, 0);\n\n        FS.registerDevice(dev, {\n          open: (stream) => {\n            stream.seekable = false;\n          },\n          close: (stream) => {\n            if (output && output.buffer && output.buffer.length) {\n              output(10);\n            }\n          },\n          read: (stream, buffer, offset, length, pos) => {\n            var bytesRead = 0;\n            for (var i = 0; i < length; i++) {\n              var result;\n              try {\n                result = input();\n              } catch (e) {\n                throw new FS.ErrnoError(29);\n              }\n              if (result === undefined && bytesRead === 0) {\n                throw new FS.ErrnoError(6);\n              }\n              if (result === null || result === undefined) break;\n              bytesRead++;\n              buffer[offset + i] = result;\n            }\n            if (bytesRead) {\n              stream.node.timestamp = Date.now();\n            }\n            return bytesRead;\n          },\n          write: (stream, buffer, offset, length, pos) => {\n            for (var i = 0; i < length; i++) {\n              try {\n                output(buffer[offset + i]);\n              } catch (e) {\n                throw new FS.ErrnoError(29);\n              }\n            }\n            if (length) {\n              stream.node.timestamp = Date.now();\n            }\n            return i;\n          },\n        });\n        return FS.mkdev(path, mode, dev);\n      },\n      forceLoadFile: (obj) => {\n        if (obj.isDevice || obj.isFolder || obj.link || obj.contents)\n          return true;\n        if (typeof XMLHttpRequest != 'undefined') {\n          throw new Error(\n            'Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.',\n          );\n        } else if (read_) {\n          try {\n            obj.contents = intArrayFromString(read_(obj.url), true);\n            obj.usedBytes = obj.contents.length;\n          } catch (e) {\n            throw new FS.ErrnoError(29);\n          }\n        } else {\n          throw new Error('Cannot load without read() or XMLHttpRequest.');\n        }\n      },\n      createLazyFile: (parent, name, url, canRead, canWrite) => {\n        function LazyUint8Array() {\n          this.lengthKnown = false;\n          this.chunks = [];\n        }\n        LazyUint8Array.prototype.get = function LazyUint8Array_get(idx) {\n          if (idx > this.length - 1 || idx < 0) {\n            return undefined;\n          }\n          var chunkOffset = idx % this.chunkSize;\n          var chunkNum = (idx / this.chunkSize) | 0;\n          return this.getter(chunkNum)[chunkOffset];\n        };\n        LazyUint8Array.prototype.setDataGetter =\n          function LazyUint8Array_setDataGetter(getter) {\n            this.getter = getter;\n          };\n        LazyUint8Array.prototype.cacheLength =\n          function LazyUint8Array_cacheLength() {\n            var xhr = new XMLHttpRequest();\n            xhr.open('HEAD', url, false);\n            xhr.send(null);\n            if (\n              !((xhr.status >= 200 && xhr.status < 300) || xhr.status === 304)\n            )\n              throw new Error(\n                \"Couldn't load \" + url + '. Status: ' + xhr.status,\n              );\n            var datalength = Number(xhr.getResponseHeader('Content-length'));\n            var header;\n            var hasByteServing =\n              (header = xhr.getResponseHeader('Accept-Ranges')) &&\n              header === 'bytes';\n            var usesGzip =\n              (header = xhr.getResponseHeader('Content-Encoding')) &&\n              header === 'gzip';\n\n            var chunkSize = 1024 * 1024;\n\n            if (!hasByteServing) chunkSize = datalength;\n\n            var doXHR = (from, to) => {\n              if (from > to)\n                throw new Error(\n                  'invalid range (' +\n                    from +\n                    ', ' +\n                    to +\n                    ') or no bytes requested!',\n                );\n              if (to > datalength - 1)\n                throw new Error(\n                  'only ' + datalength + ' bytes available! programmer error!',\n                );\n\n              var xhr = new XMLHttpRequest();\n              xhr.open('GET', url, false);\n              if (datalength !== chunkSize)\n                xhr.setRequestHeader('Range', 'bytes=' + from + '-' + to);\n\n              xhr.responseType = 'arraybuffer';\n              if (xhr.overrideMimeType) {\n                xhr.overrideMimeType('text/plain; charset=x-user-defined');\n              }\n\n              xhr.send(null);\n              if (\n                !((xhr.status >= 200 && xhr.status < 300) || xhr.status === 304)\n              )\n                throw new Error(\n                  \"Couldn't load \" + url + '. Status: ' + xhr.status,\n                );\n              if (xhr.response !== undefined) {\n                return new Uint8Array(xhr.response || []);\n              }\n              return intArrayFromString(xhr.responseText || '', true);\n            };\n            var lazyArray = this;\n            lazyArray.setDataGetter((chunkNum) => {\n              var start = chunkNum * chunkSize;\n              var end = (chunkNum + 1) * chunkSize - 1;\n              end = Math.min(end, datalength - 1);\n              if (typeof lazyArray.chunks[chunkNum] == 'undefined') {\n                lazyArray.chunks[chunkNum] = doXHR(start, end);\n              }\n              if (typeof lazyArray.chunks[chunkNum] == 'undefined')\n                throw new Error('doXHR failed!');\n              return lazyArray.chunks[chunkNum];\n            });\n\n            if (usesGzip || !datalength) {\n              chunkSize = datalength = 1;\n              datalength = this.getter(0).length;\n              chunkSize = datalength;\n              out(\n                'LazyFiles on gzip forces download of the whole file when length is accessed',\n              );\n            }\n\n            this._length = datalength;\n            this._chunkSize = chunkSize;\n            this.lengthKnown = true;\n          };\n        if (typeof XMLHttpRequest != 'undefined') {\n          if (!ENVIRONMENT_IS_WORKER)\n            throw 'Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc';\n          var lazyArray = new LazyUint8Array();\n          Object.defineProperties(lazyArray, {\n            length: {\n              get: function () {\n                if (!this.lengthKnown) {\n                  this.cacheLength();\n                }\n                return this._length;\n              },\n            },\n            chunkSize: {\n              get: function () {\n                if (!this.lengthKnown) {\n                  this.cacheLength();\n                }\n                return this._chunkSize;\n              },\n            },\n          });\n\n          var properties = { isDevice: false, contents: lazyArray };\n        } else {\n          var properties = { isDevice: false, url: url };\n        }\n\n        var node = FS.createFile(parent, name, properties, canRead, canWrite);\n\n        if (properties.contents) {\n          node.contents = properties.contents;\n        } else if (properties.url) {\n          node.contents = null;\n          node.url = properties.url;\n        }\n\n        Object.defineProperties(node, {\n          usedBytes: {\n            get: function () {\n              return this.contents.length;\n            },\n          },\n        });\n\n        var stream_ops = {};\n        var keys = Object.keys(node.stream_ops);\n        keys.forEach((key) => {\n          var fn = node.stream_ops[key];\n          stream_ops[key] = function forceLoadLazyFile() {\n            FS.forceLoadFile(node);\n            return fn.apply(null, arguments);\n          };\n        });\n        function writeChunks(stream, buffer, offset, length, position) {\n          var contents = stream.node.contents;\n          if (position >= contents.length) return 0;\n          var size = Math.min(contents.length - position, length);\n          if (contents.slice) {\n            for (var i = 0; i < size; i++) {\n              buffer[offset + i] = contents[position + i];\n            }\n          } else {\n            for (var i = 0; i < size; i++) {\n              buffer[offset + i] = contents.get(position + i);\n            }\n          }\n          return size;\n        }\n\n        stream_ops.read = (stream, buffer, offset, length, position) => {\n          FS.forceLoadFile(node);\n          return writeChunks(stream, buffer, offset, length, position);\n        };\n\n        stream_ops.mmap = (stream, length, position, prot, flags) => {\n          FS.forceLoadFile(node);\n          var ptr = mmapAlloc(length);\n          if (!ptr) {\n            throw new FS.ErrnoError(48);\n          }\n          writeChunks(stream, HEAP8, ptr, length, position);\n          return { ptr: ptr, allocated: true };\n        };\n        node.stream_ops = stream_ops;\n        return node;\n      },\n      createPreloadedFile: (\n        parent,\n        name,\n        url,\n        canRead,\n        canWrite,\n        onload,\n        onerror,\n        dontCreateFile,\n        canOwn,\n        preFinish,\n      ) => {\n        var fullname = name\n          ? PATH_FS.resolve(PATH.join2(parent, name))\n          : parent;\n        var dep = getUniqueRunDependency('cp ' + fullname);\n        function processData(byteArray) {\n          function finish(byteArray) {\n            if (preFinish) preFinish();\n            if (!dontCreateFile) {\n              FS.createDataFile(\n                parent,\n                name,\n                byteArray,\n                canRead,\n                canWrite,\n                canOwn,\n              );\n            }\n            if (onload) onload();\n            removeRunDependency(dep);\n          }\n          if (\n            Browser.handledByPreloadPlugin(byteArray, fullname, finish, () => {\n              if (onerror) onerror();\n              removeRunDependency(dep);\n            })\n          ) {\n            return;\n          }\n          finish(byteArray);\n        }\n        addRunDependency(dep);\n        if (typeof url == 'string') {\n          asyncLoad(url, (byteArray) => processData(byteArray), onerror);\n        } else {\n          processData(url);\n        }\n      },\n      indexedDB: () => {\n        return (\n          window.indexedDB ||\n          window.mozIndexedDB ||\n          window.webkitIndexedDB ||\n          window.msIndexedDB\n        );\n      },\n      DB_NAME: () => {\n        return 'EM_FS_' + window.location.pathname;\n      },\n      DB_VERSION: 20,\n      DB_STORE_NAME: 'FILE_DATA',\n      saveFilesToDB: (paths, onload, onerror) => {\n        onload = onload || (() => {});\n        onerror = onerror || (() => {});\n        var indexedDB = FS.indexedDB();\n        try {\n          var openRequest = indexedDB.open(FS.DB_NAME(), FS.DB_VERSION);\n        } catch (e) {\n          return onerror(e);\n        }\n        openRequest.onupgradeneeded = () => {\n          out('creating db');\n          var db = openRequest.result;\n          db.createObjectStore(FS.DB_STORE_NAME);\n        };\n        openRequest.onsuccess = () => {\n          var db = openRequest.result;\n          var transaction = db.transaction([FS.DB_STORE_NAME], 'readwrite');\n          var files = transaction.objectStore(FS.DB_STORE_NAME);\n          var ok = 0,\n            fail = 0,\n            total = paths.length;\n          function finish() {\n            if (fail == 0) onload();\n            else onerror();\n          }\n          paths.forEach((path) => {\n            var putRequest = files.put(\n              FS.analyzePath(path).object.contents,\n              path,\n            );\n            putRequest.onsuccess = () => {\n              ok++;\n              if (ok + fail == total) finish();\n            };\n            putRequest.onerror = () => {\n              fail++;\n              if (ok + fail == total) finish();\n            };\n          });\n          transaction.onerror = onerror;\n        };\n        openRequest.onerror = onerror;\n      },\n      loadFilesFromDB: (paths, onload, onerror) => {\n        onload = onload || (() => {});\n        onerror = onerror || (() => {});\n        var indexedDB = FS.indexedDB();\n        try {\n          var openRequest = indexedDB.open(FS.DB_NAME(), FS.DB_VERSION);\n        } catch (e) {\n          return onerror(e);\n        }\n        openRequest.onupgradeneeded = onerror;\n        openRequest.onsuccess = () => {\n          var db = openRequest.result;\n          try {\n            var transaction = db.transaction([FS.DB_STORE_NAME], 'readonly');\n          } catch (e) {\n            onerror(e);\n            return;\n          }\n          var files = transaction.objectStore(FS.DB_STORE_NAME);\n          var ok = 0,\n            fail = 0,\n            total = paths.length;\n          function finish() {\n            if (fail == 0) onload();\n            else onerror();\n          }\n          paths.forEach((path) => {\n            var getRequest = files.get(path);\n            getRequest.onsuccess = () => {\n              if (FS.analyzePath(path).exists) {\n                FS.unlink(path);\n              }\n              FS.createDataFile(\n                PATH.dirname(path),\n                PATH.basename(path),\n                getRequest.result,\n                true,\n                true,\n                true,\n              );\n              ok++;\n              if (ok + fail == total) finish();\n            };\n            getRequest.onerror = () => {\n              fail++;\n              if (ok + fail == total) finish();\n            };\n          });\n          transaction.onerror = onerror;\n        };\n        openRequest.onerror = onerror;\n      },\n    };\n    var SYSCALLS = {\n      DEFAULT_POLLMASK: 5,\n      calculateAt: function (dirfd, path, allowEmpty) {\n        if (PATH.isAbs(path)) {\n          return path;\n        }\n\n        var dir;\n        if (dirfd === -100) {\n          dir = FS.cwd();\n        } else {\n          var dirstream = SYSCALLS.getStreamFromFD(dirfd);\n          dir = dirstream.path;\n        }\n        if (path.length == 0) {\n          if (!allowEmpty) {\n            throw new FS.ErrnoError(44);\n          }\n          return dir;\n        }\n        return PATH.join2(dir, path);\n      },\n      doStat: function (func, path, buf) {\n        try {\n          var stat = func(path);\n        } catch (e) {\n          if (\n            e &&\n            e.node &&\n            PATH.normalize(path) !== PATH.normalize(FS.getPath(e.node))\n          ) {\n            return -54;\n          }\n          throw e;\n        }\n        HEAP32[buf >> 2] = stat.dev;\n        HEAP32[(buf + 8) >> 2] = stat.ino;\n        HEAP32[(buf + 12) >> 2] = stat.mode;\n        HEAPU32[(buf + 16) >> 2] = stat.nlink;\n        HEAP32[(buf + 20) >> 2] = stat.uid;\n        HEAP32[(buf + 24) >> 2] = stat.gid;\n        HEAP32[(buf + 28) >> 2] = stat.rdev;\n        (tempI64 = [\n          stat.size >>> 0,\n          ((tempDouble = stat.size),\n          +Math.abs(tempDouble) >= 1.0\n            ? tempDouble > 0.0\n              ? (Math.min(\n                  +Math.floor(tempDouble / 4294967296.0),\n                  4294967295.0,\n                ) |\n                  0) >>>\n                0\n              : ~~+Math.ceil(\n                  (tempDouble - +(~~tempDouble >>> 0)) / 4294967296.0,\n                ) >>> 0\n            : 0),\n        ]),\n          (HEAP32[(buf + 40) >> 2] = tempI64[0]),\n          (HEAP32[(buf + 44) >> 2] = tempI64[1]);\n        HEAP32[(buf + 48) >> 2] = 4096;\n        HEAP32[(buf + 52) >> 2] = stat.blocks;\n        var atime = stat.atime.getTime();\n        var mtime = stat.mtime.getTime();\n        var ctime = stat.ctime.getTime();\n        (tempI64 = [\n          Math.floor(atime / 1000) >>> 0,\n          ((tempDouble = Math.floor(atime / 1000)),\n          +Math.abs(tempDouble) >= 1.0\n            ? tempDouble > 0.0\n              ? (Math.min(\n                  +Math.floor(tempDouble / 4294967296.0),\n                  4294967295.0,\n                ) |\n                  0) >>>\n                0\n              : ~~+Math.ceil(\n                  (tempDouble - +(~~tempDouble >>> 0)) / 4294967296.0,\n                ) >>> 0\n            : 0),\n        ]),\n          (HEAP32[(buf + 56) >> 2] = tempI64[0]),\n          (HEAP32[(buf + 60) >> 2] = tempI64[1]);\n        HEAPU32[(buf + 64) >> 2] = (atime % 1000) * 1000;\n        (tempI64 = [\n          Math.floor(mtime / 1000) >>> 0,\n          ((tempDouble = Math.floor(mtime / 1000)),\n          +Math.abs(tempDouble) >= 1.0\n            ? tempDouble > 0.0\n              ? (Math.min(\n                  +Math.floor(tempDouble / 4294967296.0),\n                  4294967295.0,\n                ) |\n                  0) >>>\n                0\n              : ~~+Math.ceil(\n                  (tempDouble - +(~~tempDouble >>> 0)) / 4294967296.0,\n                ) >>> 0\n            : 0),\n        ]),\n          (HEAP32[(buf + 72) >> 2] = tempI64[0]),\n          (HEAP32[(buf + 76) >> 2] = tempI64[1]);\n        HEAPU32[(buf + 80) >> 2] = (mtime % 1000) * 1000;\n        (tempI64 = [\n          Math.floor(ctime / 1000) >>> 0,\n          ((tempDouble = Math.floor(ctime / 1000)),\n          +Math.abs(tempDouble) >= 1.0\n            ? tempDouble > 0.0\n              ? (Math.min(\n                  +Math.floor(tempDouble / 4294967296.0),\n                  4294967295.0,\n                ) |\n                  0) >>>\n                0\n              : ~~+Math.ceil(\n                  (tempDouble - +(~~tempDouble >>> 0)) / 4294967296.0,\n                ) >>> 0\n            : 0),\n        ]),\n          (HEAP32[(buf + 88) >> 2] = tempI64[0]),\n          (HEAP32[(buf + 92) >> 2] = tempI64[1]);\n        HEAPU32[(buf + 96) >> 2] = (ctime % 1000) * 1000;\n        (tempI64 = [\n          stat.ino >>> 0,\n          ((tempDouble = stat.ino),\n          +Math.abs(tempDouble) >= 1.0\n            ? tempDouble > 0.0\n              ? (Math.min(\n                  +Math.floor(tempDouble / 4294967296.0),\n                  4294967295.0,\n                ) |\n                  0) >>>\n                0\n              : ~~+Math.ceil(\n                  (tempDouble - +(~~tempDouble >>> 0)) / 4294967296.0,\n                ) >>> 0\n            : 0),\n        ]),\n          (HEAP32[(buf + 104) >> 2] = tempI64[0]),\n          (HEAP32[(buf + 108) >> 2] = tempI64[1]);\n        return 0;\n      },\n      doMsync: function (addr, stream, len, flags, offset) {\n        if (!FS.isFile(stream.node.mode)) {\n          throw new FS.ErrnoError(43);\n        }\n        if (flags & 2) {\n          return 0;\n        }\n        var buffer = HEAPU8.slice(addr, addr + len);\n        FS.msync(stream, buffer, offset, len, flags);\n      },\n      varargs: undefined,\n      get: function () {\n        SYSCALLS.varargs += 4;\n        var ret = HEAP32[(SYSCALLS.varargs - 4) >> 2];\n        return ret;\n      },\n      getStr: function (ptr) {\n        var ret = UTF8ToString(ptr);\n        return ret;\n      },\n      getStreamFromFD: function (fd) {\n        var stream = FS.getStream(fd);\n        if (!stream) throw new FS.ErrnoError(8);\n        return stream;\n      },\n    };\n    function ___syscall_chmod(path, mode) {\n      try {\n        path = SYSCALLS.getStr(path);\n        FS.chmod(path, mode);\n        return 0;\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\n        return -e.errno;\n      }\n    }\n\n    function ___syscall_faccessat(dirfd, path, amode, flags) {\n      try {\n        path = SYSCALLS.getStr(path);\n        path = SYSCALLS.calculateAt(dirfd, path);\n        if (amode & ~7) {\n          return -28;\n        }\n        var lookup = FS.lookupPath(path, { follow: true });\n        var node = lookup.node;\n        if (!node) {\n          return -44;\n        }\n        var perms = '';\n        if (amode & 4) perms += 'r';\n        if (amode & 2) perms += 'w';\n        if (amode & 1) perms += 'x';\n        if (perms && FS.nodePermissions(node, perms)) {\n          return -2;\n        }\n        return 0;\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\n        return -e.errno;\n      }\n    }\n\n    function ___syscall_fchmod(fd, mode) {\n      try {\n        FS.fchmod(fd, mode);\n        return 0;\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\n        return -e.errno;\n      }\n    }\n\n    function ___syscall_fchown32(fd, owner, group) {\n      try {\n        FS.fchown(fd, owner, group);\n        return 0;\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\n        return -e.errno;\n      }\n    }\n\n    function setErrNo(value) {\n      HEAP32[___errno_location() >> 2] = value;\n      return value;\n    }\n\n    function ___syscall_fcntl64(fd, cmd, varargs) {\n      SYSCALLS.varargs = varargs;\n      try {\n        var stream = SYSCALLS.getStreamFromFD(fd);\n        switch (cmd) {\n          case 0: {\n            var arg = SYSCALLS.get();\n            if (arg < 0) {\n              return -28;\n            }\n            var newStream;\n            newStream = FS.createStream(stream, arg);\n            return newStream.fd;\n          }\n          case 1:\n          case 2:\n            return 0;\n          case 3:\n            return stream.flags;\n          case 4: {\n            var arg = SYSCALLS.get();\n            stream.flags |= arg;\n            return 0;\n          }\n          case 5: {\n            var arg = SYSCALLS.get();\n            var offset = 0;\n\n            HEAP16[(arg + offset) >> 1] = 2;\n            return 0;\n          }\n          case 6:\n          case 7:\n            return 0;\n          case 16:\n          case 8:\n            return -28;\n          case 9:\n            setErrNo(28);\n            return -1;\n          default: {\n            return -28;\n          }\n        }\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\n        return -e.errno;\n      }\n    }\n\n    function ___syscall_fstat64(fd, buf) {\n      try {\n        var stream = SYSCALLS.getStreamFromFD(fd);\n        return SYSCALLS.doStat(FS.stat, stream.path, buf);\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\n        return -e.errno;\n      }\n    }\n\n    var MAX_INT53 = 9007199254740992;\n\n    var MIN_INT53 = -9007199254740992;\n    function bigintToI53Checked(num) {\n      return num < MIN_INT53 || num > MAX_INT53 ? NaN : Number(num);\n    }\n\n    function ___syscall_ftruncate64(fd, length) {\n      try {\n        length = bigintToI53Checked(length);\n        if (isNaN(length)) return -61;\n        FS.ftruncate(fd, length);\n        return 0;\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\n        return -e.errno;\n      }\n    }\n\n    function ___syscall_getcwd(buf, size) {\n      try {\n        if (size === 0) return -28;\n        var cwd = FS.cwd();\n        var cwdLengthInBytes = lengthBytesUTF8(cwd) + 1;\n        if (size < cwdLengthInBytes) return -68;\n        stringToUTF8(cwd, buf, size);\n        return cwdLengthInBytes;\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\n        return -e.errno;\n      }\n    }\n\n    function ___syscall_ioctl(fd, op, varargs) {\n      SYSCALLS.varargs = varargs;\n      try {\n        var stream = SYSCALLS.getStreamFromFD(fd);\n        switch (op) {\n          case 21509:\n          case 21505: {\n            if (!stream.tty) return -59;\n            return 0;\n          }\n          case 21510:\n          case 21511:\n          case 21512:\n          case 21506:\n          case 21507:\n          case 21508: {\n            if (!stream.tty) return -59;\n            return 0;\n          }\n          case 21519: {\n            if (!stream.tty) return -59;\n            var argp = SYSCALLS.get();\n            HEAP32[argp >> 2] = 0;\n            return 0;\n          }\n          case 21520: {\n            if (!stream.tty) return -59;\n            return -28;\n          }\n          case 21531: {\n            var argp = SYSCALLS.get();\n            return FS.ioctl(stream, op, argp);\n          }\n          case 21523: {\n            if (!stream.tty) return -59;\n            return 0;\n          }\n          case 21524: {\n            if (!stream.tty) return -59;\n            return 0;\n          }\n          default:\n            return -28;\n        }\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\n        return -e.errno;\n      }\n    }\n\n    function ___syscall_lstat64(path, buf) {\n      try {\n        path = SYSCALLS.getStr(path);\n        return SYSCALLS.doStat(FS.lstat, path, buf);\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\n        return -e.errno;\n      }\n    }\n\n    function ___syscall_mkdirat(dirfd, path, mode) {\n      try {\n        path = SYSCALLS.getStr(path);\n        path = SYSCALLS.calculateAt(dirfd, path);\n\n        path = PATH.normalize(path);\n        if (path[path.length - 1] === '/')\n          path = path.substr(0, path.length - 1);\n        FS.mkdir(path, mode, 0);\n        return 0;\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\n        return -e.errno;\n      }\n    }\n\n    function ___syscall_newfstatat(dirfd, path, buf, flags) {\n      try {\n        path = SYSCALLS.getStr(path);\n        var nofollow = flags & 256;\n        var allowEmpty = flags & 4096;\n        flags = flags & ~6400;\n        path = SYSCALLS.calculateAt(dirfd, path, allowEmpty);\n        return SYSCALLS.doStat(nofollow ? FS.lstat : FS.stat, path, buf);\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\n        return -e.errno;\n      }\n    }\n\n    function ___syscall_openat(dirfd, path, flags, varargs) {\n      SYSCALLS.varargs = varargs;\n      try {\n        path = SYSCALLS.getStr(path);\n        path = SYSCALLS.calculateAt(dirfd, path);\n        var mode = varargs ? SYSCALLS.get() : 0;\n        return FS.open(path, flags, mode).fd;\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\n        return -e.errno;\n      }\n    }\n\n    function ___syscall_readlinkat(dirfd, path, buf, bufsize) {\n      try {\n        path = SYSCALLS.getStr(path);\n        path = SYSCALLS.calculateAt(dirfd, path);\n        if (bufsize <= 0) return -28;\n        var ret = FS.readlink(path);\n\n        var len = Math.min(bufsize, lengthBytesUTF8(ret));\n        var endChar = HEAP8[buf + len];\n        stringToUTF8(ret, buf, bufsize + 1);\n\n        HEAP8[buf + len] = endChar;\n        return len;\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\n        return -e.errno;\n      }\n    }\n\n    function ___syscall_rmdir(path) {\n      try {\n        path = SYSCALLS.getStr(path);\n        FS.rmdir(path);\n        return 0;\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\n        return -e.errno;\n      }\n    }\n\n    function ___syscall_stat64(path, buf) {\n      try {\n        path = SYSCALLS.getStr(path);\n        return SYSCALLS.doStat(FS.stat, path, buf);\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\n        return -e.errno;\n      }\n    }\n\n    function ___syscall_unlinkat(dirfd, path, flags) {\n      try {\n        path = SYSCALLS.getStr(path);\n        path = SYSCALLS.calculateAt(dirfd, path);\n        if (flags === 0) {\n          FS.unlink(path);\n        } else if (flags === 512) {\n          FS.rmdir(path);\n        } else {\n          abort('Invalid flags passed to unlinkat');\n        }\n        return 0;\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\n        return -e.errno;\n      }\n    }\n\n    function readI53FromI64(ptr) {\n      return HEAPU32[ptr >> 2] + HEAP32[(ptr + 4) >> 2] * 4294967296;\n    }\n\n    function ___syscall_utimensat(dirfd, path, times, flags) {\n      try {\n        path = SYSCALLS.getStr(path);\n        path = SYSCALLS.calculateAt(dirfd, path, true);\n        if (!times) {\n          var atime = Date.now();\n          var mtime = atime;\n        } else {\n          var seconds = readI53FromI64(times);\n          var nanoseconds = HEAP32[(times + 8) >> 2];\n          atime = seconds * 1000 + nanoseconds / (1000 * 1000);\n          times += 16;\n          seconds = readI53FromI64(times);\n          nanoseconds = HEAP32[(times + 8) >> 2];\n          mtime = seconds * 1000 + nanoseconds / (1000 * 1000);\n        }\n        FS.utime(path, atime, mtime);\n        return 0;\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\n        return -e.errno;\n      }\n    }\n\n    var nowIsMonotonic = true;\n    function __emscripten_get_now_is_monotonic() {\n      return nowIsMonotonic;\n    }\n\n    function __isLeapYear(year) {\n      return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n    }\n\n    var __MONTH_DAYS_LEAP_CUMULATIVE = [\n      0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335,\n    ];\n\n    var __MONTH_DAYS_REGULAR_CUMULATIVE = [\n      0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334,\n    ];\n    function __yday_from_date(date) {\n      var isLeapYear = __isLeapYear(date.getFullYear());\n      var monthDaysCumulative = isLeapYear\n        ? __MONTH_DAYS_LEAP_CUMULATIVE\n        : __MONTH_DAYS_REGULAR_CUMULATIVE;\n      var yday = monthDaysCumulative[date.getMonth()] + date.getDate() - 1;\n\n      return yday;\n    }\n    function __localtime_js(time, tmPtr) {\n      var date = new Date(readI53FromI64(time) * 1000);\n      HEAP32[tmPtr >> 2] = date.getSeconds();\n      HEAP32[(tmPtr + 4) >> 2] = date.getMinutes();\n      HEAP32[(tmPtr + 8) >> 2] = date.getHours();\n      HEAP32[(tmPtr + 12) >> 2] = date.getDate();\n      HEAP32[(tmPtr + 16) >> 2] = date.getMonth();\n      HEAP32[(tmPtr + 20) >> 2] = date.getFullYear() - 1900;\n      HEAP32[(tmPtr + 24) >> 2] = date.getDay();\n\n      var yday = __yday_from_date(date) | 0;\n      HEAP32[(tmPtr + 28) >> 2] = yday;\n      HEAP32[(tmPtr + 36) >> 2] = -(date.getTimezoneOffset() * 60);\n\n      var start = new Date(date.getFullYear(), 0, 1);\n      var summerOffset = new Date(date.getFullYear(), 6, 1).getTimezoneOffset();\n      var winterOffset = start.getTimezoneOffset();\n      var dst =\n        (summerOffset != winterOffset &&\n          date.getTimezoneOffset() == Math.min(winterOffset, summerOffset)) | 0;\n      HEAP32[(tmPtr + 32) >> 2] = dst;\n    }\n\n    function __mmap_js(len, prot, flags, fd, off, allocated, addr) {\n      try {\n        var stream = SYSCALLS.getStreamFromFD(fd);\n        var res = FS.mmap(stream, len, off, prot, flags);\n        var ptr = res.ptr;\n        HEAP32[allocated >> 2] = res.allocated;\n        HEAPU32[addr >> 2] = ptr;\n        return 0;\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\n        return -e.errno;\n      }\n    }\n\n    function __munmap_js(addr, len, prot, flags, fd, offset) {\n      try {\n        var stream = SYSCALLS.getStreamFromFD(fd);\n        if (prot & 2) {\n          SYSCALLS.doMsync(addr, stream, len, flags, offset);\n        }\n        FS.munmap(stream);\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\n        return -e.errno;\n      }\n    }\n\n    function allocateUTF8(str) {\n      var size = lengthBytesUTF8(str) + 1;\n      var ret = _malloc(size);\n      if (ret) stringToUTF8Array(str, HEAP8, ret, size);\n      return ret;\n    }\n    function __tzset_js(timezone, daylight, tzname) {\n      var currentYear = new Date().getFullYear();\n      var winter = new Date(currentYear, 0, 1);\n      var summer = new Date(currentYear, 6, 1);\n      var winterOffset = winter.getTimezoneOffset();\n      var summerOffset = summer.getTimezoneOffset();\n\n      var stdTimezoneOffset = Math.max(winterOffset, summerOffset);\n\n      HEAPU32[timezone >> 2] = stdTimezoneOffset * 60;\n\n      HEAP32[daylight >> 2] = Number(winterOffset != summerOffset);\n\n      function extractZone(date) {\n        var match = date.toTimeString().match(/\\(([A-Za-z ]+)\\)$/);\n        return match ? match[1] : 'GMT';\n      }\n      var winterName = extractZone(winter);\n      var summerName = extractZone(summer);\n      var winterNamePtr = allocateUTF8(winterName);\n      var summerNamePtr = allocateUTF8(summerName);\n      if (summerOffset < winterOffset) {\n        HEAPU32[tzname >> 2] = winterNamePtr;\n        HEAPU32[(tzname + 4) >> 2] = summerNamePtr;\n      } else {\n        HEAPU32[tzname >> 2] = summerNamePtr;\n        HEAPU32[(tzname + 4) >> 2] = winterNamePtr;\n      }\n    }\n\n    function _emscripten_date_now() {\n      return Date.now();\n    }\n\n    var _emscripten_get_now;\n    _emscripten_get_now = () => performance.now();\n    function getHeapMax() {\n      return 2147483648;\n    }\n\n    function emscripten_realloc_buffer(size) {\n      var b = wasmMemory.buffer;\n      try {\n        wasmMemory.grow((size - b.byteLength + 65535) >>> 16);\n        updateMemoryViews();\n        return 1;\n      } catch (e) {}\n    }\n    function _emscripten_resize_heap(requestedSize) {\n      var oldSize = HEAPU8.length;\n      requestedSize = requestedSize >>> 0;\n\n      var maxHeapSize = getHeapMax();\n      if (requestedSize > maxHeapSize) {\n        return false;\n      }\n\n      let alignUp = (x, multiple) =>\n        x + ((multiple - (x % multiple)) % multiple);\n\n      for (var cutDown = 1; cutDown <= 4; cutDown *= 2) {\n        var overGrownHeapSize = oldSize * (1 + 0.2 / cutDown);\n\n        overGrownHeapSize = Math.min(\n          overGrownHeapSize,\n          requestedSize + 100663296,\n        );\n\n        var newSize = Math.min(\n          maxHeapSize,\n          alignUp(Math.max(requestedSize, overGrownHeapSize), 65536),\n        );\n\n        var replacement = emscripten_realloc_buffer(newSize);\n        if (replacement) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    var ENV = {};\n\n    function getExecutableName() {\n      return thisProgram || './this.program';\n    }\n    function getEnvStrings() {\n      if (!getEnvStrings.strings) {\n        var lang =\n          (\n            (typeof navigator == 'object' &&\n              navigator.languages &&\n              navigator.languages[0]) ||\n            'C'\n          ).replace('-', '_') + '.UTF-8';\n        var env = {\n          USER: 'web_user',\n          LOGNAME: 'web_user',\n          PATH: '/',\n          PWD: '/',\n          HOME: '/home/web_user',\n          LANG: lang,\n          _: getExecutableName(),\n        };\n\n        for (var x in ENV) {\n          if (ENV[x] === undefined) delete env[x];\n          else env[x] = ENV[x];\n        }\n        var strings = [];\n        for (var x in env) {\n          strings.push(x + '=' + env[x]);\n        }\n        getEnvStrings.strings = strings;\n      }\n      return getEnvStrings.strings;\n    }\n\n    function writeAsciiToMemory(str, buffer, dontAddNull) {\n      for (var i = 0; i < str.length; ++i) {\n        HEAP8[buffer++ >> 0] = str.charCodeAt(i);\n      }\n\n      if (!dontAddNull) HEAP8[buffer >> 0] = 0;\n    }\n\n    function _environ_get(__environ, environ_buf) {\n      var bufSize = 0;\n      getEnvStrings().forEach(function (string, i) {\n        var ptr = environ_buf + bufSize;\n        HEAPU32[(__environ + i * 4) >> 2] = ptr;\n        writeAsciiToMemory(string, ptr);\n        bufSize += string.length + 1;\n      });\n      return 0;\n    }\n\n    function _environ_sizes_get(penviron_count, penviron_buf_size) {\n      var strings = getEnvStrings();\n      HEAPU32[penviron_count >> 2] = strings.length;\n      var bufSize = 0;\n      strings.forEach(function (string) {\n        bufSize += string.length + 1;\n      });\n      HEAPU32[penviron_buf_size >> 2] = bufSize;\n      return 0;\n    }\n\n    function _fd_close(fd) {\n      try {\n        var stream = SYSCALLS.getStreamFromFD(fd);\n        FS.close(stream);\n        return 0;\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\n        return e.errno;\n      }\n    }\n\n    function _fd_fdstat_get(fd, pbuf) {\n      try {\n        var stream = SYSCALLS.getStreamFromFD(fd);\n\n        var type = stream.tty\n          ? 2\n          : FS.isDir(stream.mode)\n            ? 3\n            : FS.isLink(stream.mode)\n              ? 7\n              : 4;\n        HEAP8[pbuf >> 0] = type;\n\n        return 0;\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\n        return e.errno;\n      }\n    }\n\n    function doReadv(stream, iov, iovcnt, offset) {\n      var ret = 0;\n      for (var i = 0; i < iovcnt; i++) {\n        var ptr = HEAPU32[iov >> 2];\n        var len = HEAPU32[(iov + 4) >> 2];\n        iov += 8;\n        var curr = FS.read(stream, HEAP8, ptr, len, offset);\n        if (curr < 0) return -1;\n        ret += curr;\n        if (curr < len) break;\n        if (typeof offset !== 'undefined') {\n          offset += curr;\n        }\n      }\n      return ret;\n    }\n\n    function _fd_read(fd, iov, iovcnt, pnum) {\n      try {\n        var stream = SYSCALLS.getStreamFromFD(fd);\n        var num = doReadv(stream, iov, iovcnt);\n        HEAPU32[pnum >> 2] = num;\n        return 0;\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\n        return e.errno;\n      }\n    }\n\n    function _fd_seek(fd, offset, whence, newOffset) {\n      try {\n        offset = bigintToI53Checked(offset);\n        if (isNaN(offset)) return 61;\n        var stream = SYSCALLS.getStreamFromFD(fd);\n        FS.llseek(stream, offset, whence);\n        (tempI64 = [\n          stream.position >>> 0,\n          ((tempDouble = stream.position),\n          +Math.abs(tempDouble) >= 1.0\n            ? tempDouble > 0.0\n              ? (Math.min(\n                  +Math.floor(tempDouble / 4294967296.0),\n                  4294967295.0,\n                ) |\n                  0) >>>\n                0\n              : ~~+Math.ceil(\n                  (tempDouble - +(~~tempDouble >>> 0)) / 4294967296.0,\n                ) >>> 0\n            : 0),\n        ]),\n          (HEAP32[newOffset >> 2] = tempI64[0]),\n          (HEAP32[(newOffset + 4) >> 2] = tempI64[1]);\n        if (stream.getdents && offset === 0 && whence === 0)\n          stream.getdents = null;\n        return 0;\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\n        return e.errno;\n      }\n    }\n\n    function _fd_sync(fd) {\n      try {\n        var stream = SYSCALLS.getStreamFromFD(fd);\n        if (stream.stream_ops && stream.stream_ops.fsync) {\n          return stream.stream_ops.fsync(stream);\n        }\n        return 0;\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\n        return e.errno;\n      }\n    }\n\n    function doWritev(stream, iov, iovcnt, offset) {\n      var ret = 0;\n      for (var i = 0; i < iovcnt; i++) {\n        var ptr = HEAPU32[iov >> 2];\n        var len = HEAPU32[(iov + 4) >> 2];\n        iov += 8;\n        var curr = FS.write(stream, HEAP8, ptr, len, offset);\n        if (curr < 0) return -1;\n        ret += curr;\n        if (typeof offset !== 'undefined') {\n          offset += curr;\n        }\n      }\n      return ret;\n    }\n\n    function _fd_write(fd, iov, iovcnt, pnum) {\n      try {\n        var stream = SYSCALLS.getStreamFromFD(fd);\n        var num = doWritev(stream, iov, iovcnt);\n        HEAPU32[pnum >> 2] = num;\n        return 0;\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e instanceof FS.ErrnoError)) throw e;\n        return e.errno;\n      }\n    }\n\n    var FSNode = function (parent, name, mode, rdev) {\n      if (!parent) {\n        parent = this;\n      }\n      this.parent = parent;\n      this.mount = parent.mount;\n      this.mounted = null;\n      this.id = FS.nextInode++;\n      this.name = name;\n      this.mode = mode;\n      this.node_ops = {};\n      this.stream_ops = {};\n      this.rdev = rdev;\n    };\n    var readMode = 292 | 73;\n    var writeMode = 146;\n    Object.defineProperties(FSNode.prototype, {\n      read: {\n        get: function () {\n          return (this.mode & readMode) === readMode;\n        },\n        set: function (val) {\n          val ? (this.mode |= readMode) : (this.mode &= ~readMode);\n        },\n      },\n      write: {\n        get: function () {\n          return (this.mode & writeMode) === writeMode;\n        },\n        set: function (val) {\n          val ? (this.mode |= writeMode) : (this.mode &= ~writeMode);\n        },\n      },\n      isFolder: {\n        get: function () {\n          return FS.isDir(this.mode);\n        },\n      },\n      isDevice: {\n        get: function () {\n          return FS.isChrdev(this.mode);\n        },\n      },\n    });\n    FS.FSNode = FSNode;\n    FS.staticInit();\n    var ASSERTIONS = false;\n\n    var asmLibraryArg = {\n      __syscall_chmod: ___syscall_chmod,\n      __syscall_faccessat: ___syscall_faccessat,\n      __syscall_fchmod: ___syscall_fchmod,\n      __syscall_fchown32: ___syscall_fchown32,\n      __syscall_fcntl64: ___syscall_fcntl64,\n      __syscall_fstat64: ___syscall_fstat64,\n      __syscall_ftruncate64: ___syscall_ftruncate64,\n      __syscall_getcwd: ___syscall_getcwd,\n      __syscall_ioctl: ___syscall_ioctl,\n      __syscall_lstat64: ___syscall_lstat64,\n      __syscall_mkdirat: ___syscall_mkdirat,\n      __syscall_newfstatat: ___syscall_newfstatat,\n      __syscall_openat: ___syscall_openat,\n      __syscall_readlinkat: ___syscall_readlinkat,\n      __syscall_rmdir: ___syscall_rmdir,\n      __syscall_stat64: ___syscall_stat64,\n      __syscall_unlinkat: ___syscall_unlinkat,\n      __syscall_utimensat: ___syscall_utimensat,\n      _emscripten_get_now_is_monotonic: __emscripten_get_now_is_monotonic,\n      _localtime_js: __localtime_js,\n      _mmap_js: __mmap_js,\n      _munmap_js: __munmap_js,\n      _tzset_js: __tzset_js,\n      emscripten_date_now: _emscripten_date_now,\n      emscripten_get_now: _emscripten_get_now,\n      emscripten_resize_heap: _emscripten_resize_heap,\n      environ_get: _environ_get,\n      environ_sizes_get: _environ_sizes_get,\n      fd_close: _fd_close,\n      fd_fdstat_get: _fd_fdstat_get,\n      fd_read: _fd_read,\n      fd_seek: _fd_seek,\n      fd_sync: _fd_sync,\n      fd_write: _fd_write,\n      memory: wasmMemory,\n    };\n    var asm = createWasm();\n\n    var ___wasm_call_ctors = (Module['___wasm_call_ctors'] = function () {\n      return (___wasm_call_ctors = Module['___wasm_call_ctors'] =\n        Module['asm']['__wasm_call_ctors']).apply(null, arguments);\n    });\n\n    var _sqlite3_status64 = (Module['_sqlite3_status64'] = function () {\n      return (_sqlite3_status64 = Module['_sqlite3_status64'] =\n        Module['asm']['sqlite3_status64']).apply(null, arguments);\n    });\n\n    var _sqlite3_status = (Module['_sqlite3_status'] = function () {\n      return (_sqlite3_status = Module['_sqlite3_status'] =\n        Module['asm']['sqlite3_status']).apply(null, arguments);\n    });\n\n    var _sqlite3_db_status = (Module['_sqlite3_db_status'] = function () {\n      return (_sqlite3_db_status = Module['_sqlite3_db_status'] =\n        Module['asm']['sqlite3_db_status']).apply(null, arguments);\n    });\n\n    var _sqlite3_msize = (Module['_sqlite3_msize'] = function () {\n      return (_sqlite3_msize = Module['_sqlite3_msize'] =\n        Module['asm']['sqlite3_msize']).apply(null, arguments);\n    });\n\n    var _sqlite3_vfs_find = (Module['_sqlite3_vfs_find'] = function () {\n      return (_sqlite3_vfs_find = Module['_sqlite3_vfs_find'] =\n        Module['asm']['sqlite3_vfs_find']).apply(null, arguments);\n    });\n\n    var _sqlite3_initialize = (Module['_sqlite3_initialize'] = function () {\n      return (_sqlite3_initialize = Module['_sqlite3_initialize'] =\n        Module['asm']['sqlite3_initialize']).apply(null, arguments);\n    });\n\n    var _sqlite3_malloc = (Module['_sqlite3_malloc'] = function () {\n      return (_sqlite3_malloc = Module['_sqlite3_malloc'] =\n        Module['asm']['sqlite3_malloc']).apply(null, arguments);\n    });\n\n    var _sqlite3_free = (Module['_sqlite3_free'] = function () {\n      return (_sqlite3_free = Module['_sqlite3_free'] =\n        Module['asm']['sqlite3_free']).apply(null, arguments);\n    });\n\n    var _sqlite3_vfs_register = (Module['_sqlite3_vfs_register'] = function () {\n      return (_sqlite3_vfs_register = Module['_sqlite3_vfs_register'] =\n        Module['asm']['sqlite3_vfs_register']).apply(null, arguments);\n    });\n\n    var _sqlite3_vfs_unregister = (Module['_sqlite3_vfs_unregister'] =\n      function () {\n        return (_sqlite3_vfs_unregister = Module['_sqlite3_vfs_unregister'] =\n          Module['asm']['sqlite3_vfs_unregister']).apply(null, arguments);\n      });\n\n    var _sqlite3_malloc64 = (Module['_sqlite3_malloc64'] = function () {\n      return (_sqlite3_malloc64 = Module['_sqlite3_malloc64'] =\n        Module['asm']['sqlite3_malloc64']).apply(null, arguments);\n    });\n\n    var _sqlite3_realloc = (Module['_sqlite3_realloc'] = function () {\n      return (_sqlite3_realloc = Module['_sqlite3_realloc'] =\n        Module['asm']['sqlite3_realloc']).apply(null, arguments);\n    });\n\n    var _sqlite3_realloc64 = (Module['_sqlite3_realloc64'] = function () {\n      return (_sqlite3_realloc64 = Module['_sqlite3_realloc64'] =\n        Module['asm']['sqlite3_realloc64']).apply(null, arguments);\n    });\n\n    var _sqlite3_value_text = (Module['_sqlite3_value_text'] = function () {\n      return (_sqlite3_value_text = Module['_sqlite3_value_text'] =\n        Module['asm']['sqlite3_value_text']).apply(null, arguments);\n    });\n\n    var _sqlite3_randomness = (Module['_sqlite3_randomness'] = function () {\n      return (_sqlite3_randomness = Module['_sqlite3_randomness'] =\n        Module['asm']['sqlite3_randomness']).apply(null, arguments);\n    });\n\n    var _sqlite3_stricmp = (Module['_sqlite3_stricmp'] = function () {\n      return (_sqlite3_stricmp = Module['_sqlite3_stricmp'] =\n        Module['asm']['sqlite3_stricmp']).apply(null, arguments);\n    });\n\n    var _sqlite3_strnicmp = (Module['_sqlite3_strnicmp'] = function () {\n      return (_sqlite3_strnicmp = Module['_sqlite3_strnicmp'] =\n        Module['asm']['sqlite3_strnicmp']).apply(null, arguments);\n    });\n\n    var _sqlite3_uri_parameter = (Module['_sqlite3_uri_parameter'] =\n      function () {\n        return (_sqlite3_uri_parameter = Module['_sqlite3_uri_parameter'] =\n          Module['asm']['sqlite3_uri_parameter']).apply(null, arguments);\n      });\n\n    var ___errno_location = (Module['___errno_location'] = function () {\n      return (___errno_location = Module['___errno_location'] =\n        Module['asm']['__errno_location']).apply(null, arguments);\n    });\n\n    var _sqlite3_uri_boolean = (Module['_sqlite3_uri_boolean'] = function () {\n      return (_sqlite3_uri_boolean = Module['_sqlite3_uri_boolean'] =\n        Module['asm']['sqlite3_uri_boolean']).apply(null, arguments);\n    });\n\n    var _sqlite3_serialize = (Module['_sqlite3_serialize'] = function () {\n      return (_sqlite3_serialize = Module['_sqlite3_serialize'] =\n        Module['asm']['sqlite3_serialize']).apply(null, arguments);\n    });\n\n    var _sqlite3_prepare_v2 = (Module['_sqlite3_prepare_v2'] = function () {\n      return (_sqlite3_prepare_v2 = Module['_sqlite3_prepare_v2'] =\n        Module['asm']['sqlite3_prepare_v2']).apply(null, arguments);\n    });\n\n    var _sqlite3_step = (Module['_sqlite3_step'] = function () {\n      return (_sqlite3_step = Module['_sqlite3_step'] =\n        Module['asm']['sqlite3_step']).apply(null, arguments);\n    });\n\n    var _sqlite3_column_int64 = (Module['_sqlite3_column_int64'] = function () {\n      return (_sqlite3_column_int64 = Module['_sqlite3_column_int64'] =\n        Module['asm']['sqlite3_column_int64']).apply(null, arguments);\n    });\n\n    var _sqlite3_reset = (Module['_sqlite3_reset'] = function () {\n      return (_sqlite3_reset = Module['_sqlite3_reset'] =\n        Module['asm']['sqlite3_reset']).apply(null, arguments);\n    });\n\n    var _sqlite3_exec = (Module['_sqlite3_exec'] = function () {\n      return (_sqlite3_exec = Module['_sqlite3_exec'] =\n        Module['asm']['sqlite3_exec']).apply(null, arguments);\n    });\n\n    var _sqlite3_column_int = (Module['_sqlite3_column_int'] = function () {\n      return (_sqlite3_column_int = Module['_sqlite3_column_int'] =\n        Module['asm']['sqlite3_column_int']).apply(null, arguments);\n    });\n\n    var _sqlite3_finalize = (Module['_sqlite3_finalize'] = function () {\n      return (_sqlite3_finalize = Module['_sqlite3_finalize'] =\n        Module['asm']['sqlite3_finalize']).apply(null, arguments);\n    });\n\n    var _sqlite3_file_control = (Module['_sqlite3_file_control'] = function () {\n      return (_sqlite3_file_control = Module['_sqlite3_file_control'] =\n        Module['asm']['sqlite3_file_control']).apply(null, arguments);\n    });\n\n    var _sqlite3_column_name = (Module['_sqlite3_column_name'] = function () {\n      return (_sqlite3_column_name = Module['_sqlite3_column_name'] =\n        Module['asm']['sqlite3_column_name']).apply(null, arguments);\n    });\n\n    var _sqlite3_column_text = (Module['_sqlite3_column_text'] = function () {\n      return (_sqlite3_column_text = Module['_sqlite3_column_text'] =\n        Module['asm']['sqlite3_column_text']).apply(null, arguments);\n    });\n\n    var _sqlite3_column_type = (Module['_sqlite3_column_type'] = function () {\n      return (_sqlite3_column_type = Module['_sqlite3_column_type'] =\n        Module['asm']['sqlite3_column_type']).apply(null, arguments);\n    });\n\n    var _sqlite3_errmsg = (Module['_sqlite3_errmsg'] = function () {\n      return (_sqlite3_errmsg = Module['_sqlite3_errmsg'] =\n        Module['asm']['sqlite3_errmsg']).apply(null, arguments);\n    });\n\n    var _sqlite3_deserialize = (Module['_sqlite3_deserialize'] = function () {\n      return (_sqlite3_deserialize = Module['_sqlite3_deserialize'] =\n        Module['asm']['sqlite3_deserialize']).apply(null, arguments);\n    });\n\n    var _sqlite3_clear_bindings = (Module['_sqlite3_clear_bindings'] =\n      function () {\n        return (_sqlite3_clear_bindings = Module['_sqlite3_clear_bindings'] =\n          Module['asm']['sqlite3_clear_bindings']).apply(null, arguments);\n      });\n\n    var _sqlite3_value_blob = (Module['_sqlite3_value_blob'] = function () {\n      return (_sqlite3_value_blob = Module['_sqlite3_value_blob'] =\n        Module['asm']['sqlite3_value_blob']).apply(null, arguments);\n    });\n\n    var _sqlite3_value_bytes = (Module['_sqlite3_value_bytes'] = function () {\n      return (_sqlite3_value_bytes = Module['_sqlite3_value_bytes'] =\n        Module['asm']['sqlite3_value_bytes']).apply(null, arguments);\n    });\n\n    var _sqlite3_value_double = (Module['_sqlite3_value_double'] = function () {\n      return (_sqlite3_value_double = Module['_sqlite3_value_double'] =\n        Module['asm']['sqlite3_value_double']).apply(null, arguments);\n    });\n\n    var _sqlite3_value_int = (Module['_sqlite3_value_int'] = function () {\n      return (_sqlite3_value_int = Module['_sqlite3_value_int'] =\n        Module['asm']['sqlite3_value_int']).apply(null, arguments);\n    });\n\n    var _sqlite3_value_int64 = (Module['_sqlite3_value_int64'] = function () {\n      return (_sqlite3_value_int64 = Module['_sqlite3_value_int64'] =\n        Module['asm']['sqlite3_value_int64']).apply(null, arguments);\n    });\n\n    var _sqlite3_value_subtype = (Module['_sqlite3_value_subtype'] =\n      function () {\n        return (_sqlite3_value_subtype = Module['_sqlite3_value_subtype'] =\n          Module['asm']['sqlite3_value_subtype']).apply(null, arguments);\n      });\n\n    var _sqlite3_value_pointer = (Module['_sqlite3_value_pointer'] =\n      function () {\n        return (_sqlite3_value_pointer = Module['_sqlite3_value_pointer'] =\n          Module['asm']['sqlite3_value_pointer']).apply(null, arguments);\n      });\n\n    var _sqlite3_value_type = (Module['_sqlite3_value_type'] = function () {\n      return (_sqlite3_value_type = Module['_sqlite3_value_type'] =\n        Module['asm']['sqlite3_value_type']).apply(null, arguments);\n    });\n\n    var _sqlite3_value_nochange = (Module['_sqlite3_value_nochange'] =\n      function () {\n        return (_sqlite3_value_nochange = Module['_sqlite3_value_nochange'] =\n          Module['asm']['sqlite3_value_nochange']).apply(null, arguments);\n      });\n\n    var _sqlite3_value_frombind = (Module['_sqlite3_value_frombind'] =\n      function () {\n        return (_sqlite3_value_frombind = Module['_sqlite3_value_frombind'] =\n          Module['asm']['sqlite3_value_frombind']).apply(null, arguments);\n      });\n\n    var _sqlite3_value_dup = (Module['_sqlite3_value_dup'] = function () {\n      return (_sqlite3_value_dup = Module['_sqlite3_value_dup'] =\n        Module['asm']['sqlite3_value_dup']).apply(null, arguments);\n    });\n\n    var _sqlite3_value_free = (Module['_sqlite3_value_free'] = function () {\n      return (_sqlite3_value_free = Module['_sqlite3_value_free'] =\n        Module['asm']['sqlite3_value_free']).apply(null, arguments);\n    });\n\n    var _sqlite3_result_blob = (Module['_sqlite3_result_blob'] = function () {\n      return (_sqlite3_result_blob = Module['_sqlite3_result_blob'] =\n        Module['asm']['sqlite3_result_blob']).apply(null, arguments);\n    });\n\n    var _sqlite3_result_error_toobig = (Module['_sqlite3_result_error_toobig'] =\n      function () {\n        return (_sqlite3_result_error_toobig = Module[\n          '_sqlite3_result_error_toobig'\n        ] =\n          Module['asm']['sqlite3_result_error_toobig']).apply(null, arguments);\n      });\n\n    var _sqlite3_result_error_nomem = (Module['_sqlite3_result_error_nomem'] =\n      function () {\n        return (_sqlite3_result_error_nomem = Module[\n          '_sqlite3_result_error_nomem'\n        ] =\n          Module['asm']['sqlite3_result_error_nomem']).apply(null, arguments);\n      });\n\n    var _sqlite3_result_double = (Module['_sqlite3_result_double'] =\n      function () {\n        return (_sqlite3_result_double = Module['_sqlite3_result_double'] =\n          Module['asm']['sqlite3_result_double']).apply(null, arguments);\n      });\n\n    var _sqlite3_result_error = (Module['_sqlite3_result_error'] = function () {\n      return (_sqlite3_result_error = Module['_sqlite3_result_error'] =\n        Module['asm']['sqlite3_result_error']).apply(null, arguments);\n    });\n\n    var _sqlite3_result_int = (Module['_sqlite3_result_int'] = function () {\n      return (_sqlite3_result_int = Module['_sqlite3_result_int'] =\n        Module['asm']['sqlite3_result_int']).apply(null, arguments);\n    });\n\n    var _sqlite3_result_int64 = (Module['_sqlite3_result_int64'] = function () {\n      return (_sqlite3_result_int64 = Module['_sqlite3_result_int64'] =\n        Module['asm']['sqlite3_result_int64']).apply(null, arguments);\n    });\n\n    var _sqlite3_result_null = (Module['_sqlite3_result_null'] = function () {\n      return (_sqlite3_result_null = Module['_sqlite3_result_null'] =\n        Module['asm']['sqlite3_result_null']).apply(null, arguments);\n    });\n\n    var _sqlite3_result_pointer = (Module['_sqlite3_result_pointer'] =\n      function () {\n        return (_sqlite3_result_pointer = Module['_sqlite3_result_pointer'] =\n          Module['asm']['sqlite3_result_pointer']).apply(null, arguments);\n      });\n\n    var _sqlite3_result_subtype = (Module['_sqlite3_result_subtype'] =\n      function () {\n        return (_sqlite3_result_subtype = Module['_sqlite3_result_subtype'] =\n          Module['asm']['sqlite3_result_subtype']).apply(null, arguments);\n      });\n\n    var _sqlite3_result_text = (Module['_sqlite3_result_text'] = function () {\n      return (_sqlite3_result_text = Module['_sqlite3_result_text'] =\n        Module['asm']['sqlite3_result_text']).apply(null, arguments);\n    });\n\n    var _sqlite3_result_zeroblob = (Module['_sqlite3_result_zeroblob'] =\n      function () {\n        return (_sqlite3_result_zeroblob = Module['_sqlite3_result_zeroblob'] =\n          Module['asm']['sqlite3_result_zeroblob']).apply(null, arguments);\n      });\n\n    var _sqlite3_result_zeroblob64 = (Module['_sqlite3_result_zeroblob64'] =\n      function () {\n        return (_sqlite3_result_zeroblob64 = Module[\n          '_sqlite3_result_zeroblob64'\n        ] =\n          Module['asm']['sqlite3_result_zeroblob64']).apply(null, arguments);\n      });\n\n    var _sqlite3_result_error_code = (Module['_sqlite3_result_error_code'] =\n      function () {\n        return (_sqlite3_result_error_code = Module[\n          '_sqlite3_result_error_code'\n        ] =\n          Module['asm']['sqlite3_result_error_code']).apply(null, arguments);\n      });\n\n    var _sqlite3_user_data = (Module['_sqlite3_user_data'] = function () {\n      return (_sqlite3_user_data = Module['_sqlite3_user_data'] =\n        Module['asm']['sqlite3_user_data']).apply(null, arguments);\n    });\n\n    var _sqlite3_context_db_handle = (Module['_sqlite3_context_db_handle'] =\n      function () {\n        return (_sqlite3_context_db_handle = Module[\n          '_sqlite3_context_db_handle'\n        ] =\n          Module['asm']['sqlite3_context_db_handle']).apply(null, arguments);\n      });\n\n    var _sqlite3_vtab_nochange = (Module['_sqlite3_vtab_nochange'] =\n      function () {\n        return (_sqlite3_vtab_nochange = Module['_sqlite3_vtab_nochange'] =\n          Module['asm']['sqlite3_vtab_nochange']).apply(null, arguments);\n      });\n\n    var _sqlite3_vtab_in_first = (Module['_sqlite3_vtab_in_first'] =\n      function () {\n        return (_sqlite3_vtab_in_first = Module['_sqlite3_vtab_in_first'] =\n          Module['asm']['sqlite3_vtab_in_first']).apply(null, arguments);\n      });\n\n    var _sqlite3_vtab_in_next = (Module['_sqlite3_vtab_in_next'] = function () {\n      return (_sqlite3_vtab_in_next = Module['_sqlite3_vtab_in_next'] =\n        Module['asm']['sqlite3_vtab_in_next']).apply(null, arguments);\n    });\n\n    var _sqlite3_aggregate_context = (Module['_sqlite3_aggregate_context'] =\n      function () {\n        return (_sqlite3_aggregate_context = Module[\n          '_sqlite3_aggregate_context'\n        ] =\n          Module['asm']['sqlite3_aggregate_context']).apply(null, arguments);\n      });\n\n    var _sqlite3_get_auxdata = (Module['_sqlite3_get_auxdata'] = function () {\n      return (_sqlite3_get_auxdata = Module['_sqlite3_get_auxdata'] =\n        Module['asm']['sqlite3_get_auxdata']).apply(null, arguments);\n    });\n\n    var _sqlite3_set_auxdata = (Module['_sqlite3_set_auxdata'] = function () {\n      return (_sqlite3_set_auxdata = Module['_sqlite3_set_auxdata'] =\n        Module['asm']['sqlite3_set_auxdata']).apply(null, arguments);\n    });\n\n    var _sqlite3_column_count = (Module['_sqlite3_column_count'] = function () {\n      return (_sqlite3_column_count = Module['_sqlite3_column_count'] =\n        Module['asm']['sqlite3_column_count']).apply(null, arguments);\n    });\n\n    var _sqlite3_data_count = (Module['_sqlite3_data_count'] = function () {\n      return (_sqlite3_data_count = Module['_sqlite3_data_count'] =\n        Module['asm']['sqlite3_data_count']).apply(null, arguments);\n    });\n\n    var _sqlite3_column_blob = (Module['_sqlite3_column_blob'] = function () {\n      return (_sqlite3_column_blob = Module['_sqlite3_column_blob'] =\n        Module['asm']['sqlite3_column_blob']).apply(null, arguments);\n    });\n\n    var _sqlite3_column_bytes = (Module['_sqlite3_column_bytes'] = function () {\n      return (_sqlite3_column_bytes = Module['_sqlite3_column_bytes'] =\n        Module['asm']['sqlite3_column_bytes']).apply(null, arguments);\n    });\n\n    var _sqlite3_column_double = (Module['_sqlite3_column_double'] =\n      function () {\n        return (_sqlite3_column_double = Module['_sqlite3_column_double'] =\n          Module['asm']['sqlite3_column_double']).apply(null, arguments);\n      });\n\n    var _sqlite3_column_value = (Module['_sqlite3_column_value'] = function () {\n      return (_sqlite3_column_value = Module['_sqlite3_column_value'] =\n        Module['asm']['sqlite3_column_value']).apply(null, arguments);\n    });\n\n    var _sqlite3_bind_blob = (Module['_sqlite3_bind_blob'] = function () {\n      return (_sqlite3_bind_blob = Module['_sqlite3_bind_blob'] =\n        Module['asm']['sqlite3_bind_blob']).apply(null, arguments);\n    });\n\n    var _sqlite3_bind_double = (Module['_sqlite3_bind_double'] = function () {\n      return (_sqlite3_bind_double = Module['_sqlite3_bind_double'] =\n        Module['asm']['sqlite3_bind_double']).apply(null, arguments);\n    });\n\n    var _sqlite3_bind_int = (Module['_sqlite3_bind_int'] = function () {\n      return (_sqlite3_bind_int = Module['_sqlite3_bind_int'] =\n        Module['asm']['sqlite3_bind_int']).apply(null, arguments);\n    });\n\n    var _sqlite3_bind_int64 = (Module['_sqlite3_bind_int64'] = function () {\n      return (_sqlite3_bind_int64 = Module['_sqlite3_bind_int64'] =\n        Module['asm']['sqlite3_bind_int64']).apply(null, arguments);\n    });\n\n    var _sqlite3_bind_null = (Module['_sqlite3_bind_null'] = function () {\n      return (_sqlite3_bind_null = Module['_sqlite3_bind_null'] =\n        Module['asm']['sqlite3_bind_null']).apply(null, arguments);\n    });\n\n    var _sqlite3_bind_pointer = (Module['_sqlite3_bind_pointer'] = function () {\n      return (_sqlite3_bind_pointer = Module['_sqlite3_bind_pointer'] =\n        Module['asm']['sqlite3_bind_pointer']).apply(null, arguments);\n    });\n\n    var _sqlite3_bind_text = (Module['_sqlite3_bind_text'] = function () {\n      return (_sqlite3_bind_text = Module['_sqlite3_bind_text'] =\n        Module['asm']['sqlite3_bind_text']).apply(null, arguments);\n    });\n\n    var _sqlite3_bind_parameter_count = (Module[\n      '_sqlite3_bind_parameter_count'\n    ] = function () {\n      return (_sqlite3_bind_parameter_count = Module[\n        '_sqlite3_bind_parameter_count'\n      ] =\n        Module['asm']['sqlite3_bind_parameter_count']).apply(null, arguments);\n    });\n\n    var _sqlite3_bind_parameter_index = (Module[\n      '_sqlite3_bind_parameter_index'\n    ] = function () {\n      return (_sqlite3_bind_parameter_index = Module[\n        '_sqlite3_bind_parameter_index'\n      ] =\n        Module['asm']['sqlite3_bind_parameter_index']).apply(null, arguments);\n    });\n\n    var _sqlite3_db_handle = (Module['_sqlite3_db_handle'] = function () {\n      return (_sqlite3_db_handle = Module['_sqlite3_db_handle'] =\n        Module['asm']['sqlite3_db_handle']).apply(null, arguments);\n    });\n\n    var _sqlite3_stmt_readonly = (Module['_sqlite3_stmt_readonly'] =\n      function () {\n        return (_sqlite3_stmt_readonly = Module['_sqlite3_stmt_readonly'] =\n          Module['asm']['sqlite3_stmt_readonly']).apply(null, arguments);\n      });\n\n    var _sqlite3_stmt_isexplain = (Module['_sqlite3_stmt_isexplain'] =\n      function () {\n        return (_sqlite3_stmt_isexplain = Module['_sqlite3_stmt_isexplain'] =\n          Module['asm']['sqlite3_stmt_isexplain']).apply(null, arguments);\n      });\n\n    var _sqlite3_stmt_status = (Module['_sqlite3_stmt_status'] = function () {\n      return (_sqlite3_stmt_status = Module['_sqlite3_stmt_status'] =\n        Module['asm']['sqlite3_stmt_status']).apply(null, arguments);\n    });\n\n    var _sqlite3_sql = (Module['_sqlite3_sql'] = function () {\n      return (_sqlite3_sql = Module['_sqlite3_sql'] =\n        Module['asm']['sqlite3_sql']).apply(null, arguments);\n    });\n\n    var _sqlite3_expanded_sql = (Module['_sqlite3_expanded_sql'] = function () {\n      return (_sqlite3_expanded_sql = Module['_sqlite3_expanded_sql'] =\n        Module['asm']['sqlite3_expanded_sql']).apply(null, arguments);\n    });\n\n    var _sqlite3_preupdate_old = (Module['_sqlite3_preupdate_old'] =\n      function () {\n        return (_sqlite3_preupdate_old = Module['_sqlite3_preupdate_old'] =\n          Module['asm']['sqlite3_preupdate_old']).apply(null, arguments);\n      });\n\n    var _sqlite3_preupdate_count = (Module['_sqlite3_preupdate_count'] =\n      function () {\n        return (_sqlite3_preupdate_count = Module['_sqlite3_preupdate_count'] =\n          Module['asm']['sqlite3_preupdate_count']).apply(null, arguments);\n      });\n\n    var _sqlite3_preupdate_depth = (Module['_sqlite3_preupdate_depth'] =\n      function () {\n        return (_sqlite3_preupdate_depth = Module['_sqlite3_preupdate_depth'] =\n          Module['asm']['sqlite3_preupdate_depth']).apply(null, arguments);\n      });\n\n    var _sqlite3_preupdate_blobwrite = (Module['_sqlite3_preupdate_blobwrite'] =\n      function () {\n        return (_sqlite3_preupdate_blobwrite = Module[\n          '_sqlite3_preupdate_blobwrite'\n        ] =\n          Module['asm']['sqlite3_preupdate_blobwrite']).apply(null, arguments);\n      });\n\n    var _sqlite3_preupdate_new = (Module['_sqlite3_preupdate_new'] =\n      function () {\n        return (_sqlite3_preupdate_new = Module['_sqlite3_preupdate_new'] =\n          Module['asm']['sqlite3_preupdate_new']).apply(null, arguments);\n      });\n\n    var _sqlite3_value_numeric_type = (Module['_sqlite3_value_numeric_type'] =\n      function () {\n        return (_sqlite3_value_numeric_type = Module[\n          '_sqlite3_value_numeric_type'\n        ] =\n          Module['asm']['sqlite3_value_numeric_type']).apply(null, arguments);\n      });\n\n    var _sqlite3_set_authorizer = (Module['_sqlite3_set_authorizer'] =\n      function () {\n        return (_sqlite3_set_authorizer = Module['_sqlite3_set_authorizer'] =\n          Module['asm']['sqlite3_set_authorizer']).apply(null, arguments);\n      });\n\n    var _sqlite3_strglob = (Module['_sqlite3_strglob'] = function () {\n      return (_sqlite3_strglob = Module['_sqlite3_strglob'] =\n        Module['asm']['sqlite3_strglob']).apply(null, arguments);\n    });\n\n    var _sqlite3_strlike = (Module['_sqlite3_strlike'] = function () {\n      return (_sqlite3_strlike = Module['_sqlite3_strlike'] =\n        Module['asm']['sqlite3_strlike']).apply(null, arguments);\n    });\n\n    var _sqlite3_auto_extension = (Module['_sqlite3_auto_extension'] =\n      function () {\n        return (_sqlite3_auto_extension = Module['_sqlite3_auto_extension'] =\n          Module['asm']['sqlite3_auto_extension']).apply(null, arguments);\n      });\n\n    var _sqlite3_cancel_auto_extension = (Module[\n      '_sqlite3_cancel_auto_extension'\n    ] = function () {\n      return (_sqlite3_cancel_auto_extension = Module[\n        '_sqlite3_cancel_auto_extension'\n      ] =\n        Module['asm']['sqlite3_cancel_auto_extension']).apply(null, arguments);\n    });\n\n    var _sqlite3_reset_auto_extension = (Module[\n      '_sqlite3_reset_auto_extension'\n    ] = function () {\n      return (_sqlite3_reset_auto_extension = Module[\n        '_sqlite3_reset_auto_extension'\n      ] =\n        Module['asm']['sqlite3_reset_auto_extension']).apply(null, arguments);\n    });\n\n    var _sqlite3_prepare_v3 = (Module['_sqlite3_prepare_v3'] = function () {\n      return (_sqlite3_prepare_v3 = Module['_sqlite3_prepare_v3'] =\n        Module['asm']['sqlite3_prepare_v3']).apply(null, arguments);\n    });\n\n    var _sqlite3_create_module = (Module['_sqlite3_create_module'] =\n      function () {\n        return (_sqlite3_create_module = Module['_sqlite3_create_module'] =\n          Module['asm']['sqlite3_create_module']).apply(null, arguments);\n      });\n\n    var _sqlite3_create_module_v2 = (Module['_sqlite3_create_module_v2'] =\n      function () {\n        return (_sqlite3_create_module_v2 = Module[\n          '_sqlite3_create_module_v2'\n        ] =\n          Module['asm']['sqlite3_create_module_v2']).apply(null, arguments);\n      });\n\n    var _sqlite3_drop_modules = (Module['_sqlite3_drop_modules'] = function () {\n      return (_sqlite3_drop_modules = Module['_sqlite3_drop_modules'] =\n        Module['asm']['sqlite3_drop_modules']).apply(null, arguments);\n    });\n\n    var _sqlite3_declare_vtab = (Module['_sqlite3_declare_vtab'] = function () {\n      return (_sqlite3_declare_vtab = Module['_sqlite3_declare_vtab'] =\n        Module['asm']['sqlite3_declare_vtab']).apply(null, arguments);\n    });\n\n    var _sqlite3_vtab_on_conflict = (Module['_sqlite3_vtab_on_conflict'] =\n      function () {\n        return (_sqlite3_vtab_on_conflict = Module[\n          '_sqlite3_vtab_on_conflict'\n        ] =\n          Module['asm']['sqlite3_vtab_on_conflict']).apply(null, arguments);\n      });\n\n    var _sqlite3_vtab_collation = (Module['_sqlite3_vtab_collation'] =\n      function () {\n        return (_sqlite3_vtab_collation = Module['_sqlite3_vtab_collation'] =\n          Module['asm']['sqlite3_vtab_collation']).apply(null, arguments);\n      });\n\n    var _sqlite3_vtab_in = (Module['_sqlite3_vtab_in'] = function () {\n      return (_sqlite3_vtab_in = Module['_sqlite3_vtab_in'] =\n        Module['asm']['sqlite3_vtab_in']).apply(null, arguments);\n    });\n\n    var _sqlite3_vtab_rhs_value = (Module['_sqlite3_vtab_rhs_value'] =\n      function () {\n        return (_sqlite3_vtab_rhs_value = Module['_sqlite3_vtab_rhs_value'] =\n          Module['asm']['sqlite3_vtab_rhs_value']).apply(null, arguments);\n      });\n\n    var _sqlite3_vtab_distinct = (Module['_sqlite3_vtab_distinct'] =\n      function () {\n        return (_sqlite3_vtab_distinct = Module['_sqlite3_vtab_distinct'] =\n          Module['asm']['sqlite3_vtab_distinct']).apply(null, arguments);\n      });\n\n    var _sqlite3_keyword_name = (Module['_sqlite3_keyword_name'] = function () {\n      return (_sqlite3_keyword_name = Module['_sqlite3_keyword_name'] =\n        Module['asm']['sqlite3_keyword_name']).apply(null, arguments);\n    });\n\n    var _sqlite3_keyword_count = (Module['_sqlite3_keyword_count'] =\n      function () {\n        return (_sqlite3_keyword_count = Module['_sqlite3_keyword_count'] =\n          Module['asm']['sqlite3_keyword_count']).apply(null, arguments);\n      });\n\n    var _sqlite3_keyword_check = (Module['_sqlite3_keyword_check'] =\n      function () {\n        return (_sqlite3_keyword_check = Module['_sqlite3_keyword_check'] =\n          Module['asm']['sqlite3_keyword_check']).apply(null, arguments);\n      });\n\n    var _sqlite3_complete = (Module['_sqlite3_complete'] = function () {\n      return (_sqlite3_complete = Module['_sqlite3_complete'] =\n        Module['asm']['sqlite3_complete']).apply(null, arguments);\n    });\n\n    var _sqlite3_libversion = (Module['_sqlite3_libversion'] = function () {\n      return (_sqlite3_libversion = Module['_sqlite3_libversion'] =\n        Module['asm']['sqlite3_libversion']).apply(null, arguments);\n    });\n\n    var _sqlite3_libversion_number = (Module['_sqlite3_libversion_number'] =\n      function () {\n        return (_sqlite3_libversion_number = Module[\n          '_sqlite3_libversion_number'\n        ] =\n          Module['asm']['sqlite3_libversion_number']).apply(null, arguments);\n      });\n\n    var _sqlite3_shutdown = (Module['_sqlite3_shutdown'] = function () {\n      return (_sqlite3_shutdown = Module['_sqlite3_shutdown'] =\n        Module['asm']['sqlite3_shutdown']).apply(null, arguments);\n    });\n\n    var _sqlite3_last_insert_rowid = (Module['_sqlite3_last_insert_rowid'] =\n      function () {\n        return (_sqlite3_last_insert_rowid = Module[\n          '_sqlite3_last_insert_rowid'\n        ] =\n          Module['asm']['sqlite3_last_insert_rowid']).apply(null, arguments);\n      });\n\n    var _sqlite3_set_last_insert_rowid = (Module[\n      '_sqlite3_set_last_insert_rowid'\n    ] = function () {\n      return (_sqlite3_set_last_insert_rowid = Module[\n        '_sqlite3_set_last_insert_rowid'\n      ] =\n        Module['asm']['sqlite3_set_last_insert_rowid']).apply(null, arguments);\n    });\n\n    var _sqlite3_changes64 = (Module['_sqlite3_changes64'] = function () {\n      return (_sqlite3_changes64 = Module['_sqlite3_changes64'] =\n        Module['asm']['sqlite3_changes64']).apply(null, arguments);\n    });\n\n    var _sqlite3_changes = (Module['_sqlite3_changes'] = function () {\n      return (_sqlite3_changes = Module['_sqlite3_changes'] =\n        Module['asm']['sqlite3_changes']).apply(null, arguments);\n    });\n\n    var _sqlite3_total_changes64 = (Module['_sqlite3_total_changes64'] =\n      function () {\n        return (_sqlite3_total_changes64 = Module['_sqlite3_total_changes64'] =\n          Module['asm']['sqlite3_total_changes64']).apply(null, arguments);\n      });\n\n    var _sqlite3_total_changes = (Module['_sqlite3_total_changes'] =\n      function () {\n        return (_sqlite3_total_changes = Module['_sqlite3_total_changes'] =\n          Module['asm']['sqlite3_total_changes']).apply(null, arguments);\n      });\n\n    var _sqlite3_txn_state = (Module['_sqlite3_txn_state'] = function () {\n      return (_sqlite3_txn_state = Module['_sqlite3_txn_state'] =\n        Module['asm']['sqlite3_txn_state']).apply(null, arguments);\n    });\n\n    var _sqlite3_close_v2 = (Module['_sqlite3_close_v2'] = function () {\n      return (_sqlite3_close_v2 = Module['_sqlite3_close_v2'] =\n        Module['asm']['sqlite3_close_v2']).apply(null, arguments);\n    });\n\n    var _sqlite3_busy_handler = (Module['_sqlite3_busy_handler'] = function () {\n      return (_sqlite3_busy_handler = Module['_sqlite3_busy_handler'] =\n        Module['asm']['sqlite3_busy_handler']).apply(null, arguments);\n    });\n\n    var _sqlite3_progress_handler = (Module['_sqlite3_progress_handler'] =\n      function () {\n        return (_sqlite3_progress_handler = Module[\n          '_sqlite3_progress_handler'\n        ] =\n          Module['asm']['sqlite3_progress_handler']).apply(null, arguments);\n      });\n\n    var _sqlite3_busy_timeout = (Module['_sqlite3_busy_timeout'] = function () {\n      return (_sqlite3_busy_timeout = Module['_sqlite3_busy_timeout'] =\n        Module['asm']['sqlite3_busy_timeout']).apply(null, arguments);\n    });\n\n    var _sqlite3_create_function = (Module['_sqlite3_create_function'] =\n      function () {\n        return (_sqlite3_create_function = Module['_sqlite3_create_function'] =\n          Module['asm']['sqlite3_create_function']).apply(null, arguments);\n      });\n\n    var _sqlite3_create_function_v2 = (Module['_sqlite3_create_function_v2'] =\n      function () {\n        return (_sqlite3_create_function_v2 = Module[\n          '_sqlite3_create_function_v2'\n        ] =\n          Module['asm']['sqlite3_create_function_v2']).apply(null, arguments);\n      });\n\n    var _sqlite3_create_window_function = (Module[\n      '_sqlite3_create_window_function'\n    ] = function () {\n      return (_sqlite3_create_window_function = Module[\n        '_sqlite3_create_window_function'\n      ] =\n        Module['asm']['sqlite3_create_window_function']).apply(null, arguments);\n    });\n\n    var _sqlite3_overload_function = (Module['_sqlite3_overload_function'] =\n      function () {\n        return (_sqlite3_overload_function = Module[\n          '_sqlite3_overload_function'\n        ] =\n          Module['asm']['sqlite3_overload_function']).apply(null, arguments);\n      });\n\n    var _sqlite3_trace_v2 = (Module['_sqlite3_trace_v2'] = function () {\n      return (_sqlite3_trace_v2 = Module['_sqlite3_trace_v2'] =\n        Module['asm']['sqlite3_trace_v2']).apply(null, arguments);\n    });\n\n    var _sqlite3_commit_hook = (Module['_sqlite3_commit_hook'] = function () {\n      return (_sqlite3_commit_hook = Module['_sqlite3_commit_hook'] =\n        Module['asm']['sqlite3_commit_hook']).apply(null, arguments);\n    });\n\n    var _sqlite3_update_hook = (Module['_sqlite3_update_hook'] = function () {\n      return (_sqlite3_update_hook = Module['_sqlite3_update_hook'] =\n        Module['asm']['sqlite3_update_hook']).apply(null, arguments);\n    });\n\n    var _sqlite3_rollback_hook = (Module['_sqlite3_rollback_hook'] =\n      function () {\n        return (_sqlite3_rollback_hook = Module['_sqlite3_rollback_hook'] =\n          Module['asm']['sqlite3_rollback_hook']).apply(null, arguments);\n      });\n\n    var _sqlite3_preupdate_hook = (Module['_sqlite3_preupdate_hook'] =\n      function () {\n        return (_sqlite3_preupdate_hook = Module['_sqlite3_preupdate_hook'] =\n          Module['asm']['sqlite3_preupdate_hook']).apply(null, arguments);\n      });\n\n    var _sqlite3_error_offset = (Module['_sqlite3_error_offset'] = function () {\n      return (_sqlite3_error_offset = Module['_sqlite3_error_offset'] =\n        Module['asm']['sqlite3_error_offset']).apply(null, arguments);\n    });\n\n    var _sqlite3_errcode = (Module['_sqlite3_errcode'] = function () {\n      return (_sqlite3_errcode = Module['_sqlite3_errcode'] =\n        Module['asm']['sqlite3_errcode']).apply(null, arguments);\n    });\n\n    var _sqlite3_extended_errcode = (Module['_sqlite3_extended_errcode'] =\n      function () {\n        return (_sqlite3_extended_errcode = Module[\n          '_sqlite3_extended_errcode'\n        ] =\n          Module['asm']['sqlite3_extended_errcode']).apply(null, arguments);\n      });\n\n    var _sqlite3_errstr = (Module['_sqlite3_errstr'] = function () {\n      return (_sqlite3_errstr = Module['_sqlite3_errstr'] =\n        Module['asm']['sqlite3_errstr']).apply(null, arguments);\n    });\n\n    var _sqlite3_limit = (Module['_sqlite3_limit'] = function () {\n      return (_sqlite3_limit = Module['_sqlite3_limit'] =\n        Module['asm']['sqlite3_limit']).apply(null, arguments);\n    });\n\n    var _sqlite3_open = (Module['_sqlite3_open'] = function () {\n      return (_sqlite3_open = Module['_sqlite3_open'] =\n        Module['asm']['sqlite3_open']).apply(null, arguments);\n    });\n\n    var _sqlite3_open_v2 = (Module['_sqlite3_open_v2'] = function () {\n      return (_sqlite3_open_v2 = Module['_sqlite3_open_v2'] =\n        Module['asm']['sqlite3_open_v2']).apply(null, arguments);\n    });\n\n    var _sqlite3_create_collation = (Module['_sqlite3_create_collation'] =\n      function () {\n        return (_sqlite3_create_collation = Module[\n          '_sqlite3_create_collation'\n        ] =\n          Module['asm']['sqlite3_create_collation']).apply(null, arguments);\n      });\n\n    var _sqlite3_create_collation_v2 = (Module['_sqlite3_create_collation_v2'] =\n      function () {\n        return (_sqlite3_create_collation_v2 = Module[\n          '_sqlite3_create_collation_v2'\n        ] =\n          Module['asm']['sqlite3_create_collation_v2']).apply(null, arguments);\n      });\n\n    var _sqlite3_collation_needed = (Module['_sqlite3_collation_needed'] =\n      function () {\n        return (_sqlite3_collation_needed = Module[\n          '_sqlite3_collation_needed'\n        ] =\n          Module['asm']['sqlite3_collation_needed']).apply(null, arguments);\n      });\n\n    var _sqlite3_get_autocommit = (Module['_sqlite3_get_autocommit'] =\n      function () {\n        return (_sqlite3_get_autocommit = Module['_sqlite3_get_autocommit'] =\n          Module['asm']['sqlite3_get_autocommit']).apply(null, arguments);\n      });\n\n    var _sqlite3_table_column_metadata = (Module[\n      '_sqlite3_table_column_metadata'\n    ] = function () {\n      return (_sqlite3_table_column_metadata = Module[\n        '_sqlite3_table_column_metadata'\n      ] =\n        Module['asm']['sqlite3_table_column_metadata']).apply(null, arguments);\n    });\n\n    var _sqlite3_extended_result_codes = (Module[\n      '_sqlite3_extended_result_codes'\n    ] = function () {\n      return (_sqlite3_extended_result_codes = Module[\n        '_sqlite3_extended_result_codes'\n      ] =\n        Module['asm']['sqlite3_extended_result_codes']).apply(null, arguments);\n    });\n\n    var _sqlite3_uri_key = (Module['_sqlite3_uri_key'] = function () {\n      return (_sqlite3_uri_key = Module['_sqlite3_uri_key'] =\n        Module['asm']['sqlite3_uri_key']).apply(null, arguments);\n    });\n\n    var _sqlite3_uri_int64 = (Module['_sqlite3_uri_int64'] = function () {\n      return (_sqlite3_uri_int64 = Module['_sqlite3_uri_int64'] =\n        Module['asm']['sqlite3_uri_int64']).apply(null, arguments);\n    });\n\n    var _sqlite3_db_name = (Module['_sqlite3_db_name'] = function () {\n      return (_sqlite3_db_name = Module['_sqlite3_db_name'] =\n        Module['asm']['sqlite3_db_name']).apply(null, arguments);\n    });\n\n    var _sqlite3_db_filename = (Module['_sqlite3_db_filename'] = function () {\n      return (_sqlite3_db_filename = Module['_sqlite3_db_filename'] =\n        Module['asm']['sqlite3_db_filename']).apply(null, arguments);\n    });\n\n    var _sqlite3_compileoption_used = (Module['_sqlite3_compileoption_used'] =\n      function () {\n        return (_sqlite3_compileoption_used = Module[\n          '_sqlite3_compileoption_used'\n        ] =\n          Module['asm']['sqlite3_compileoption_used']).apply(null, arguments);\n      });\n\n    var _sqlite3_compileoption_get = (Module['_sqlite3_compileoption_get'] =\n      function () {\n        return (_sqlite3_compileoption_get = Module[\n          '_sqlite3_compileoption_get'\n        ] =\n          Module['asm']['sqlite3_compileoption_get']).apply(null, arguments);\n      });\n\n    var _sqlite3session_diff = (Module['_sqlite3session_diff'] = function () {\n      return (_sqlite3session_diff = Module['_sqlite3session_diff'] =\n        Module['asm']['sqlite3session_diff']).apply(null, arguments);\n    });\n\n    var _sqlite3session_attach = (Module['_sqlite3session_attach'] =\n      function () {\n        return (_sqlite3session_attach = Module['_sqlite3session_attach'] =\n          Module['asm']['sqlite3session_attach']).apply(null, arguments);\n      });\n\n    var _sqlite3session_create = (Module['_sqlite3session_create'] =\n      function () {\n        return (_sqlite3session_create = Module['_sqlite3session_create'] =\n          Module['asm']['sqlite3session_create']).apply(null, arguments);\n      });\n\n    var _sqlite3session_delete = (Module['_sqlite3session_delete'] =\n      function () {\n        return (_sqlite3session_delete = Module['_sqlite3session_delete'] =\n          Module['asm']['sqlite3session_delete']).apply(null, arguments);\n      });\n\n    var _sqlite3session_table_filter = (Module['_sqlite3session_table_filter'] =\n      function () {\n        return (_sqlite3session_table_filter = Module[\n          '_sqlite3session_table_filter'\n        ] =\n          Module['asm']['sqlite3session_table_filter']).apply(null, arguments);\n      });\n\n    var _sqlite3session_changeset = (Module['_sqlite3session_changeset'] =\n      function () {\n        return (_sqlite3session_changeset = Module[\n          '_sqlite3session_changeset'\n        ] =\n          Module['asm']['sqlite3session_changeset']).apply(null, arguments);\n      });\n\n    var _sqlite3session_changeset_strm = (Module[\n      '_sqlite3session_changeset_strm'\n    ] = function () {\n      return (_sqlite3session_changeset_strm = Module[\n        '_sqlite3session_changeset_strm'\n      ] =\n        Module['asm']['sqlite3session_changeset_strm']).apply(null, arguments);\n    });\n\n    var _sqlite3session_patchset_strm = (Module[\n      '_sqlite3session_patchset_strm'\n    ] = function () {\n      return (_sqlite3session_patchset_strm = Module[\n        '_sqlite3session_patchset_strm'\n      ] =\n        Module['asm']['sqlite3session_patchset_strm']).apply(null, arguments);\n    });\n\n    var _sqlite3session_patchset = (Module['_sqlite3session_patchset'] =\n      function () {\n        return (_sqlite3session_patchset = Module['_sqlite3session_patchset'] =\n          Module['asm']['sqlite3session_patchset']).apply(null, arguments);\n      });\n\n    var _sqlite3session_enable = (Module['_sqlite3session_enable'] =\n      function () {\n        return (_sqlite3session_enable = Module['_sqlite3session_enable'] =\n          Module['asm']['sqlite3session_enable']).apply(null, arguments);\n      });\n\n    var _sqlite3session_indirect = (Module['_sqlite3session_indirect'] =\n      function () {\n        return (_sqlite3session_indirect = Module['_sqlite3session_indirect'] =\n          Module['asm']['sqlite3session_indirect']).apply(null, arguments);\n      });\n\n    var _sqlite3session_isempty = (Module['_sqlite3session_isempty'] =\n      function () {\n        return (_sqlite3session_isempty = Module['_sqlite3session_isempty'] =\n          Module['asm']['sqlite3session_isempty']).apply(null, arguments);\n      });\n\n    var _sqlite3session_memory_used = (Module['_sqlite3session_memory_used'] =\n      function () {\n        return (_sqlite3session_memory_used = Module[\n          '_sqlite3session_memory_used'\n        ] =\n          Module['asm']['sqlite3session_memory_used']).apply(null, arguments);\n      });\n\n    var _sqlite3session_object_config = (Module[\n      '_sqlite3session_object_config'\n    ] = function () {\n      return (_sqlite3session_object_config = Module[\n        '_sqlite3session_object_config'\n      ] =\n        Module['asm']['sqlite3session_object_config']).apply(null, arguments);\n    });\n\n    var _sqlite3session_changeset_size = (Module[\n      '_sqlite3session_changeset_size'\n    ] = function () {\n      return (_sqlite3session_changeset_size = Module[\n        '_sqlite3session_changeset_size'\n      ] =\n        Module['asm']['sqlite3session_changeset_size']).apply(null, arguments);\n    });\n\n    var _sqlite3changeset_start = (Module['_sqlite3changeset_start'] =\n      function () {\n        return (_sqlite3changeset_start = Module['_sqlite3changeset_start'] =\n          Module['asm']['sqlite3changeset_start']).apply(null, arguments);\n      });\n\n    var _sqlite3changeset_start_v2 = (Module['_sqlite3changeset_start_v2'] =\n      function () {\n        return (_sqlite3changeset_start_v2 = Module[\n          '_sqlite3changeset_start_v2'\n        ] =\n          Module['asm']['sqlite3changeset_start_v2']).apply(null, arguments);\n      });\n\n    var _sqlite3changeset_start_strm = (Module['_sqlite3changeset_start_strm'] =\n      function () {\n        return (_sqlite3changeset_start_strm = Module[\n          '_sqlite3changeset_start_strm'\n        ] =\n          Module['asm']['sqlite3changeset_start_strm']).apply(null, arguments);\n      });\n\n    var _sqlite3changeset_start_v2_strm = (Module[\n      '_sqlite3changeset_start_v2_strm'\n    ] = function () {\n      return (_sqlite3changeset_start_v2_strm = Module[\n        '_sqlite3changeset_start_v2_strm'\n      ] =\n        Module['asm']['sqlite3changeset_start_v2_strm']).apply(null, arguments);\n    });\n\n    var _sqlite3changeset_next = (Module['_sqlite3changeset_next'] =\n      function () {\n        return (_sqlite3changeset_next = Module['_sqlite3changeset_next'] =\n          Module['asm']['sqlite3changeset_next']).apply(null, arguments);\n      });\n\n    var _sqlite3changeset_op = (Module['_sqlite3changeset_op'] = function () {\n      return (_sqlite3changeset_op = Module['_sqlite3changeset_op'] =\n        Module['asm']['sqlite3changeset_op']).apply(null, arguments);\n    });\n\n    var _sqlite3changeset_pk = (Module['_sqlite3changeset_pk'] = function () {\n      return (_sqlite3changeset_pk = Module['_sqlite3changeset_pk'] =\n        Module['asm']['sqlite3changeset_pk']).apply(null, arguments);\n    });\n\n    var _sqlite3changeset_old = (Module['_sqlite3changeset_old'] = function () {\n      return (_sqlite3changeset_old = Module['_sqlite3changeset_old'] =\n        Module['asm']['sqlite3changeset_old']).apply(null, arguments);\n    });\n\n    var _sqlite3changeset_new = (Module['_sqlite3changeset_new'] = function () {\n      return (_sqlite3changeset_new = Module['_sqlite3changeset_new'] =\n        Module['asm']['sqlite3changeset_new']).apply(null, arguments);\n    });\n\n    var _sqlite3changeset_conflict = (Module['_sqlite3changeset_conflict'] =\n      function () {\n        return (_sqlite3changeset_conflict = Module[\n          '_sqlite3changeset_conflict'\n        ] =\n          Module['asm']['sqlite3changeset_conflict']).apply(null, arguments);\n      });\n\n    var _sqlite3changeset_fk_conflicts = (Module[\n      '_sqlite3changeset_fk_conflicts'\n    ] = function () {\n      return (_sqlite3changeset_fk_conflicts = Module[\n        '_sqlite3changeset_fk_conflicts'\n      ] =\n        Module['asm']['sqlite3changeset_fk_conflicts']).apply(null, arguments);\n    });\n\n    var _sqlite3changeset_finalize = (Module['_sqlite3changeset_finalize'] =\n      function () {\n        return (_sqlite3changeset_finalize = Module[\n          '_sqlite3changeset_finalize'\n        ] =\n          Module['asm']['sqlite3changeset_finalize']).apply(null, arguments);\n      });\n\n    var _sqlite3changeset_invert = (Module['_sqlite3changeset_invert'] =\n      function () {\n        return (_sqlite3changeset_invert = Module['_sqlite3changeset_invert'] =\n          Module['asm']['sqlite3changeset_invert']).apply(null, arguments);\n      });\n\n    var _sqlite3changeset_invert_strm = (Module[\n      '_sqlite3changeset_invert_strm'\n    ] = function () {\n      return (_sqlite3changeset_invert_strm = Module[\n        '_sqlite3changeset_invert_strm'\n      ] =\n        Module['asm']['sqlite3changeset_invert_strm']).apply(null, arguments);\n    });\n\n    var _sqlite3changeset_apply_v2 = (Module['_sqlite3changeset_apply_v2'] =\n      function () {\n        return (_sqlite3changeset_apply_v2 = Module[\n          '_sqlite3changeset_apply_v2'\n        ] =\n          Module['asm']['sqlite3changeset_apply_v2']).apply(null, arguments);\n      });\n\n    var _sqlite3changeset_apply = (Module['_sqlite3changeset_apply'] =\n      function () {\n        return (_sqlite3changeset_apply = Module['_sqlite3changeset_apply'] =\n          Module['asm']['sqlite3changeset_apply']).apply(null, arguments);\n      });\n\n    var _sqlite3changeset_apply_v2_strm = (Module[\n      '_sqlite3changeset_apply_v2_strm'\n    ] = function () {\n      return (_sqlite3changeset_apply_v2_strm = Module[\n        '_sqlite3changeset_apply_v2_strm'\n      ] =\n        Module['asm']['sqlite3changeset_apply_v2_strm']).apply(null, arguments);\n    });\n\n    var _sqlite3changeset_apply_strm = (Module['_sqlite3changeset_apply_strm'] =\n      function () {\n        return (_sqlite3changeset_apply_strm = Module[\n          '_sqlite3changeset_apply_strm'\n        ] =\n          Module['asm']['sqlite3changeset_apply_strm']).apply(null, arguments);\n      });\n\n    var _sqlite3changegroup_new = (Module['_sqlite3changegroup_new'] =\n      function () {\n        return (_sqlite3changegroup_new = Module['_sqlite3changegroup_new'] =\n          Module['asm']['sqlite3changegroup_new']).apply(null, arguments);\n      });\n\n    var _sqlite3changegroup_add = (Module['_sqlite3changegroup_add'] =\n      function () {\n        return (_sqlite3changegroup_add = Module['_sqlite3changegroup_add'] =\n          Module['asm']['sqlite3changegroup_add']).apply(null, arguments);\n      });\n\n    var _sqlite3changegroup_output = (Module['_sqlite3changegroup_output'] =\n      function () {\n        return (_sqlite3changegroup_output = Module[\n          '_sqlite3changegroup_output'\n        ] =\n          Module['asm']['sqlite3changegroup_output']).apply(null, arguments);\n      });\n\n    var _sqlite3changegroup_add_strm = (Module['_sqlite3changegroup_add_strm'] =\n      function () {\n        return (_sqlite3changegroup_add_strm = Module[\n          '_sqlite3changegroup_add_strm'\n        ] =\n          Module['asm']['sqlite3changegroup_add_strm']).apply(null, arguments);\n      });\n\n    var _sqlite3changegroup_output_strm = (Module[\n      '_sqlite3changegroup_output_strm'\n    ] = function () {\n      return (_sqlite3changegroup_output_strm = Module[\n        '_sqlite3changegroup_output_strm'\n      ] =\n        Module['asm']['sqlite3changegroup_output_strm']).apply(null, arguments);\n    });\n\n    var _sqlite3changegroup_delete = (Module['_sqlite3changegroup_delete'] =\n      function () {\n        return (_sqlite3changegroup_delete = Module[\n          '_sqlite3changegroup_delete'\n        ] =\n          Module['asm']['sqlite3changegroup_delete']).apply(null, arguments);\n      });\n\n    var _sqlite3changeset_concat = (Module['_sqlite3changeset_concat'] =\n      function () {\n        return (_sqlite3changeset_concat = Module['_sqlite3changeset_concat'] =\n          Module['asm']['sqlite3changeset_concat']).apply(null, arguments);\n      });\n\n    var _sqlite3changeset_concat_strm = (Module[\n      '_sqlite3changeset_concat_strm'\n    ] = function () {\n      return (_sqlite3changeset_concat_strm = Module[\n        '_sqlite3changeset_concat_strm'\n      ] =\n        Module['asm']['sqlite3changeset_concat_strm']).apply(null, arguments);\n    });\n\n    var _sqlite3session_config = (Module['_sqlite3session_config'] =\n      function () {\n        return (_sqlite3session_config = Module['_sqlite3session_config'] =\n          Module['asm']['sqlite3session_config']).apply(null, arguments);\n      });\n\n    var _sqlite3_sourceid = (Module['_sqlite3_sourceid'] = function () {\n      return (_sqlite3_sourceid = Module['_sqlite3_sourceid'] =\n        Module['asm']['sqlite3_sourceid']).apply(null, arguments);\n    });\n\n    var _sqlite3_wasm_pstack_ptr = (Module['_sqlite3_wasm_pstack_ptr'] =\n      function () {\n        return (_sqlite3_wasm_pstack_ptr = Module['_sqlite3_wasm_pstack_ptr'] =\n          Module['asm']['sqlite3_wasm_pstack_ptr']).apply(null, arguments);\n      });\n\n    var _sqlite3_wasm_pstack_restore = (Module['_sqlite3_wasm_pstack_restore'] =\n      function () {\n        return (_sqlite3_wasm_pstack_restore = Module[\n          '_sqlite3_wasm_pstack_restore'\n        ] =\n          Module['asm']['sqlite3_wasm_pstack_restore']).apply(null, arguments);\n      });\n\n    var _sqlite3_wasm_pstack_alloc = (Module['_sqlite3_wasm_pstack_alloc'] =\n      function () {\n        return (_sqlite3_wasm_pstack_alloc = Module[\n          '_sqlite3_wasm_pstack_alloc'\n        ] =\n          Module['asm']['sqlite3_wasm_pstack_alloc']).apply(null, arguments);\n      });\n\n    var _sqlite3_wasm_pstack_remaining = (Module[\n      '_sqlite3_wasm_pstack_remaining'\n    ] = function () {\n      return (_sqlite3_wasm_pstack_remaining = Module[\n        '_sqlite3_wasm_pstack_remaining'\n      ] =\n        Module['asm']['sqlite3_wasm_pstack_remaining']).apply(null, arguments);\n    });\n\n    var _sqlite3_wasm_pstack_quota = (Module['_sqlite3_wasm_pstack_quota'] =\n      function () {\n        return (_sqlite3_wasm_pstack_quota = Module[\n          '_sqlite3_wasm_pstack_quota'\n        ] =\n          Module['asm']['sqlite3_wasm_pstack_quota']).apply(null, arguments);\n      });\n\n    var _sqlite3_wasm_db_error = (Module['_sqlite3_wasm_db_error'] =\n      function () {\n        return (_sqlite3_wasm_db_error = Module['_sqlite3_wasm_db_error'] =\n          Module['asm']['sqlite3_wasm_db_error']).apply(null, arguments);\n      });\n\n    var _sqlite3_wasm_test_struct = (Module['_sqlite3_wasm_test_struct'] =\n      function () {\n        return (_sqlite3_wasm_test_struct = Module[\n          '_sqlite3_wasm_test_struct'\n        ] =\n          Module['asm']['sqlite3_wasm_test_struct']).apply(null, arguments);\n      });\n\n    var _sqlite3_wasm_enum_json = (Module['_sqlite3_wasm_enum_json'] =\n      function () {\n        return (_sqlite3_wasm_enum_json = Module['_sqlite3_wasm_enum_json'] =\n          Module['asm']['sqlite3_wasm_enum_json']).apply(null, arguments);\n      });\n\n    var _sqlite3_wasm_vfs_unlink = (Module['_sqlite3_wasm_vfs_unlink'] =\n      function () {\n        return (_sqlite3_wasm_vfs_unlink = Module['_sqlite3_wasm_vfs_unlink'] =\n          Module['asm']['sqlite3_wasm_vfs_unlink']).apply(null, arguments);\n      });\n\n    var _sqlite3_wasm_db_vfs = (Module['_sqlite3_wasm_db_vfs'] = function () {\n      return (_sqlite3_wasm_db_vfs = Module['_sqlite3_wasm_db_vfs'] =\n        Module['asm']['sqlite3_wasm_db_vfs']).apply(null, arguments);\n    });\n\n    var _sqlite3_wasm_db_reset = (Module['_sqlite3_wasm_db_reset'] =\n      function () {\n        return (_sqlite3_wasm_db_reset = Module['_sqlite3_wasm_db_reset'] =\n          Module['asm']['sqlite3_wasm_db_reset']).apply(null, arguments);\n      });\n\n    var _sqlite3_wasm_db_export_chunked = (Module[\n      '_sqlite3_wasm_db_export_chunked'\n    ] = function () {\n      return (_sqlite3_wasm_db_export_chunked = Module[\n        '_sqlite3_wasm_db_export_chunked'\n      ] =\n        Module['asm']['sqlite3_wasm_db_export_chunked']).apply(null, arguments);\n    });\n\n    var _sqlite3_wasm_db_serialize = (Module['_sqlite3_wasm_db_serialize'] =\n      function () {\n        return (_sqlite3_wasm_db_serialize = Module[\n          '_sqlite3_wasm_db_serialize'\n        ] =\n          Module['asm']['sqlite3_wasm_db_serialize']).apply(null, arguments);\n      });\n\n    var _sqlite3_wasm_vfs_create_file = (Module[\n      '_sqlite3_wasm_vfs_create_file'\n    ] = function () {\n      return (_sqlite3_wasm_vfs_create_file = Module[\n        '_sqlite3_wasm_vfs_create_file'\n      ] =\n        Module['asm']['sqlite3_wasm_vfs_create_file']).apply(null, arguments);\n    });\n\n    var _sqlite3_wasm_posix_create_file = (Module[\n      '_sqlite3_wasm_posix_create_file'\n    ] = function () {\n      return (_sqlite3_wasm_posix_create_file = Module[\n        '_sqlite3_wasm_posix_create_file'\n      ] =\n        Module['asm']['sqlite3_wasm_posix_create_file']).apply(null, arguments);\n    });\n\n    var _sqlite3_wasm_kvvfsMakeKeyOnPstack = (Module[\n      '_sqlite3_wasm_kvvfsMakeKeyOnPstack'\n    ] = function () {\n      return (_sqlite3_wasm_kvvfsMakeKeyOnPstack = Module[\n        '_sqlite3_wasm_kvvfsMakeKeyOnPstack'\n      ] =\n        Module['asm']['sqlite3_wasm_kvvfsMakeKeyOnPstack']).apply(\n        null,\n        arguments,\n      );\n    });\n\n    var _sqlite3_wasm_kvvfs_methods = (Module['_sqlite3_wasm_kvvfs_methods'] =\n      function () {\n        return (_sqlite3_wasm_kvvfs_methods = Module[\n          '_sqlite3_wasm_kvvfs_methods'\n        ] =\n          Module['asm']['sqlite3_wasm_kvvfs_methods']).apply(null, arguments);\n      });\n\n    var _sqlite3_wasm_vtab_config = (Module['_sqlite3_wasm_vtab_config'] =\n      function () {\n        return (_sqlite3_wasm_vtab_config = Module[\n          '_sqlite3_wasm_vtab_config'\n        ] =\n          Module['asm']['sqlite3_wasm_vtab_config']).apply(null, arguments);\n      });\n\n    var _sqlite3_wasm_db_config_ip = (Module['_sqlite3_wasm_db_config_ip'] =\n      function () {\n        return (_sqlite3_wasm_db_config_ip = Module[\n          '_sqlite3_wasm_db_config_ip'\n        ] =\n          Module['asm']['sqlite3_wasm_db_config_ip']).apply(null, arguments);\n      });\n\n    var _sqlite3_wasm_db_config_pii = (Module['_sqlite3_wasm_db_config_pii'] =\n      function () {\n        return (_sqlite3_wasm_db_config_pii = Module[\n          '_sqlite3_wasm_db_config_pii'\n        ] =\n          Module['asm']['sqlite3_wasm_db_config_pii']).apply(null, arguments);\n      });\n\n    var _sqlite3_wasm_db_config_s = (Module['_sqlite3_wasm_db_config_s'] =\n      function () {\n        return (_sqlite3_wasm_db_config_s = Module[\n          '_sqlite3_wasm_db_config_s'\n        ] =\n          Module['asm']['sqlite3_wasm_db_config_s']).apply(null, arguments);\n      });\n\n    var _sqlite3_wasm_config_i = (Module['_sqlite3_wasm_config_i'] =\n      function () {\n        return (_sqlite3_wasm_config_i = Module['_sqlite3_wasm_config_i'] =\n          Module['asm']['sqlite3_wasm_config_i']).apply(null, arguments);\n      });\n\n    var _sqlite3_wasm_config_ii = (Module['_sqlite3_wasm_config_ii'] =\n      function () {\n        return (_sqlite3_wasm_config_ii = Module['_sqlite3_wasm_config_ii'] =\n          Module['asm']['sqlite3_wasm_config_ii']).apply(null, arguments);\n      });\n\n    var _sqlite3_wasm_config_j = (Module['_sqlite3_wasm_config_j'] =\n      function () {\n        return (_sqlite3_wasm_config_j = Module['_sqlite3_wasm_config_j'] =\n          Module['asm']['sqlite3_wasm_config_j']).apply(null, arguments);\n      });\n\n    var _sqlite3_wasm_init_wasmfs = (Module['_sqlite3_wasm_init_wasmfs'] =\n      function () {\n        return (_sqlite3_wasm_init_wasmfs = Module[\n          '_sqlite3_wasm_init_wasmfs'\n        ] =\n          Module['asm']['sqlite3_wasm_init_wasmfs']).apply(null, arguments);\n      });\n\n    var _sqlite3_wasm_test_intptr = (Module['_sqlite3_wasm_test_intptr'] =\n      function () {\n        return (_sqlite3_wasm_test_intptr = Module[\n          '_sqlite3_wasm_test_intptr'\n        ] =\n          Module['asm']['sqlite3_wasm_test_intptr']).apply(null, arguments);\n      });\n\n    var _sqlite3_wasm_test_voidptr = (Module['_sqlite3_wasm_test_voidptr'] =\n      function () {\n        return (_sqlite3_wasm_test_voidptr = Module[\n          '_sqlite3_wasm_test_voidptr'\n        ] =\n          Module['asm']['sqlite3_wasm_test_voidptr']).apply(null, arguments);\n      });\n\n    var _sqlite3_wasm_test_int64_max = (Module['_sqlite3_wasm_test_int64_max'] =\n      function () {\n        return (_sqlite3_wasm_test_int64_max = Module[\n          '_sqlite3_wasm_test_int64_max'\n        ] =\n          Module['asm']['sqlite3_wasm_test_int64_max']).apply(null, arguments);\n      });\n\n    var _sqlite3_wasm_test_int64_min = (Module['_sqlite3_wasm_test_int64_min'] =\n      function () {\n        return (_sqlite3_wasm_test_int64_min = Module[\n          '_sqlite3_wasm_test_int64_min'\n        ] =\n          Module['asm']['sqlite3_wasm_test_int64_min']).apply(null, arguments);\n      });\n\n    var _sqlite3_wasm_test_int64_times2 = (Module[\n      '_sqlite3_wasm_test_int64_times2'\n    ] = function () {\n      return (_sqlite3_wasm_test_int64_times2 = Module[\n        '_sqlite3_wasm_test_int64_times2'\n      ] =\n        Module['asm']['sqlite3_wasm_test_int64_times2']).apply(null, arguments);\n    });\n\n    var _sqlite3_wasm_test_int64_minmax = (Module[\n      '_sqlite3_wasm_test_int64_minmax'\n    ] = function () {\n      return (_sqlite3_wasm_test_int64_minmax = Module[\n        '_sqlite3_wasm_test_int64_minmax'\n      ] =\n        Module['asm']['sqlite3_wasm_test_int64_minmax']).apply(null, arguments);\n    });\n\n    var _sqlite3_wasm_test_int64ptr = (Module['_sqlite3_wasm_test_int64ptr'] =\n      function () {\n        return (_sqlite3_wasm_test_int64ptr = Module[\n          '_sqlite3_wasm_test_int64ptr'\n        ] =\n          Module['asm']['sqlite3_wasm_test_int64ptr']).apply(null, arguments);\n      });\n\n    var _sqlite3_wasm_test_stack_overflow = (Module[\n      '_sqlite3_wasm_test_stack_overflow'\n    ] = function () {\n      return (_sqlite3_wasm_test_stack_overflow = Module[\n        '_sqlite3_wasm_test_stack_overflow'\n      ] =\n        Module['asm']['sqlite3_wasm_test_stack_overflow']).apply(\n        null,\n        arguments,\n      );\n    });\n\n    var _sqlite3_wasm_test_str_hello = (Module['_sqlite3_wasm_test_str_hello'] =\n      function () {\n        return (_sqlite3_wasm_test_str_hello = Module[\n          '_sqlite3_wasm_test_str_hello'\n        ] =\n          Module['asm']['sqlite3_wasm_test_str_hello']).apply(null, arguments);\n      });\n\n    var _sqlite3_wasm_SQLTester_strglob = (Module[\n      '_sqlite3_wasm_SQLTester_strglob'\n    ] = function () {\n      return (_sqlite3_wasm_SQLTester_strglob = Module[\n        '_sqlite3_wasm_SQLTester_strglob'\n      ] =\n        Module['asm']['sqlite3_wasm_SQLTester_strglob']).apply(null, arguments);\n    });\n\n    var _malloc = (Module['_malloc'] = function () {\n      return (_malloc = Module['_malloc'] = Module['asm']['malloc']).apply(\n        null,\n        arguments,\n      );\n    });\n\n    var _free = (Module['_free'] = function () {\n      return (_free = Module['_free'] = Module['asm']['free']).apply(\n        null,\n        arguments,\n      );\n    });\n\n    var _realloc = (Module['_realloc'] = function () {\n      return (_realloc = Module['_realloc'] = Module['asm']['realloc']).apply(\n        null,\n        arguments,\n      );\n    });\n\n    var _emscripten_builtin_memalign = (Module['_emscripten_builtin_memalign'] =\n      function () {\n        return (_emscripten_builtin_memalign = Module[\n          '_emscripten_builtin_memalign'\n        ] =\n          Module['asm']['emscripten_builtin_memalign']).apply(null, arguments);\n      });\n\n    var stackSave = (Module['stackSave'] = function () {\n      return (stackSave = Module['stackSave'] =\n        Module['asm']['stackSave']).apply(null, arguments);\n    });\n\n    var stackRestore = (Module['stackRestore'] = function () {\n      return (stackRestore = Module['stackRestore'] =\n        Module['asm']['stackRestore']).apply(null, arguments);\n    });\n\n    var stackAlloc = (Module['stackAlloc'] = function () {\n      return (stackAlloc = Module['stackAlloc'] =\n        Module['asm']['stackAlloc']).apply(null, arguments);\n    });\n\n    Module['wasmMemory'] = wasmMemory;\n\n    var calledRun;\n\n    dependenciesFulfilled = function runCaller() {\n      if (!calledRun) run();\n      if (!calledRun) dependenciesFulfilled = runCaller;\n    };\n\n    function run(args) {\n      args = args || arguments_;\n\n      if (runDependencies > 0) {\n        return;\n      }\n\n      preRun();\n\n      if (runDependencies > 0) {\n        return;\n      }\n\n      function doRun() {\n        if (calledRun) return;\n        calledRun = true;\n        Module['calledRun'] = true;\n\n        if (ABORT) return;\n\n        initRuntime();\n\n        readyPromiseResolve(Module);\n        if (Module['onRuntimeInitialized']) Module['onRuntimeInitialized']();\n\n        postRun();\n      }\n\n      if (Module['setStatus']) {\n        Module['setStatus']('Running...');\n        setTimeout(function () {\n          setTimeout(function () {\n            Module['setStatus']('');\n          }, 1);\n          doRun();\n        }, 1);\n      } else {\n        doRun();\n      }\n    }\n\n    if (Module['preInit']) {\n      if (typeof Module['preInit'] == 'function')\n        Module['preInit'] = [Module['preInit']];\n      while (Module['preInit'].length > 0) {\n        Module['preInit'].pop()();\n      }\n    }\n\n    run();\n\n    if (!Module.postRun) Module.postRun = [];\n    Module.postRun.push(function (Module) {\n      'use strict';\n\n      'use strict';\n      globalThis.sqlite3ApiBootstrap = function sqlite3ApiBootstrap(\n        apiConfig = globalThis.sqlite3ApiConfig ||\n          sqlite3ApiBootstrap.defaultConfig,\n      ) {\n        if (sqlite3ApiBootstrap.sqlite3) {\n          console.warn(\n            'sqlite3ApiBootstrap() called multiple times.',\n            'Config and external initializers are ignored on calls after the first.',\n          );\n          return sqlite3ApiBootstrap.sqlite3;\n        }\n        const config = Object.assign(\n          Object.create(null),\n          {\n            exports: undefined,\n            memory: undefined,\n            bigIntEnabled: (() => {\n              if ('undefined' !== typeof Module) {\n                return !!Module.HEAPU64;\n              }\n              return !!globalThis.BigInt64Array;\n            })(),\n            debug: console.debug.bind(console),\n            warn: console.warn.bind(console),\n            error: console.error.bind(console),\n            log: console.log.bind(console),\n            wasmfsOpfsDir: '/opfs',\n\n            useStdAlloc: false,\n          },\n          apiConfig || {},\n        );\n\n        Object.assign(\n          config,\n          {\n            allocExportName: config.useStdAlloc ? 'malloc' : 'sqlite3_malloc',\n            deallocExportName: config.useStdAlloc ? 'free' : 'sqlite3_free',\n            reallocExportName: config.useStdAlloc\n              ? 'realloc'\n              : 'sqlite3_realloc',\n          },\n          config,\n        );\n\n        ['exports', 'memory', 'wasmfsOpfsDir'].forEach((k) => {\n          if ('function' === typeof config[k]) {\n            config[k] = config[k]();\n          }\n        });\n\n        const capi = Object.create(null);\n\n        const wasm = Object.create(null);\n\n        const __rcStr = (rc) => {\n          return (\n            (capi.sqlite3_js_rc_str && capi.sqlite3_js_rc_str(rc)) ||\n            'Unknown result code #' + rc\n          );\n        };\n\n        const __isInt = (n) => 'number' === typeof n && n === (n | 0);\n\n        class SQLite3Error extends Error {\n          constructor(...args) {\n            let rc;\n            if (args.length) {\n              if (__isInt(args[0])) {\n                rc = args[0];\n                if (1 === args.length) {\n                  super(__rcStr(args[0]));\n                } else {\n                  const rcStr = __rcStr(rc);\n                  if ('object' === typeof args[1]) {\n                    super(rcStr, args[1]);\n                  } else {\n                    args[0] = rcStr + ':';\n                    super(args.join(' '));\n                  }\n                }\n              } else {\n                if (2 === args.length && 'object' === typeof args[1]) {\n                  super(...args);\n                } else {\n                  super(args.join(' '));\n                }\n              }\n            }\n            this.resultCode = rc || capi.SQLITE_ERROR;\n            this.name = 'SQLite3Error';\n          }\n        }\n\n        SQLite3Error.toss = (...args) => {\n          throw new SQLite3Error(...args);\n        };\n        const toss3 = SQLite3Error.toss;\n\n        if (config.wasmfsOpfsDir && !/^\\/[^/]+$/.test(config.wasmfsOpfsDir)) {\n          toss3(\n            \"config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.\",\n          );\n        }\n\n        const isInt32 = (n) => {\n          return (\n            'bigint' !== typeof n &&\n            !!(n === (n | 0) && n <= 2147483647 && n >= -2147483648)\n          );\n        };\n\n        const bigIntFits64 = function f(b) {\n          if (!f._max) {\n            f._max = BigInt('0x7fffffffffffffff');\n            f._min = ~f._max;\n          }\n          return b >= f._min && b <= f._max;\n        };\n\n        const bigIntFits32 = (b) => b >= -0x7fffffffn - 1n && b <= 0x7fffffffn;\n\n        const bigIntFitsDouble = function f(b) {\n          if (!f._min) {\n            f._min = Number.MIN_SAFE_INTEGER;\n            f._max = Number.MAX_SAFE_INTEGER;\n          }\n          return b >= f._min && b <= f._max;\n        };\n\n        const isTypedArray = (v) => {\n          return v && v.constructor && isInt32(v.constructor.BYTES_PER_ELEMENT)\n            ? v\n            : false;\n        };\n\n        const __SAB =\n          'undefined' === typeof SharedArrayBuffer\n            ? function () {}\n            : SharedArrayBuffer;\n\n        const isSharedTypedArray = (aTypedArray) =>\n          aTypedArray.buffer instanceof __SAB;\n\n        const typedArrayPart = (aTypedArray, begin, end) => {\n          return isSharedTypedArray(aTypedArray)\n            ? aTypedArray.slice(begin, end)\n            : aTypedArray.subarray(begin, end);\n        };\n\n        const isBindableTypedArray = (v) => {\n          return (\n            v &&\n            (v instanceof Uint8Array ||\n              v instanceof Int8Array ||\n              v instanceof ArrayBuffer)\n          );\n        };\n\n        const isSQLableTypedArray = (v) => {\n          return (\n            v &&\n            (v instanceof Uint8Array ||\n              v instanceof Int8Array ||\n              v instanceof ArrayBuffer)\n          );\n        };\n\n        const affirmBindableTypedArray = (v) => {\n          return (\n            isBindableTypedArray(v) ||\n            toss3('Value is not of a supported TypedArray type.')\n          );\n        };\n\n        const utf8Decoder = new TextDecoder('utf-8');\n\n        const typedArrayToString = function (typedArray, begin, end) {\n          return utf8Decoder.decode(typedArrayPart(typedArray, begin, end));\n        };\n\n        const flexibleString = function (v) {\n          if (isSQLableTypedArray(v)) {\n            return typedArrayToString(\n              v instanceof ArrayBuffer ? new Uint8Array(v) : v,\n            );\n          } else if (Array.isArray(v)) return v.join('');\n          else if (wasm.isPtr(v)) v = wasm.cstrToJs(v);\n          return v;\n        };\n\n        class WasmAllocError extends Error {\n          constructor(...args) {\n            if (2 === args.length && 'object' === typeof args[1]) {\n              super(...args);\n            } else if (args.length) {\n              super(args.join(' '));\n            } else {\n              super('Allocation failed.');\n            }\n            this.resultCode = capi.SQLITE_NOMEM;\n            this.name = 'WasmAllocError';\n          }\n        }\n\n        WasmAllocError.toss = (...args) => {\n          throw new WasmAllocError(...args);\n        };\n\n        Object.assign(capi, {\n          sqlite3_bind_blob: undefined,\n\n          sqlite3_bind_text: undefined,\n\n          sqlite3_create_function_v2: (\n            pDb,\n            funcName,\n            nArg,\n            eTextRep,\n            pApp,\n            xFunc,\n            xStep,\n            xFinal,\n            xDestroy,\n          ) => {},\n\n          sqlite3_create_function: (\n            pDb,\n            funcName,\n            nArg,\n            eTextRep,\n            pApp,\n            xFunc,\n            xStep,\n            xFinal,\n          ) => {},\n\n          sqlite3_create_window_function: (\n            pDb,\n            funcName,\n            nArg,\n            eTextRep,\n            pApp,\n            xStep,\n            xFinal,\n            xValue,\n            xInverse,\n            xDestroy,\n          ) => {},\n\n          sqlite3_prepare_v3: (\n            dbPtr,\n            sql,\n            sqlByteLen,\n            prepFlags,\n            stmtPtrPtr,\n            strPtrPtr,\n          ) => {},\n\n          sqlite3_prepare_v2: (\n            dbPtr,\n            sql,\n            sqlByteLen,\n            stmtPtrPtr,\n            strPtrPtr,\n          ) => {},\n\n          sqlite3_exec: (pDb, sql, callback, pVoid, pErrMsg) => {},\n\n          sqlite3_randomness: (n, outPtr) => {},\n        });\n\n        const util = {\n          affirmBindableTypedArray,\n          flexibleString,\n          bigIntFits32,\n          bigIntFits64,\n          bigIntFitsDouble,\n          isBindableTypedArray,\n          isInt32,\n          isSQLableTypedArray,\n          isTypedArray,\n          typedArrayToString,\n          isUIThread: () =>\n            globalThis.window === globalThis && !!globalThis.document,\n\n          isSharedTypedArray,\n          toss: function (...args) {\n            throw new Error(args.join(' '));\n          },\n          toss3,\n          typedArrayPart,\n\n          affirmDbHeader: function (bytes) {\n            if (bytes instanceof ArrayBuffer) bytes = new Uint8Array(bytes);\n            const header = 'SQLite format 3';\n            if (header.length > bytes.byteLength) {\n              toss3('Input does not contain an SQLite3 database header.');\n            }\n            for (let i = 0; i < header.length; ++i) {\n              if (header.charCodeAt(i) !== bytes[i]) {\n                toss3('Input does not contain an SQLite3 database header.');\n              }\n            }\n          },\n\n          affirmIsDb: function (bytes) {\n            if (bytes instanceof ArrayBuffer) bytes = new Uint8Array(bytes);\n            const n = bytes.byteLength;\n            if (n < 512 || n % 512 !== 0) {\n              toss3('Byte array size', n, 'is invalid for an SQLite3 db.');\n            }\n            util.affirmDbHeader(bytes);\n          },\n        };\n\n        Object.assign(wasm, {\n          ptrSizeof: config.wasmPtrSizeof || 4,\n\n          ptrIR: config.wasmPtrIR || 'i32',\n\n          bigIntEnabled: !!config.bigIntEnabled,\n\n          exports:\n            config.exports ||\n            toss3('Missing API config.exports (WASM module exports).'),\n\n          memory:\n            config.memory ||\n            config.exports['memory'] ||\n            toss3(\n              'API config object requires a WebAssembly.Memory object',\n              'in either config.exports.memory (exported)',\n              'or config.memory (imported).',\n            ),\n\n          alloc: undefined,\n\n          realloc: undefined,\n\n          dealloc: undefined,\n        });\n\n        wasm.allocFromTypedArray = function (srcTypedArray) {\n          if (srcTypedArray instanceof ArrayBuffer) {\n            srcTypedArray = new Uint8Array(srcTypedArray);\n          }\n          affirmBindableTypedArray(srcTypedArray);\n          const pRet = wasm.alloc(srcTypedArray.byteLength || 1);\n          wasm\n            .heapForSize(srcTypedArray.constructor)\n            .set(srcTypedArray.byteLength ? srcTypedArray : [0], pRet);\n          return pRet;\n        };\n\n        {\n          const keyAlloc = config.allocExportName,\n            keyDealloc = config.deallocExportName,\n            keyRealloc = config.reallocExportName;\n          for (const key of [keyAlloc, keyDealloc, keyRealloc]) {\n            const f = wasm.exports[key];\n            if (!(f instanceof Function))\n              toss3('Missing required exports[', key, '] function.');\n          }\n\n          wasm.alloc = function f(n) {\n            return (\n              f.impl(n) ||\n              WasmAllocError.toss('Failed to allocate', n, ' bytes.')\n            );\n          };\n          wasm.alloc.impl = wasm.exports[keyAlloc];\n          wasm.realloc = function f(m, n) {\n            const m2 = f.impl(m, n);\n            return n\n              ? m2 || WasmAllocError.toss('Failed to reallocate', n, ' bytes.')\n              : 0;\n          };\n          wasm.realloc.impl = wasm.exports[keyRealloc];\n          wasm.dealloc = wasm.exports[keyDealloc];\n        }\n\n        wasm.compileOptionUsed = function f(optName) {\n          if (!arguments.length) {\n            if (f._result) return f._result;\n            else if (!f._opt) {\n              f._rx = /^([^=]+)=(.+)/;\n              f._rxInt = /^-?\\d+$/;\n              f._opt = function (opt, rv) {\n                const m = f._rx.exec(opt);\n                rv[0] = m ? m[1] : opt;\n                rv[1] = m ? (f._rxInt.test(m[2]) ? +m[2] : m[2]) : true;\n              };\n            }\n            const rc = {},\n              ov = [0, 0];\n            let i = 0,\n              k;\n            while ((k = capi.sqlite3_compileoption_get(i++))) {\n              f._opt(k, ov);\n              rc[ov[0]] = ov[1];\n            }\n            return (f._result = rc);\n          } else if (Array.isArray(optName)) {\n            const rc = {};\n            optName.forEach((v) => {\n              rc[v] = capi.sqlite3_compileoption_used(v);\n            });\n            return rc;\n          } else if ('object' === typeof optName) {\n            Object.keys(optName).forEach((k) => {\n              optName[k] = capi.sqlite3_compileoption_used(k);\n            });\n            return optName;\n          }\n          return 'string' === typeof optName\n            ? !!capi.sqlite3_compileoption_used(optName)\n            : false;\n        };\n\n        wasm.pstack = Object.assign(Object.create(null), {\n          restore: wasm.exports.sqlite3_wasm_pstack_restore,\n\n          alloc: function (n) {\n            if ('string' === typeof n && !(n = wasm.sizeofIR(n))) {\n              WasmAllocError.toss(\n                'Invalid value for pstack.alloc(',\n                arguments[0],\n                ')',\n              );\n            }\n            return (\n              wasm.exports.sqlite3_wasm_pstack_alloc(n) ||\n              WasmAllocError.toss(\n                'Could not allocate',\n                n,\n                'bytes from the pstack.',\n              )\n            );\n          },\n\n          allocChunks: function (n, sz) {\n            if ('string' === typeof sz && !(sz = wasm.sizeofIR(sz))) {\n              WasmAllocError.toss(\n                'Invalid size value for allocChunks(',\n                arguments[1],\n                ')',\n              );\n            }\n            const mem = wasm.pstack.alloc(n * sz);\n            const rc = [];\n            let i = 0,\n              offset = 0;\n            for (; i < n; ++i, offset += sz) rc.push(mem + offset);\n            return rc;\n          },\n\n          allocPtr: (n = 1, safePtrSize = true) => {\n            return 1 === n\n              ? wasm.pstack.alloc(safePtrSize ? 8 : wasm.ptrSizeof)\n              : wasm.pstack.allocChunks(n, safePtrSize ? 8 : wasm.ptrSizeof);\n          },\n\n          call: function (f) {\n            const stackPos = wasm.pstack.pointer;\n            try {\n              return f(sqlite3);\n            } finally {\n              wasm.pstack.restore(stackPos);\n            }\n          },\n        });\n        Object.defineProperties(wasm.pstack, {\n          pointer: {\n            configurable: false,\n            iterable: true,\n            writeable: false,\n            get: wasm.exports.sqlite3_wasm_pstack_ptr,\n          },\n\n          quota: {\n            configurable: false,\n            iterable: true,\n            writeable: false,\n            get: wasm.exports.sqlite3_wasm_pstack_quota,\n          },\n\n          remaining: {\n            configurable: false,\n            iterable: true,\n            writeable: false,\n            get: wasm.exports.sqlite3_wasm_pstack_remaining,\n          },\n        });\n\n        capi.sqlite3_randomness = (...args) => {\n          if (\n            1 === args.length &&\n            util.isTypedArray(args[0]) &&\n            1 === args[0].BYTES_PER_ELEMENT\n          ) {\n            const ta = args[0];\n            if (0 === ta.byteLength) {\n              wasm.exports.sqlite3_randomness(0, 0);\n              return ta;\n            }\n            const stack = wasm.pstack.pointer;\n            try {\n              let n = ta.byteLength,\n                offset = 0;\n              const r = wasm.exports.sqlite3_randomness;\n              const heap = wasm.heap8u();\n              const nAlloc = n < 512 ? n : 512;\n              const ptr = wasm.pstack.alloc(nAlloc);\n              do {\n                const j = n > nAlloc ? nAlloc : n;\n                r(j, ptr);\n                ta.set(typedArrayPart(heap, ptr, ptr + j), offset);\n                n -= j;\n                offset += j;\n              } while (n > 0);\n            } catch (e) {\n              console.error(\n                'Highly unexpected (and ignored!) ' +\n                  'exception in sqlite3_randomness():',\n                e,\n              );\n            } finally {\n              wasm.pstack.restore(stack);\n            }\n            return ta;\n          }\n          wasm.exports.sqlite3_randomness(...args);\n        };\n\n        let __wasmfsOpfsDir = undefined;\n\n        capi.sqlite3_wasmfs_opfs_dir = function () {\n          if (undefined !== __wasmfsOpfsDir) return __wasmfsOpfsDir;\n\n          const pdir = config.wasmfsOpfsDir;\n          if (\n            !pdir ||\n            !globalThis.FileSystemHandle ||\n            !globalThis.FileSystemDirectoryHandle ||\n            !globalThis.FileSystemFileHandle\n          ) {\n            return (__wasmfsOpfsDir = '');\n          }\n          try {\n            if (\n              pdir &&\n              0 ===\n                wasm.xCallWrapped(\n                  'sqlite3_wasm_init_wasmfs',\n                  'i32',\n                  ['string'],\n                  pdir,\n                )\n            ) {\n              return (__wasmfsOpfsDir = pdir);\n            } else {\n              return (__wasmfsOpfsDir = '');\n            }\n          } catch (e) {\n            return (__wasmfsOpfsDir = '');\n          }\n        };\n\n        capi.sqlite3_wasmfs_filename_is_persistent = function (name) {\n          const p = capi.sqlite3_wasmfs_opfs_dir();\n          return p && name ? name.startsWith(p + '/') : false;\n        };\n\n        capi.sqlite3_js_db_uses_vfs = function (pDb, vfsName, dbName = 0) {\n          try {\n            const pK = capi.sqlite3_vfs_find(vfsName);\n            if (!pK) return false;\n            else if (!pDb) {\n              return pK === capi.sqlite3_vfs_find(0) ? pK : false;\n            } else {\n              return pK === capi.sqlite3_js_db_vfs(pDb, dbName) ? pK : false;\n            }\n          } catch (e) {\n            return false;\n          }\n        };\n\n        capi.sqlite3_js_vfs_list = function () {\n          const rc = [];\n          let pVfs = capi.sqlite3_vfs_find(0);\n          while (pVfs) {\n            const oVfs = new capi.sqlite3_vfs(pVfs);\n            rc.push(wasm.cstrToJs(oVfs.$zName));\n            pVfs = oVfs.$pNext;\n            oVfs.dispose();\n          }\n          return rc;\n        };\n\n        capi.sqlite3_js_db_export = function (pDb, schema = 0) {\n          pDb = wasm.xWrap.testConvertArg('sqlite3*', pDb);\n          if (!pDb) toss3('Invalid sqlite3* argument.');\n          if (!wasm.bigIntEnabled) toss3('BigInt64 support is not enabled.');\n          const scope = wasm.scopedAllocPush();\n          let pOut;\n          try {\n            const pSize = wasm.scopedAlloc(8 + wasm.ptrSizeof);\n            const ppOut = pSize + 8;\n\n            const zSchema = schema\n              ? wasm.isPtr(schema)\n                ? schema\n                : wasm.scopedAllocCString('' + schema)\n              : 0;\n            let rc = wasm.exports.sqlite3_wasm_db_serialize(\n              pDb,\n              zSchema,\n              ppOut,\n              pSize,\n              0,\n            );\n            if (rc) {\n              toss3(\n                'Database serialization failed with code',\n                sqlite3.capi.sqlite3_js_rc_str(rc),\n              );\n            }\n            pOut = wasm.peekPtr(ppOut);\n            const nOut = wasm.peek(pSize, 'i64');\n            rc = nOut\n              ? wasm.heap8u().slice(pOut, pOut + Number(nOut))\n              : new Uint8Array();\n            return rc;\n          } finally {\n            if (pOut) wasm.exports.sqlite3_free(pOut);\n            wasm.scopedAllocPop(scope);\n          }\n        };\n\n        capi.sqlite3_js_db_vfs = (dbPointer, dbName = 0) =>\n          wasm.sqlite3_wasm_db_vfs(dbPointer, dbName);\n\n        capi.sqlite3_js_aggregate_context = (pCtx, n) => {\n          return (\n            capi.sqlite3_aggregate_context(pCtx, n) ||\n            (n\n              ? WasmAllocError.toss(\n                  'Cannot allocate',\n                  n,\n                  'bytes for sqlite3_aggregate_context()',\n                )\n              : 0)\n          );\n        };\n\n        capi.sqlite3_js_posix_create_file = function (filename, data, dataLen) {\n          let pData;\n          if (data && wasm.isPtr(data)) {\n            pData = data;\n          } else if (\n            data instanceof ArrayBuffer ||\n            data instanceof Uint8Array\n          ) {\n            pData = wasm.allocFromTypedArray(data);\n            if (arguments.length < 3 || !util.isInt32(dataLen) || dataLen < 0) {\n              dataLen = data.byteLength;\n            }\n          } else {\n            SQLite3Error.toss(\n              'Invalid 2nd argument for sqlite3_js_posix_create_file().',\n            );\n          }\n          try {\n            if (!util.isInt32(dataLen) || dataLen < 0) {\n              SQLite3Error.toss(\n                'Invalid 3rd argument for sqlite3_js_posix_create_file().',\n              );\n            }\n            const rc = wasm.sqlite3_wasm_posix_create_file(\n              filename,\n              pData,\n              dataLen,\n            );\n            if (rc)\n              SQLite3Error.toss(\n                'Creation of file failed with sqlite3 result code',\n                capi.sqlite3_js_rc_str(rc),\n              );\n          } finally {\n            wasm.dealloc(pData);\n          }\n        };\n\n        capi.sqlite3_js_vfs_create_file = function (\n          vfs,\n          filename,\n          data,\n          dataLen,\n        ) {\n          config.warn(\n            'sqlite3_js_vfs_create_file() is deprecated and',\n            'should be avoided because it can lead to C-level crashes.',\n            'See its documentation for alternative options.',\n          );\n          let pData;\n          if (data) {\n            if (wasm.isPtr(data)) {\n              pData = data;\n            } else if (data instanceof ArrayBuffer) {\n              data = new Uint8Array(data);\n            }\n            if (data instanceof Uint8Array) {\n              pData = wasm.allocFromTypedArray(data);\n              if (\n                arguments.length < 4 ||\n                !util.isInt32(dataLen) ||\n                dataLen < 0\n              ) {\n                dataLen = data.byteLength;\n              }\n            } else {\n              SQLite3Error.toss(\n                'Invalid 3rd argument type for sqlite3_js_vfs_create_file().',\n              );\n            }\n          } else {\n            pData = 0;\n          }\n          if (!util.isInt32(dataLen) || dataLen < 0) {\n            wasm.dealloc(pData);\n            SQLite3Error.toss(\n              'Invalid 4th argument for sqlite3_js_vfs_create_file().',\n            );\n          }\n          try {\n            const rc = wasm.sqlite3_wasm_vfs_create_file(\n              vfs,\n              filename,\n              pData,\n              dataLen,\n            );\n            if (rc)\n              SQLite3Error.toss(\n                'Creation of file failed with sqlite3 result code',\n                capi.sqlite3_js_rc_str(rc),\n              );\n          } finally {\n            wasm.dealloc(pData);\n          }\n        };\n\n        capi.sqlite3_js_sql_to_string = (sql) => {\n          if ('string' === typeof sql) {\n            return sql;\n          }\n          const x = flexibleString(v);\n          return x === v ? undefined : x;\n        };\n\n        if (util.isUIThread()) {\n          const __kvvfsInfo = function (which) {\n            const rc = Object.create(null);\n            rc.prefix = 'kvvfs-' + which;\n            rc.stores = [];\n            if ('session' === which || '' === which)\n              rc.stores.push(globalThis.sessionStorage);\n            if ('local' === which || '' === which)\n              rc.stores.push(globalThis.localStorage);\n            return rc;\n          };\n\n          capi.sqlite3_js_kvvfs_clear = function (which = '') {\n            let rc = 0;\n            const kvinfo = __kvvfsInfo(which);\n            kvinfo.stores.forEach((s) => {\n              const toRm = [];\n              let i;\n              for (i = 0; i < s.length; ++i) {\n                const k = s.key(i);\n                if (k.startsWith(kvinfo.prefix)) toRm.push(k);\n              }\n              toRm.forEach((kk) => s.removeItem(kk));\n              rc += toRm.length;\n            });\n            return rc;\n          };\n\n          capi.sqlite3_js_kvvfs_size = function (which = '') {\n            let sz = 0;\n            const kvinfo = __kvvfsInfo(which);\n            kvinfo.stores.forEach((s) => {\n              let i;\n              for (i = 0; i < s.length; ++i) {\n                const k = s.key(i);\n                if (k.startsWith(kvinfo.prefix)) {\n                  sz += k.length;\n                  sz += s.getItem(k).length;\n                }\n              }\n            });\n            return sz * 2;\n          };\n        }\n\n        capi.sqlite3_db_config = function (pDb, op, ...args) {\n          if (!this.s) {\n            this.s = wasm.xWrap('sqlite3_wasm_db_config_s', 'int', [\n              'sqlite3*',\n              'int',\n              'string:static',\n            ]);\n            this.pii = wasm.xWrap('sqlite3_wasm_db_config_pii', 'int', [\n              'sqlite3*',\n              'int',\n              '*',\n              'int',\n              'int',\n            ]);\n            this.ip = wasm.xWrap('sqlite3_wasm_db_config_ip', 'int', [\n              'sqlite3*',\n              'int',\n              'int',\n              '*',\n            ]);\n          }\n          switch (op) {\n            case capi.SQLITE_DBCONFIG_ENABLE_FKEY:\n            case capi.SQLITE_DBCONFIG_ENABLE_TRIGGER:\n            case capi.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:\n            case capi.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:\n            case capi.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:\n            case capi.SQLITE_DBCONFIG_ENABLE_QPSG:\n            case capi.SQLITE_DBCONFIG_TRIGGER_EQP:\n            case capi.SQLITE_DBCONFIG_RESET_DATABASE:\n            case capi.SQLITE_DBCONFIG_DEFENSIVE:\n            case capi.SQLITE_DBCONFIG_WRITABLE_SCHEMA:\n            case capi.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:\n            case capi.SQLITE_DBCONFIG_DQS_DML:\n            case capi.SQLITE_DBCONFIG_DQS_DDL:\n            case capi.SQLITE_DBCONFIG_ENABLE_VIEW:\n            case capi.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:\n            case capi.SQLITE_DBCONFIG_TRUSTED_SCHEMA:\n            case capi.SQLITE_DBCONFIG_STMT_SCANSTATUS:\n            case capi.SQLITE_DBCONFIG_REVERSE_SCANORDER:\n              return this.ip(pDb, op, args[0], args[1] || 0);\n            case capi.SQLITE_DBCONFIG_LOOKASIDE:\n              return this.pii(pDb, op, args[0], args[1], args[2]);\n            case capi.SQLITE_DBCONFIG_MAINDBNAME:\n              return this.s(pDb, op, args[0]);\n            default:\n              return capi.SQLITE_MISUSE;\n          }\n        }.bind(Object.create(null));\n\n        capi.sqlite3_value_to_js = function (\n          pVal,\n          throwIfCannotConvert = true,\n        ) {\n          let arg;\n          const valType = capi.sqlite3_value_type(pVal);\n          switch (valType) {\n            case capi.SQLITE_INTEGER:\n              if (wasm.bigIntEnabled) {\n                arg = capi.sqlite3_value_int64(pVal);\n                if (util.bigIntFitsDouble(arg)) arg = Number(arg);\n              } else arg = capi.sqlite3_value_double(pVal);\n              break;\n            case capi.SQLITE_FLOAT:\n              arg = capi.sqlite3_value_double(pVal);\n              break;\n            case capi.SQLITE_TEXT:\n              arg = capi.sqlite3_value_text(pVal);\n              break;\n            case capi.SQLITE_BLOB: {\n              const n = capi.sqlite3_value_bytes(pVal);\n              const pBlob = capi.sqlite3_value_blob(pVal);\n              if (n && !pBlob)\n                sqlite3.WasmAllocError.toss(\n                  'Cannot allocate memory for blob argument of',\n                  n,\n                  'byte(s)',\n                );\n              arg = n ? wasm.heap8u().slice(pBlob, pBlob + Number(n)) : null;\n              break;\n            }\n            case capi.SQLITE_NULL:\n              arg = null;\n              break;\n            default:\n              if (throwIfCannotConvert) {\n                toss3(\n                  capi.SQLITE_MISMATCH,\n                  'Unhandled sqlite3_value_type():',\n                  valType,\n                );\n              }\n              arg = undefined;\n          }\n          return arg;\n        };\n\n        capi.sqlite3_values_to_js = function (\n          argc,\n          pArgv,\n          throwIfCannotConvert = true,\n        ) {\n          let i;\n          const tgt = [];\n          for (i = 0; i < argc; ++i) {\n            tgt.push(\n              capi.sqlite3_value_to_js(\n                wasm.peekPtr(pArgv + wasm.ptrSizeof * i),\n                throwIfCannotConvert,\n              ),\n            );\n          }\n          return tgt;\n        };\n\n        capi.sqlite3_result_error_js = function (pCtx, e) {\n          if (e instanceof WasmAllocError) {\n            capi.sqlite3_result_error_nomem(pCtx);\n          } else {\n            capi.sqlite3_result_error(pCtx, '' + e, -1);\n          }\n        };\n\n        capi.sqlite3_result_js = function (pCtx, val) {\n          if (val instanceof Error) {\n            capi.sqlite3_result_error_js(pCtx, val);\n            return;\n          }\n          try {\n            switch (typeof val) {\n              case 'undefined':\n                break;\n              case 'boolean':\n                capi.sqlite3_result_int(pCtx, val ? 1 : 0);\n                break;\n              case 'bigint':\n                if (util.bigIntFits32(val)) {\n                  capi.sqlite3_result_int(pCtx, Number(val));\n                } else if (util.bigIntFitsDouble(val)) {\n                  capi.sqlite3_result_double(pCtx, Number(val));\n                } else if (wasm.bigIntEnabled) {\n                  if (util.bigIntFits64(val))\n                    capi.sqlite3_result_int64(pCtx, val);\n                  else\n                    toss3(\n                      'BigInt value',\n                      val.toString(),\n                      'is too BigInt for int64.',\n                    );\n                } else {\n                  toss3('BigInt value', val.toString(), 'is too BigInt.');\n                }\n                break;\n              case 'number': {\n                let f;\n                if (util.isInt32(val)) {\n                  f = capi.sqlite3_result_int;\n                } else if (\n                  wasm.bigIntEnabled &&\n                  Number.isInteger(val) &&\n                  util.bigIntFits64(BigInt(val))\n                ) {\n                  f = capi.sqlite3_result_int64;\n                } else {\n                  f = capi.sqlite3_result_double;\n                }\n                f(pCtx, val);\n                break;\n              }\n              case 'string': {\n                const [p, n] = wasm.allocCString(val, true);\n                capi.sqlite3_result_text(pCtx, p, n, capi.SQLITE_WASM_DEALLOC);\n                break;\n              }\n              case 'object':\n                if (null === val) {\n                  capi.sqlite3_result_null(pCtx);\n                  break;\n                } else if (util.isBindableTypedArray(val)) {\n                  const pBlob = wasm.allocFromTypedArray(val);\n                  capi.sqlite3_result_blob(\n                    pCtx,\n                    pBlob,\n                    val.byteLength,\n                    capi.SQLITE_WASM_DEALLOC,\n                  );\n                  break;\n                }\n\n              default:\n                toss3(\n                  \"Don't not how to handle this UDF result value:\",\n                  typeof val,\n                  val,\n                );\n            }\n          } catch (e) {\n            capi.sqlite3_result_error_js(pCtx, e);\n          }\n        };\n\n        capi.sqlite3_column_js = function (\n          pStmt,\n          iCol,\n          throwIfCannotConvert = true,\n        ) {\n          const v = capi.sqlite3_column_value(pStmt, iCol);\n          return 0 === v\n            ? undefined\n            : capi.sqlite3_value_to_js(v, throwIfCannotConvert);\n        };\n\n        const __newOldValue = function (pObj, iCol, impl) {\n          impl = capi[impl];\n          if (!this.ptr) this.ptr = wasm.allocPtr();\n          else wasm.pokePtr(this.ptr, 0);\n          const rc = impl(pObj, iCol, this.ptr);\n          if (rc)\n            return SQLite3Error.toss(\n              rc,\n              arguments[2] + '() failed with code ' + rc,\n            );\n          const pv = wasm.peekPtr(this.ptr);\n          return pv ? capi.sqlite3_value_to_js(pv, true) : undefined;\n        }.bind(Object.create(null));\n\n        capi.sqlite3_preupdate_new_js = (pDb, iCol) =>\n          __newOldValue(pDb, iCol, 'sqlite3_preupdate_new');\n\n        capi.sqlite3_preupdate_old_js = (pDb, iCol) =>\n          __newOldValue(pDb, iCol, 'sqlite3_preupdate_old');\n\n        capi.sqlite3changeset_new_js = (pChangesetIter, iCol) =>\n          __newOldValue(pChangesetIter, iCol, 'sqlite3changeset_new');\n\n        capi.sqlite3changeset_old_js = (pChangesetIter, iCol) =>\n          __newOldValue(pChangesetIter, iCol, 'sqlite3changeset_old');\n\n        const sqlite3 = {\n          WasmAllocError: WasmAllocError,\n          SQLite3Error: SQLite3Error,\n          capi,\n          util,\n          wasm,\n          config,\n\n          version: Object.create(null),\n\n          client: undefined,\n\n          asyncPostInit: async function ff() {\n            if (ff.isReady instanceof Promise) return ff.isReady;\n            let lia = sqlite3ApiBootstrap.initializersAsync;\n            delete sqlite3ApiBootstrap.initializersAsync;\n            const postInit = async () => {\n              if (!sqlite3.__isUnderTest) {\n                delete sqlite3.util;\n\n                delete sqlite3.StructBinder;\n              }\n              return sqlite3;\n            };\n            const catcher = (e) => {\n              config.error('an async sqlite3 initializer failed:', e);\n              throw e;\n            };\n            if (!lia || !lia.length) {\n              return (ff.isReady = postInit().catch(catcher));\n            }\n            lia = lia.map((f) => {\n              return f instanceof Function ? async (x) => f(sqlite3) : f;\n            });\n            lia.push(postInit);\n            let p = Promise.resolve(sqlite3);\n            while (lia.length) p = p.then(lia.shift());\n            return (ff.isReady = p.catch(catcher));\n          },\n\n          scriptInfo: undefined,\n        };\n        try {\n          sqlite3ApiBootstrap.initializers.forEach((f) => {\n            f(sqlite3);\n          });\n        } catch (e) {\n          console.error('sqlite3 bootstrap initializer threw:', e);\n          throw e;\n        }\n        delete sqlite3ApiBootstrap.initializers;\n        sqlite3ApiBootstrap.sqlite3 = sqlite3;\n        return sqlite3;\n      };\n\n      globalThis.sqlite3ApiBootstrap.initializers = [];\n\n      globalThis.sqlite3ApiBootstrap.initializersAsync = [];\n\n      globalThis.sqlite3ApiBootstrap.defaultConfig = Object.create(null);\n\n      globalThis.sqlite3ApiBootstrap.sqlite3 = undefined;\n\n      globalThis.WhWasmUtilInstaller = function (target) {\n        'use strict';\n        if (undefined === target.bigIntEnabled) {\n          target.bigIntEnabled = !!globalThis['BigInt64Array'];\n        }\n\n        const toss = (...args) => {\n          throw new Error(args.join(' '));\n        };\n\n        if (!target.exports) {\n          Object.defineProperty(target, 'exports', {\n            enumerable: true,\n            configurable: true,\n            get: () => target.instance && target.instance.exports,\n          });\n        }\n\n        const ptrIR = target.pointerIR || 'i32';\n        const ptrSizeof = (target.ptrSizeof =\n          'i32' === ptrIR\n            ? 4\n            : 'i64' === ptrIR\n              ? 8\n              : toss('Unhandled ptrSizeof:', ptrIR));\n\n        const cache = Object.create(null);\n\n        cache.heapSize = 0;\n\n        cache.memory = null;\n\n        cache.freeFuncIndexes = [];\n\n        cache.scopedAlloc = [];\n\n        cache.utf8Decoder = new TextDecoder();\n        cache.utf8Encoder = new TextEncoder('utf-8');\n\n        target.sizeofIR = (n) => {\n          switch (n) {\n            case 'i8':\n              return 1;\n            case 'i16':\n              return 2;\n            case 'i32':\n            case 'f32':\n            case 'float':\n              return 4;\n            case 'i64':\n            case 'f64':\n            case 'double':\n              return 8;\n            case '*':\n              return ptrSizeof;\n            default:\n              return ('' + n).endsWith('*') ? ptrSizeof : undefined;\n          }\n        };\n\n        const heapWrappers = function () {\n          if (!cache.memory) {\n            cache.memory =\n              target.memory instanceof WebAssembly.Memory\n                ? target.memory\n                : target.exports.memory;\n          } else if (cache.heapSize === cache.memory.buffer.byteLength) {\n            return cache;\n          }\n\n          const b = cache.memory.buffer;\n          cache.HEAP8 = new Int8Array(b);\n          cache.HEAP8U = new Uint8Array(b);\n          cache.HEAP16 = new Int16Array(b);\n          cache.HEAP16U = new Uint16Array(b);\n          cache.HEAP32 = new Int32Array(b);\n          cache.HEAP32U = new Uint32Array(b);\n          if (target.bigIntEnabled) {\n            cache.HEAP64 = new BigInt64Array(b);\n            cache.HEAP64U = new BigUint64Array(b);\n          }\n          cache.HEAP32F = new Float32Array(b);\n          cache.HEAP64F = new Float64Array(b);\n          cache.heapSize = b.byteLength;\n          return cache;\n        };\n\n        target.heap8 = () => heapWrappers().HEAP8;\n\n        target.heap8u = () => heapWrappers().HEAP8U;\n\n        target.heap16 = () => heapWrappers().HEAP16;\n\n        target.heap16u = () => heapWrappers().HEAP16U;\n\n        target.heap32 = () => heapWrappers().HEAP32;\n\n        target.heap32u = () => heapWrappers().HEAP32U;\n\n        target.heapForSize = function (n, unsigned = true) {\n          let ctor;\n          const c =\n            cache.memory && cache.heapSize === cache.memory.buffer.byteLength\n              ? cache\n              : heapWrappers();\n          switch (n) {\n            case Int8Array:\n              return c.HEAP8;\n            case Uint8Array:\n              return c.HEAP8U;\n            case Int16Array:\n              return c.HEAP16;\n            case Uint16Array:\n              return c.HEAP16U;\n            case Int32Array:\n              return c.HEAP32;\n            case Uint32Array:\n              return c.HEAP32U;\n            case 8:\n              return unsigned ? c.HEAP8U : c.HEAP8;\n            case 16:\n              return unsigned ? c.HEAP16U : c.HEAP16;\n            case 32:\n              return unsigned ? c.HEAP32U : c.HEAP32;\n            case 64:\n              if (c.HEAP64) return unsigned ? c.HEAP64U : c.HEAP64;\n              break;\n            default:\n              if (target.bigIntEnabled) {\n                if (n === globalThis['BigUint64Array']) return c.HEAP64U;\n                else if (n === globalThis['BigInt64Array']) return c.HEAP64;\n                break;\n              }\n          }\n          toss(\n            'Invalid heapForSize() size: expecting 8, 16, 32,',\n            'or (if BigInt is enabled) 64.',\n          );\n        };\n\n        target.functionTable = function () {\n          return target.exports.__indirect_function_table;\n        };\n\n        target.functionEntry = function (fptr) {\n          const ft = target.functionTable();\n          return fptr < ft.length ? ft.get(fptr) : undefined;\n        };\n\n        target.jsFuncToWasm = function f(func, sig) {\n          if (!f._) {\n            f._ = {\n              sigTypes: Object.assign(Object.create(null), {\n                i: 'i32',\n                p: 'i32',\n                P: 'i32',\n                s: 'i32',\n                j: 'i64',\n                f: 'f32',\n                d: 'f64',\n              }),\n\n              typeCodes: Object.assign(Object.create(null), {\n                f64: 0x7c,\n                f32: 0x7d,\n                i64: 0x7e,\n                i32: 0x7f,\n              }),\n\n              uleb128Encode: function (tgt, method, n) {\n                if (n < 128) tgt[method](n);\n                else tgt[method](n % 128 | 128, n >> 7);\n              },\n\n              rxJSig: /^(\\w)\\((\\w*)\\)$/,\n\n              sigParams: function (sig) {\n                const m = f._.rxJSig.exec(sig);\n                return m ? m[2] : sig.substr(1);\n              },\n\n              letterType: (x) =>\n                f._.sigTypes[x] || toss('Invalid signature letter:', x),\n\n              pushSigType: (dest, letter) =>\n                dest.push(f._.typeCodes[f._.letterType(letter)]),\n            };\n          }\n          if ('string' === typeof func) {\n            const x = sig;\n            sig = func;\n            func = x;\n          }\n          const sigParams = f._.sigParams(sig);\n          const wasmCode = [0x01, 0x60];\n          f._.uleb128Encode(wasmCode, 'push', sigParams.length);\n          for (const x of sigParams) f._.pushSigType(wasmCode, x);\n          if ('v' === sig[0]) wasmCode.push(0);\n          else {\n            wasmCode.push(1);\n            f._.pushSigType(wasmCode, sig[0]);\n          }\n          f._.uleb128Encode(wasmCode, 'unshift', wasmCode.length);\n          wasmCode.unshift(\n            0x00,\n            0x61,\n            0x73,\n            0x6d,\n            0x01,\n            0x00,\n            0x00,\n            0x00,\n            0x01,\n          );\n          wasmCode.push(\n            0x02,\n            0x07,\n\n            0x01,\n            0x01,\n            0x65,\n            0x01,\n            0x66,\n            0x00,\n            0x00,\n            0x07,\n            0x05,\n\n            0x01,\n            0x01,\n            0x66,\n            0x00,\n            0x00,\n          );\n          return new WebAssembly.Instance(\n            new WebAssembly.Module(new Uint8Array(wasmCode)),\n            {\n              e: { f: func },\n            },\n          ).exports['f'];\n        };\n\n        const __installFunction = function f(func, sig, scoped) {\n          if (scoped && !cache.scopedAlloc.length) {\n            toss('No scopedAllocPush() scope is active.');\n          }\n          if ('string' === typeof func) {\n            const x = sig;\n            sig = func;\n            func = x;\n          }\n          if ('string' !== typeof sig || !(func instanceof Function)) {\n            toss(\n              'Invalid arguments: expecting (function,signature) ' +\n                'or (signature,function).',\n            );\n          }\n          const ft = target.functionTable();\n          const oldLen = ft.length;\n          let ptr;\n          while (cache.freeFuncIndexes.length) {\n            ptr = cache.freeFuncIndexes.pop();\n            if (ft.get(ptr)) {\n              ptr = null;\n              continue;\n            } else {\n              break;\n            }\n          }\n          if (!ptr) {\n            ptr = oldLen;\n            ft.grow(1);\n          }\n          try {\n            ft.set(ptr, func);\n            if (scoped) {\n              cache.scopedAlloc[cache.scopedAlloc.length - 1].push(ptr);\n            }\n            return ptr;\n          } catch (e) {\n            if (!(e instanceof TypeError)) {\n              if (ptr === oldLen) cache.freeFuncIndexes.push(oldLen);\n              throw e;\n            }\n          }\n\n          try {\n            const fptr = target.jsFuncToWasm(func, sig);\n            ft.set(ptr, fptr);\n            if (scoped) {\n              cache.scopedAlloc[cache.scopedAlloc.length - 1].push(ptr);\n            }\n          } catch (e) {\n            if (ptr === oldLen) cache.freeFuncIndexes.push(oldLen);\n            throw e;\n          }\n          return ptr;\n        };\n\n        target.installFunction = (func, sig) =>\n          __installFunction(func, sig, false);\n\n        target.scopedInstallFunction = (func, sig) =>\n          __installFunction(func, sig, true);\n\n        target.uninstallFunction = function (ptr) {\n          if (!ptr && 0 !== ptr) return undefined;\n          const fi = cache.freeFuncIndexes;\n          const ft = target.functionTable();\n          fi.push(ptr);\n          const rc = ft.get(ptr);\n          ft.set(ptr, null);\n          return rc;\n        };\n\n        target.peek = function f(ptr, type = 'i8') {\n          if (type.endsWith('*')) type = ptrIR;\n          const c =\n            cache.memory && cache.heapSize === cache.memory.buffer.byteLength\n              ? cache\n              : heapWrappers();\n          const list = Array.isArray(ptr) ? [] : undefined;\n          let rc;\n          do {\n            if (list) ptr = arguments[0].shift();\n            switch (type) {\n              case 'i1':\n              case 'i8':\n                rc = c.HEAP8[ptr >> 0];\n                break;\n              case 'i16':\n                rc = c.HEAP16[ptr >> 1];\n                break;\n              case 'i32':\n                rc = c.HEAP32[ptr >> 2];\n                break;\n              case 'float':\n              case 'f32':\n                rc = c.HEAP32F[ptr >> 2];\n                break;\n              case 'double':\n              case 'f64':\n                rc = Number(c.HEAP64F[ptr >> 3]);\n                break;\n              case 'i64':\n                if (target.bigIntEnabled) {\n                  rc = BigInt(c.HEAP64[ptr >> 3]);\n                  break;\n                }\n\n              default:\n                toss('Invalid type for peek():', type);\n            }\n            if (list) list.push(rc);\n          } while (list && arguments[0].length);\n          return list || rc;\n        };\n\n        target.poke = function (ptr, value, type = 'i8') {\n          if (type.endsWith('*')) type = ptrIR;\n          const c =\n            cache.memory && cache.heapSize === cache.memory.buffer.byteLength\n              ? cache\n              : heapWrappers();\n          for (const p of Array.isArray(ptr) ? ptr : [ptr]) {\n            switch (type) {\n              case 'i1':\n              case 'i8':\n                c.HEAP8[p >> 0] = value;\n                continue;\n              case 'i16':\n                c.HEAP16[p >> 1] = value;\n                continue;\n              case 'i32':\n                c.HEAP32[p >> 2] = value;\n                continue;\n              case 'float':\n              case 'f32':\n                c.HEAP32F[p >> 2] = value;\n                continue;\n              case 'double':\n              case 'f64':\n                c.HEAP64F[p >> 3] = value;\n                continue;\n              case 'i64':\n                if (c.HEAP64) {\n                  c.HEAP64[p >> 3] = BigInt(value);\n                  continue;\n                }\n\n              default:\n                toss('Invalid type for poke(): ' + type);\n            }\n          }\n          return this;\n        };\n\n        target.peekPtr = (...ptr) =>\n          target.peek(1 === ptr.length ? ptr[0] : ptr, ptrIR);\n\n        target.pokePtr = (ptr, value = 0) => target.poke(ptr, value, ptrIR);\n\n        target.peek8 = (...ptr) =>\n          target.peek(1 === ptr.length ? ptr[0] : ptr, 'i8');\n\n        target.poke8 = (ptr, value) => target.poke(ptr, value, 'i8');\n\n        target.peek16 = (...ptr) =>\n          target.peek(1 === ptr.length ? ptr[0] : ptr, 'i16');\n\n        target.poke16 = (ptr, value) => target.poke(ptr, value, 'i16');\n\n        target.peek32 = (...ptr) =>\n          target.peek(1 === ptr.length ? ptr[0] : ptr, 'i32');\n\n        target.poke32 = (ptr, value) => target.poke(ptr, value, 'i32');\n\n        target.peek64 = (...ptr) =>\n          target.peek(1 === ptr.length ? ptr[0] : ptr, 'i64');\n\n        target.poke64 = (ptr, value) => target.poke(ptr, value, 'i64');\n\n        target.peek32f = (...ptr) =>\n          target.peek(1 === ptr.length ? ptr[0] : ptr, 'f32');\n\n        target.poke32f = (ptr, value) => target.poke(ptr, value, 'f32');\n\n        target.peek64f = (...ptr) =>\n          target.peek(1 === ptr.length ? ptr[0] : ptr, 'f64');\n\n        target.poke64f = (ptr, value) => target.poke(ptr, value, 'f64');\n\n        target.getMemValue = target.peek;\n\n        target.getPtrValue = target.peekPtr;\n\n        target.setMemValue = target.poke;\n\n        target.setPtrValue = target.pokePtr;\n\n        target.isPtr32 = (ptr) =>\n          'number' === typeof ptr && ptr === (ptr | 0) && ptr >= 0;\n\n        target.isPtr = target.isPtr32;\n\n        target.cstrlen = function (ptr) {\n          if (!ptr || !target.isPtr(ptr)) return null;\n          const h = heapWrappers().HEAP8U;\n          let pos = ptr;\n          for (; h[pos] !== 0; ++pos) {}\n          return pos - ptr;\n        };\n\n        const __SAB =\n          'undefined' === typeof SharedArrayBuffer\n            ? function () {}\n            : SharedArrayBuffer;\n        const __utf8Decode = function (arrayBuffer, begin, end) {\n          return cache.utf8Decoder.decode(\n            arrayBuffer.buffer instanceof __SAB\n              ? arrayBuffer.slice(begin, end)\n              : arrayBuffer.subarray(begin, end),\n          );\n        };\n\n        target.cstrToJs = function (ptr) {\n          const n = target.cstrlen(ptr);\n          return n\n            ? __utf8Decode(heapWrappers().HEAP8U, ptr, ptr + n)\n            : null === n\n              ? n\n              : '';\n        };\n\n        target.jstrlen = function (str) {\n          if ('string' !== typeof str) return null;\n          const n = str.length;\n          let len = 0;\n          for (let i = 0; i < n; ++i) {\n            let u = str.charCodeAt(i);\n            if (u >= 0xd800 && u <= 0xdfff) {\n              u =\n                (0x10000 + ((u & 0x3ff) << 10)) | (str.charCodeAt(++i) & 0x3ff);\n            }\n            if (u <= 0x7f) ++len;\n            else if (u <= 0x7ff) len += 2;\n            else if (u <= 0xffff) len += 3;\n            else len += 4;\n          }\n          return len;\n        };\n\n        target.jstrcpy = function (\n          jstr,\n          tgt,\n          offset = 0,\n          maxBytes = -1,\n          addNul = true,\n        ) {\n          if (\n            !tgt ||\n            (!(tgt instanceof Int8Array) && !(tgt instanceof Uint8Array))\n          ) {\n            toss('jstrcpy() target must be an Int8Array or Uint8Array.');\n          }\n          if (maxBytes < 0) maxBytes = tgt.length - offset;\n          if (!(maxBytes > 0) || !(offset >= 0)) return 0;\n          let i = 0,\n            max = jstr.length;\n          const begin = offset,\n            end = offset + maxBytes - (addNul ? 1 : 0);\n          for (; i < max && offset < end; ++i) {\n            let u = jstr.charCodeAt(i);\n            if (u >= 0xd800 && u <= 0xdfff) {\n              u =\n                (0x10000 + ((u & 0x3ff) << 10)) |\n                (jstr.charCodeAt(++i) & 0x3ff);\n            }\n            if (u <= 0x7f) {\n              if (offset >= end) break;\n              tgt[offset++] = u;\n            } else if (u <= 0x7ff) {\n              if (offset + 1 >= end) break;\n              tgt[offset++] = 0xc0 | (u >> 6);\n              tgt[offset++] = 0x80 | (u & 0x3f);\n            } else if (u <= 0xffff) {\n              if (offset + 2 >= end) break;\n              tgt[offset++] = 0xe0 | (u >> 12);\n              tgt[offset++] = 0x80 | ((u >> 6) & 0x3f);\n              tgt[offset++] = 0x80 | (u & 0x3f);\n            } else {\n              if (offset + 3 >= end) break;\n              tgt[offset++] = 0xf0 | (u >> 18);\n              tgt[offset++] = 0x80 | ((u >> 12) & 0x3f);\n              tgt[offset++] = 0x80 | ((u >> 6) & 0x3f);\n              tgt[offset++] = 0x80 | (u & 0x3f);\n            }\n          }\n          if (addNul) tgt[offset++] = 0;\n          return offset - begin;\n        };\n\n        target.cstrncpy = function (tgtPtr, srcPtr, n) {\n          if (!tgtPtr || !srcPtr)\n            toss('cstrncpy() does not accept NULL strings.');\n          if (n < 0) n = target.cstrlen(strPtr) + 1;\n          else if (!(n > 0)) return 0;\n          const heap = target.heap8u();\n          let i = 0,\n            ch;\n          for (; i < n && (ch = heap[srcPtr + i]); ++i) {\n            heap[tgtPtr + i] = ch;\n          }\n          if (i < n) heap[tgtPtr + i++] = 0;\n          return i;\n        };\n\n        target.jstrToUintArray = (str, addNul = false) => {\n          return cache.utf8Encoder.encode(addNul ? str + '\\0' : str);\n        };\n\n        const __affirmAlloc = (obj, funcName) => {\n          if (\n            !(obj.alloc instanceof Function) ||\n            !(obj.dealloc instanceof Function)\n          ) {\n            toss(\n              'Object is missing alloc() and/or dealloc() function(s)',\n              'required by',\n              funcName + '().',\n            );\n          }\n        };\n\n        const __allocCStr = function (\n          jstr,\n          returnWithLength,\n          allocator,\n          funcName,\n        ) {\n          __affirmAlloc(target, funcName);\n          if ('string' !== typeof jstr) return null;\n          if (0) {\n            const n = target.jstrlen(jstr),\n              ptr = allocator(n + 1);\n            target.jstrcpy(jstr, target.heap8u(), ptr, n + 1, true);\n            return returnWithLength ? [ptr, n] : ptr;\n          } else {\n            const u = cache.utf8Encoder.encode(jstr),\n              ptr = allocator(u.length + 1),\n              heap = heapWrappers().HEAP8U;\n            heap.set(u, ptr);\n            heap[ptr + u.length] = 0;\n            return returnWithLength ? [ptr, u.length] : ptr;\n          }\n        };\n\n        target.allocCString = (jstr, returnWithLength = false) =>\n          __allocCStr(jstr, returnWithLength, target.alloc, 'allocCString()');\n\n        target.scopedAllocPush = function () {\n          __affirmAlloc(target, 'scopedAllocPush');\n          const a = [];\n          cache.scopedAlloc.push(a);\n          return a;\n        };\n\n        target.scopedAllocPop = function (state) {\n          __affirmAlloc(target, 'scopedAllocPop');\n          const n = arguments.length\n            ? cache.scopedAlloc.indexOf(state)\n            : cache.scopedAlloc.length - 1;\n          if (n < 0) toss('Invalid state object for scopedAllocPop().');\n          if (0 === arguments.length) state = cache.scopedAlloc[n];\n          cache.scopedAlloc.splice(n, 1);\n          for (let p; (p = state.pop()); ) {\n            if (target.functionEntry(p)) {\n              target.uninstallFunction(p);\n            } else target.dealloc(p);\n          }\n        };\n\n        target.scopedAlloc = function (n) {\n          if (!cache.scopedAlloc.length) {\n            toss('No scopedAllocPush() scope is active.');\n          }\n          const p = target.alloc(n);\n          cache.scopedAlloc[cache.scopedAlloc.length - 1].push(p);\n          return p;\n        };\n\n        Object.defineProperty(target.scopedAlloc, 'level', {\n          configurable: false,\n          enumerable: false,\n          get: () => cache.scopedAlloc.length,\n          set: () => toss(\"The 'active' property is read-only.\"),\n        });\n\n        target.scopedAllocCString = (jstr, returnWithLength = false) =>\n          __allocCStr(\n            jstr,\n            returnWithLength,\n            target.scopedAlloc,\n            'scopedAllocCString()',\n          );\n\n        const __allocMainArgv = function (isScoped, list) {\n          const pList = target[isScoped ? 'scopedAlloc' : 'alloc'](\n            (list.length + 1) * target.ptrSizeof,\n          );\n          let i = 0;\n          list.forEach((e) => {\n            target.pokePtr(\n              pList + target.ptrSizeof * i++,\n              target[isScoped ? 'scopedAllocCString' : 'allocCString']('' + e),\n            );\n          });\n          target.pokePtr(pList + target.ptrSizeof * i, 0);\n          return pList;\n        };\n\n        target.scopedAllocMainArgv = (list) => __allocMainArgv(true, list);\n\n        target.allocMainArgv = (list) => __allocMainArgv(false, list);\n\n        target.cArgvToJs = (argc, pArgv) => {\n          const list = [];\n          for (let i = 0; i < argc; ++i) {\n            const arg = target.peekPtr(pArgv + target.ptrSizeof * i);\n            list.push(arg ? target.cstrToJs(arg) : null);\n          }\n          return list;\n        };\n\n        target.scopedAllocCall = function (func) {\n          target.scopedAllocPush();\n          try {\n            return func();\n          } finally {\n            target.scopedAllocPop();\n          }\n        };\n\n        const __allocPtr = function (howMany, safePtrSize, method) {\n          __affirmAlloc(target, method);\n          const pIr = safePtrSize ? 'i64' : ptrIR;\n          let m = target[method](howMany * (safePtrSize ? 8 : ptrSizeof));\n          target.poke(m, 0, pIr);\n          if (1 === howMany) {\n            return m;\n          }\n          const a = [m];\n          for (let i = 1; i < howMany; ++i) {\n            m += safePtrSize ? 8 : ptrSizeof;\n            a[i] = m;\n            target.poke(m, 0, pIr);\n          }\n          return a;\n        };\n\n        target.allocPtr = (howMany = 1, safePtrSize = true) =>\n          __allocPtr(howMany, safePtrSize, 'alloc');\n\n        target.scopedAllocPtr = (howMany = 1, safePtrSize = true) =>\n          __allocPtr(howMany, safePtrSize, 'scopedAlloc');\n\n        target.xGet = function (name) {\n          return (\n            target.exports[name] || toss('Cannot find exported symbol:', name)\n          );\n        };\n\n        const __argcMismatch = (f, n) =>\n          toss(f + '() requires', n, 'argument(s).');\n\n        target.xCall = function (fname, ...args) {\n          const f = target.xGet(fname);\n          if (!(f instanceof Function))\n            toss('Exported symbol', fname, 'is not a function.');\n          if (f.length !== args.length) __argcMismatch(fname, f.length);\n          return 2 === arguments.length && Array.isArray(arguments[1])\n            ? f.apply(null, arguments[1])\n            : f.apply(null, args);\n        };\n\n        cache.xWrap = Object.create(null);\n        cache.xWrap.convert = Object.create(null);\n\n        cache.xWrap.convert.arg = new Map();\n\n        cache.xWrap.convert.result = new Map();\n        const xArg = cache.xWrap.convert.arg,\n          xResult = cache.xWrap.convert.result;\n\n        if (target.bigIntEnabled) {\n          xArg.set('i64', (i) => BigInt(i));\n        }\n        const __xArgPtr =\n          'i32' === ptrIR ? (i) => i | 0 : (i) => BigInt(i) | BigInt(0);\n        xArg\n          .set('i32', __xArgPtr)\n          .set('i16', (i) => (i | 0) & 0xffff)\n          .set('i8', (i) => (i | 0) & 0xff)\n          .set('f32', (i) => Number(i).valueOf())\n          .set('float', xArg.get('f32'))\n          .set('f64', xArg.get('f32'))\n          .set('double', xArg.get('f64'))\n          .set('int', xArg.get('i32'))\n          .set('null', (i) => i)\n          .set(null, xArg.get('null'))\n          .set('**', __xArgPtr)\n          .set('*', __xArgPtr);\n        xResult\n          .set('*', __xArgPtr)\n          .set('pointer', __xArgPtr)\n          .set('number', (v) => Number(v))\n          .set('void', (v) => undefined)\n          .set('null', (v) => v)\n          .set(null, xResult.get('null'));\n\n        {\n          const copyToResult = [\n            'i8',\n            'i16',\n            'i32',\n            'int',\n            'f32',\n            'float',\n            'f64',\n            'double',\n          ];\n          if (target.bigIntEnabled) copyToResult.push('i64');\n          const adaptPtr = xArg.get(ptrIR);\n          for (const t of copyToResult) {\n            xArg.set(t + '*', adaptPtr);\n            xResult.set(t + '*', adaptPtr);\n            xResult.set(t, xArg.get(t) || toss('Missing arg converter:', t));\n          }\n        }\n\n        const __xArgString = function (v) {\n          if ('string' === typeof v) return target.scopedAllocCString(v);\n          return v ? __xArgPtr(v) : null;\n        };\n        xArg\n          .set('string', __xArgString)\n          .set('utf8', __xArgString)\n          .set('pointer', __xArgString);\n\n        xResult\n          .set('string', (i) => target.cstrToJs(i))\n          .set('utf8', xResult.get('string'))\n          .set('string:dealloc', (i) => {\n            try {\n              return i ? target.cstrToJs(i) : null;\n            } finally {\n              target.dealloc(i);\n            }\n          })\n          .set('utf8:dealloc', xResult.get('string:dealloc'))\n          .set('json', (i) => JSON.parse(target.cstrToJs(i)))\n          .set('json:dealloc', (i) => {\n            try {\n              return i ? JSON.parse(target.cstrToJs(i)) : null;\n            } finally {\n              target.dealloc(i);\n            }\n          });\n\n        const AbstractArgAdapter = class {\n          constructor(opt) {\n            this.name = opt.name || 'unnamed adapter';\n          }\n\n          convertArg(v, argv, argIndex) {\n            toss('AbstractArgAdapter must be subclassed.');\n          }\n        };\n\n        xArg.FuncPtrAdapter = class FuncPtrAdapter extends AbstractArgAdapter {\n          constructor(opt) {\n            super(opt);\n            if (xArg.FuncPtrAdapter.warnOnUse) {\n              console.warn(\n                'xArg.FuncPtrAdapter is an internal-only API',\n                'and is not intended to be invoked from',\n                'client-level code. Invoked with:',\n                opt,\n              );\n            }\n            this.name = opt.name || 'unnamed';\n            this.signature = opt.signature;\n            if (opt.contextKey instanceof Function) {\n              this.contextKey = opt.contextKey;\n              if (!opt.bindScope) opt.bindScope = 'context';\n            }\n            this.bindScope =\n              opt.bindScope ||\n              toss(\n                'FuncPtrAdapter options requires a bindScope (explicit or implied).',\n              );\n            if (FuncPtrAdapter.bindScopes.indexOf(opt.bindScope) < 0) {\n              toss(\n                'Invalid options.bindScope (' +\n                  opt.bindMod +\n                  ') for FuncPtrAdapter. ' +\n                  'Expecting one of: (' +\n                  FuncPtrAdapter.bindScopes.join(', ') +\n                  ')',\n              );\n            }\n            this.isTransient = 'transient' === this.bindScope;\n            this.isContext = 'context' === this.bindScope;\n            this.isPermanent = 'permanent' === this.bindScope;\n            this.singleton = 'singleton' === this.bindScope ? [] : undefined;\n\n            this.callProxy =\n              opt.callProxy instanceof Function ? opt.callProxy : undefined;\n          }\n\n          contextKey(argv, argIndex) {\n            return this;\n          }\n\n          contextMap(key) {\n            const cm = this.__cmap || (this.__cmap = new Map());\n            let rc = cm.get(key);\n            if (undefined === rc) cm.set(key, (rc = []));\n            return rc;\n          }\n\n          convertArg(v, argv, argIndex) {\n            let pair = this.singleton;\n            if (!pair && this.isContext) {\n              pair = this.contextMap(this.contextKey(argv, argIndex));\n            }\n            if (pair && pair[0] === v) return pair[1];\n            if (v instanceof Function) {\n              if (this.callProxy) v = this.callProxy(v);\n              const fp = __installFunction(v, this.signature, this.isTransient);\n              if (FuncPtrAdapter.debugFuncInstall) {\n                FuncPtrAdapter.debugOut(\n                  'FuncPtrAdapter installed',\n                  this,\n                  this.contextKey(argv, argIndex),\n                  '@' + fp,\n                  v,\n                );\n              }\n              if (pair) {\n                if (pair[1]) {\n                  if (FuncPtrAdapter.debugFuncInstall) {\n                    FuncPtrAdapter.debugOut(\n                      'FuncPtrAdapter uninstalling',\n                      this,\n                      this.contextKey(argv, argIndex),\n                      '@' + pair[1],\n                      v,\n                    );\n                  }\n                  try {\n                    cache.scopedAlloc[cache.scopedAlloc.length - 1].push(\n                      pair[1],\n                    );\n                  } catch (e) {}\n                }\n                pair[0] = v;\n                pair[1] = fp;\n              }\n              return fp;\n            } else if (target.isPtr(v) || null === v || undefined === v) {\n              if (pair && pair[1] && pair[1] !== v) {\n                if (FuncPtrAdapter.debugFuncInstall) {\n                  FuncPtrAdapter.debugOut(\n                    'FuncPtrAdapter uninstalling',\n                    this,\n                    this.contextKey(argv, argIndex),\n                    '@' + pair[1],\n                    v,\n                  );\n                }\n                try {\n                  cache.scopedAlloc[cache.scopedAlloc.length - 1].push(pair[1]);\n                } catch (e) {}\n                pair[0] = pair[1] = v | 0;\n              }\n              return v || 0;\n            } else {\n              throw new TypeError(\n                'Invalid FuncPtrAdapter argument type. ' +\n                  'Expecting a function pointer or a ' +\n                  (this.name ? this.name + ' ' : '') +\n                  'function matching signature ' +\n                  this.signature +\n                  '.',\n              );\n            }\n          }\n        };\n\n        xArg.FuncPtrAdapter.warnOnUse = false;\n\n        xArg.FuncPtrAdapter.debugFuncInstall = false;\n\n        xArg.FuncPtrAdapter.debugOut = console.debug.bind(console);\n\n        xArg.FuncPtrAdapter.bindScopes = [\n          'transient',\n          'context',\n          'singleton',\n          'permanent',\n        ];\n\n        const __xArgAdapterCheck = (t) =>\n          xArg.get(t) || toss('Argument adapter not found:', t);\n\n        const __xResultAdapterCheck = (t) =>\n          xResult.get(t) || toss('Result adapter not found:', t);\n\n        cache.xWrap.convertArg = (t, ...args) => __xArgAdapterCheck(t)(...args);\n        cache.xWrap.convertArgNoCheck = (t, ...args) => xArg.get(t)(...args);\n\n        cache.xWrap.convertResult = (t, v) =>\n          null === t ? v : t ? __xResultAdapterCheck(t)(v) : undefined;\n        cache.xWrap.convertResultNoCheck = (t, v) =>\n          null === t ? v : t ? xResult.get(t)(v) : undefined;\n\n        target.xWrap = function (fArg, resultType, ...argTypes) {\n          if (3 === arguments.length && Array.isArray(arguments[2])) {\n            argTypes = arguments[2];\n          }\n          if (target.isPtr(fArg)) {\n            fArg =\n              target.functionEntry(fArg) ||\n              toss('Function pointer not found in WASM function table.');\n          }\n          const fIsFunc = fArg instanceof Function;\n          const xf = fIsFunc ? fArg : target.xGet(fArg);\n          if (fIsFunc) fArg = xf.name || 'unnamed function';\n          if (argTypes.length !== xf.length) __argcMismatch(fArg, xf.length);\n          if (null === resultType && 0 === xf.length) {\n            return xf;\n          }\n          if (undefined !== resultType && null !== resultType)\n            __xResultAdapterCheck(resultType);\n          for (const t of argTypes) {\n            if (t instanceof AbstractArgAdapter)\n              xArg.set(t, (...args) => t.convertArg(...args));\n            else __xArgAdapterCheck(t);\n          }\n          const cxw = cache.xWrap;\n          if (0 === xf.length) {\n            return (...args) =>\n              args.length\n                ? __argcMismatch(fArg, xf.length)\n                : cxw.convertResult(resultType, xf.call(null));\n          }\n          return function (...args) {\n            if (args.length !== xf.length) __argcMismatch(fArg, xf.length);\n            const scope = target.scopedAllocPush();\n            try {\n              for (const i in args)\n                args[i] = cxw.convertArgNoCheck(argTypes[i], args[i], args, i);\n              return cxw.convertResultNoCheck(resultType, xf.apply(null, args));\n            } finally {\n              target.scopedAllocPop(scope);\n            }\n          };\n        };\n\n        const __xAdapter = function (\n          func,\n          argc,\n          typeName,\n          adapter,\n          modeName,\n          xcvPart,\n        ) {\n          if ('string' === typeof typeName) {\n            if (1 === argc) return xcvPart.get(typeName);\n            else if (2 === argc) {\n              if (!adapter) {\n                delete xcvPart.get(typeName);\n                return func;\n              } else if (!(adapter instanceof Function)) {\n                toss(modeName, 'requires a function argument.');\n              }\n              xcvPart.set(typeName, adapter);\n              return func;\n            }\n          }\n          toss('Invalid arguments to', modeName);\n        };\n\n        target.xWrap.resultAdapter = function f(typeName, adapter) {\n          return __xAdapter(\n            f,\n            arguments.length,\n            typeName,\n            adapter,\n            'resultAdapter()',\n            xResult,\n          );\n        };\n\n        target.xWrap.argAdapter = function f(typeName, adapter) {\n          return __xAdapter(\n            f,\n            arguments.length,\n            typeName,\n            adapter,\n            'argAdapter()',\n            xArg,\n          );\n        };\n\n        target.xWrap.FuncPtrAdapter = xArg.FuncPtrAdapter;\n\n        target.xCallWrapped = function (fArg, resultType, argTypes, ...args) {\n          if (Array.isArray(arguments[3])) args = arguments[3];\n          return target\n            .xWrap(fArg, resultType, argTypes || [])\n            .apply(null, args || []);\n        };\n\n        target.xWrap.testConvertArg = cache.xWrap.convertArg;\n\n        target.xWrap.testConvertResult = cache.xWrap.convertResult;\n\n        return target;\n      };\n\n      globalThis.WhWasmUtilInstaller.yawl = function (config) {\n        const wfetch = () => fetch(config.uri, { credentials: 'same-origin' });\n        const wui = this;\n        const finalThen = function (arg) {\n          if (config.wasmUtilTarget) {\n            const toss = (...args) => {\n              throw new Error(args.join(' '));\n            };\n            const tgt = config.wasmUtilTarget;\n            tgt.module = arg.module;\n            tgt.instance = arg.instance;\n\n            if (!tgt.instance.exports.memory) {\n              tgt.memory =\n                (config.imports &&\n                  config.imports.env &&\n                  config.imports.env.memory) ||\n                toss(\"Missing 'memory' object!\");\n            }\n            if (!tgt.alloc && arg.instance.exports.malloc) {\n              const exports = arg.instance.exports;\n              tgt.alloc = function (n) {\n                return (\n                  exports.malloc(n) || toss('Allocation of', n, 'bytes failed.')\n                );\n              };\n              tgt.dealloc = function (m) {\n                exports.free(m);\n              };\n            }\n            wui(tgt);\n          }\n          if (config.onload) config.onload(arg, config);\n          return arg;\n        };\n        const loadWasm = WebAssembly.instantiateStreaming\n          ? function loadWasmStreaming() {\n              return WebAssembly.instantiateStreaming(\n                wfetch(),\n                config.imports || {},\n              ).then(finalThen);\n            }\n          : function loadWasmOldSchool() {\n              return wfetch()\n                .then((response) => response.arrayBuffer())\n                .then((bytes) =>\n                  WebAssembly.instantiate(bytes, config.imports || {}),\n                )\n                .then(finalThen);\n            };\n        return loadWasm;\n      }.bind(globalThis.WhWasmUtilInstaller);\n\n      ('use strict');\n      globalThis.Jaccwabyt = function StructBinderFactory(config) {\n        const toss = (...args) => {\n          throw new Error(args.join(' '));\n        };\n\n        if (\n          !(config.heap instanceof WebAssembly.Memory) &&\n          !(config.heap instanceof Function)\n        ) {\n          toss(\n            'config.heap must be WebAssembly.Memory instance or a function.',\n          );\n        }\n        ['alloc', 'dealloc'].forEach(function (k) {\n          config[k] instanceof Function ||\n            toss(\"Config option '\" + k + \"' must be a function.\");\n        });\n        const SBF = StructBinderFactory;\n        const heap =\n            config.heap instanceof Function\n              ? config.heap\n              : () => new Uint8Array(config.heap.buffer),\n          alloc = config.alloc,\n          dealloc = config.dealloc,\n          log = config.log || console.log.bind(console),\n          memberPrefix = config.memberPrefix || '',\n          memberSuffix = config.memberSuffix || '',\n          bigIntEnabled =\n            undefined === config.bigIntEnabled\n              ? !!globalThis['BigInt64Array']\n              : !!config.bigIntEnabled,\n          BigInt = globalThis['BigInt'],\n          BigInt64Array = globalThis['BigInt64Array'],\n          ptrSizeof = config.ptrSizeof || 4,\n          ptrIR = config.ptrIR || 'i32';\n        if (!SBF.debugFlags) {\n          SBF.__makeDebugFlags = function (deriveFrom = null) {\n            if (deriveFrom && deriveFrom.__flags)\n              deriveFrom = deriveFrom.__flags;\n            const f = function f(flags) {\n              if (0 === arguments.length) {\n                return f.__flags;\n              }\n              if (flags < 0) {\n                delete f.__flags.getter;\n                delete f.__flags.setter;\n                delete f.__flags.alloc;\n                delete f.__flags.dealloc;\n              } else {\n                f.__flags.getter = 0 !== (0x01 & flags);\n                f.__flags.setter = 0 !== (0x02 & flags);\n                f.__flags.alloc = 0 !== (0x04 & flags);\n                f.__flags.dealloc = 0 !== (0x08 & flags);\n              }\n              return f._flags;\n            };\n            Object.defineProperty(f, '__flags', {\n              iterable: false,\n              writable: false,\n              value: Object.create(deriveFrom),\n            });\n            if (!deriveFrom) f(0);\n            return f;\n          };\n          SBF.debugFlags = SBF.__makeDebugFlags();\n        }\n\n        const isLittleEndian = (function () {\n          const buffer = new ArrayBuffer(2);\n          new DataView(buffer).setInt16(0, 256, true);\n\n          return new Int16Array(buffer)[0] === 256;\n        })();\n\n        const isFuncSig = (s) => '(' === s[1];\n\n        const isPtrSig = (s) => 'p' === s || 'P' === s;\n        const isAutoPtrSig = (s) => 'P' === s;\n        const sigLetter = (s) => (isFuncSig(s) ? 'p' : s[0]);\n\n        const sigIR = function (s) {\n          switch (sigLetter(s)) {\n            case 'c':\n            case 'C':\n              return 'i8';\n            case 'i':\n              return 'i32';\n            case 'p':\n            case 'P':\n            case 's':\n              return ptrIR;\n            case 'j':\n              return 'i64';\n            case 'f':\n              return 'float';\n            case 'd':\n              return 'double';\n          }\n          toss('Unhandled signature IR:', s);\n        };\n\n        const affirmBigIntArray = BigInt64Array\n          ? () => true\n          : () => toss('BigInt64Array is not available.');\n\n        const sigDVGetter = function (s) {\n          switch (sigLetter(s)) {\n            case 'p':\n            case 'P':\n            case 's': {\n              switch (ptrSizeof) {\n                case 4:\n                  return 'getInt32';\n                case 8:\n                  return affirmBigIntArray() && 'getBigInt64';\n              }\n              break;\n            }\n            case 'i':\n              return 'getInt32';\n            case 'c':\n              return 'getInt8';\n            case 'C':\n              return 'getUint8';\n            case 'j':\n              return affirmBigIntArray() && 'getBigInt64';\n            case 'f':\n              return 'getFloat32';\n            case 'd':\n              return 'getFloat64';\n          }\n          toss('Unhandled DataView getter for signature:', s);\n        };\n\n        const sigDVSetter = function (s) {\n          switch (sigLetter(s)) {\n            case 'p':\n            case 'P':\n            case 's': {\n              switch (ptrSizeof) {\n                case 4:\n                  return 'setInt32';\n                case 8:\n                  return affirmBigIntArray() && 'setBigInt64';\n              }\n              break;\n            }\n            case 'i':\n              return 'setInt32';\n            case 'c':\n              return 'setInt8';\n            case 'C':\n              return 'setUint8';\n            case 'j':\n              return affirmBigIntArray() && 'setBigInt64';\n            case 'f':\n              return 'setFloat32';\n            case 'd':\n              return 'setFloat64';\n          }\n          toss('Unhandled DataView setter for signature:', s);\n        };\n\n        const sigDVSetWrapper = function (s) {\n          switch (sigLetter(s)) {\n            case 'i':\n            case 'f':\n            case 'c':\n            case 'C':\n            case 'd':\n              return Number;\n            case 'j':\n              return affirmBigIntArray() && BigInt;\n            case 'p':\n            case 'P':\n            case 's':\n              switch (ptrSizeof) {\n                case 4:\n                  return Number;\n                case 8:\n                  return affirmBigIntArray() && BigInt;\n              }\n              break;\n          }\n          toss('Unhandled DataView set wrapper for signature:', s);\n        };\n\n        const sPropName = (s, k) => s + '::' + k;\n\n        const __propThrowOnSet = function (structName, propName) {\n          return () => toss(sPropName(structName, propName), 'is read-only.');\n        };\n\n        const __instancePointerMap = new WeakMap();\n\n        const xPtrPropName = '(pointer-is-external)';\n\n        const __freeStruct = function (ctor, obj, m) {\n          if (!m) m = __instancePointerMap.get(obj);\n          if (m) {\n            __instancePointerMap.delete(obj);\n            if (Array.isArray(obj.ondispose)) {\n              let x;\n              while ((x = obj.ondispose.shift())) {\n                try {\n                  if (x instanceof Function) x.call(obj);\n                  else if (x instanceof StructType) x.dispose();\n                  else if ('number' === typeof x) dealloc(x);\n                } catch (e) {\n                  console.warn(\n                    'ondispose() for',\n                    ctor.structName,\n                    '@',\n                    m,\n                    'threw. NOT propagating it.',\n                    e,\n                  );\n                }\n              }\n            } else if (obj.ondispose instanceof Function) {\n              try {\n                obj.ondispose();\n              } catch (e) {\n                console.warn(\n                  'ondispose() for',\n                  ctor.structName,\n                  '@',\n                  m,\n                  'threw. NOT propagating it.',\n                  e,\n                );\n              }\n            }\n            delete obj.ondispose;\n            if (ctor.debugFlags.__flags.dealloc) {\n              log(\n                'debug.dealloc:',\n                obj[xPtrPropName] ? 'EXTERNAL' : '',\n                ctor.structName,\n                'instance:',\n                ctor.structInfo.sizeof,\n                'bytes @' + m,\n              );\n            }\n            if (!obj[xPtrPropName]) dealloc(m);\n          }\n        };\n\n        const rop = (v) => {\n          return {\n            configurable: false,\n            writable: false,\n            iterable: false,\n            value: v,\n          };\n        };\n\n        const __allocStruct = function (ctor, obj, m) {\n          let fill = !m;\n          if (m) Object.defineProperty(obj, xPtrPropName, rop(m));\n          else {\n            m = alloc(ctor.structInfo.sizeof);\n            if (!m) toss('Allocation of', ctor.structName, 'structure failed.');\n          }\n          try {\n            if (ctor.debugFlags.__flags.alloc) {\n              log(\n                'debug.alloc:',\n                fill ? '' : 'EXTERNAL',\n                ctor.structName,\n                'instance:',\n                ctor.structInfo.sizeof,\n                'bytes @' + m,\n              );\n            }\n            if (fill) heap().fill(0, m, m + ctor.structInfo.sizeof);\n            __instancePointerMap.set(obj, m);\n          } catch (e) {\n            __freeStruct(ctor, obj, m);\n            throw e;\n          }\n        };\n\n        const __memoryDump = function () {\n          const p = this.pointer;\n          return p\n            ? new Uint8Array(heap().slice(p, p + this.structInfo.sizeof))\n            : null;\n        };\n\n        const __memberKey = (k) => memberPrefix + k + memberSuffix;\n        const __memberKeyProp = rop(__memberKey);\n\n        const __lookupMember = function (\n          structInfo,\n          memberName,\n          tossIfNotFound = true,\n        ) {\n          let m = structInfo.members[memberName];\n          if (!m && (memberPrefix || memberSuffix)) {\n            for (const v of Object.values(structInfo.members)) {\n              if (v.key === memberName) {\n                m = v;\n                break;\n              }\n            }\n            if (!m && tossIfNotFound) {\n              toss(\n                sPropName(structInfo.name, memberName),\n                'is not a mapped struct member.',\n              );\n            }\n          }\n          return m;\n        };\n\n        const __memberSignature = function f(\n          obj,\n          memberName,\n          emscriptenFormat = false,\n        ) {\n          if (!f._)\n            f._ = (x) =>\n              x.replace(/[^vipPsjrdcC]/g, '').replace(/[pPscC]/g, 'i');\n          const m = __lookupMember(obj.structInfo, memberName, true);\n          return emscriptenFormat ? f._(m.signature) : m.signature;\n        };\n\n        const __ptrPropDescriptor = {\n          configurable: false,\n          enumerable: false,\n          get: function () {\n            return __instancePointerMap.get(this);\n          },\n          set: () => toss(\"Cannot assign the 'pointer' property of a struct.\"),\n        };\n\n        const __structMemberKeys = rop(function () {\n          const a = [];\n          for (const k of Object.keys(this.structInfo.members)) {\n            a.push(this.memberKey(k));\n          }\n          return a;\n        });\n\n        const __utf8Decoder = new TextDecoder('utf-8');\n        const __utf8Encoder = new TextEncoder();\n\n        const __SAB =\n          'undefined' === typeof SharedArrayBuffer\n            ? function () {}\n            : SharedArrayBuffer;\n        const __utf8Decode = function (arrayBuffer, begin, end) {\n          return __utf8Decoder.decode(\n            arrayBuffer.buffer instanceof __SAB\n              ? arrayBuffer.slice(begin, end)\n              : arrayBuffer.subarray(begin, end),\n          );\n        };\n\n        const __memberIsString = function (\n          obj,\n          memberName,\n          tossIfNotFound = false,\n        ) {\n          const m = __lookupMember(obj.structInfo, memberName, tossIfNotFound);\n          return m && 1 === m.signature.length && 's' === m.signature[0]\n            ? m\n            : false;\n        };\n\n        const __affirmCStringSignature = function (member) {\n          if ('s' === member.signature) return;\n          toss(\n            'Invalid member type signature for C-string value:',\n            JSON.stringify(member),\n          );\n        };\n\n        const __memberToJsString = function f(obj, memberName) {\n          const m = __lookupMember(obj.structInfo, memberName, true);\n          __affirmCStringSignature(m);\n          const addr = obj[m.key];\n\n          if (!addr) return null;\n          let pos = addr;\n          const mem = heap();\n          for (; mem[pos] !== 0; ++pos) {}\n\n          return addr === pos ? '' : __utf8Decode(mem, addr, pos);\n        };\n\n        const __addOnDispose = function (obj, ...v) {\n          if (obj.ondispose) {\n            if (!Array.isArray(obj.ondispose)) {\n              obj.ondispose = [obj.ondispose];\n            }\n          } else {\n            obj.ondispose = [];\n          }\n          obj.ondispose.push(...v);\n        };\n\n        const __allocCString = function (str) {\n          const u = __utf8Encoder.encode(str);\n          const mem = alloc(u.length + 1);\n          if (!mem) toss('Allocation error while duplicating string:', str);\n          const h = heap();\n\n          h.set(u, mem);\n          h[mem + u.length] = 0;\n\n          return mem;\n        };\n\n        const __setMemberCString = function (obj, memberName, str) {\n          const m = __lookupMember(obj.structInfo, memberName, true);\n          __affirmCStringSignature(m);\n\n          const mem = __allocCString(str);\n          obj[m.key] = mem;\n          __addOnDispose(obj, mem);\n          return obj;\n        };\n\n        const StructType = function ctor(structName, structInfo) {\n          if (arguments[2] !== rop) {\n            toss(\n              'Do not call the StructType constructor',\n              'from client-level code.',\n            );\n          }\n          Object.defineProperties(this, {\n            structName: rop(structName),\n            structInfo: rop(structInfo),\n          });\n        };\n\n        StructType.prototype = Object.create(null, {\n          dispose: rop(function () {\n            __freeStruct(this.constructor, this);\n          }),\n          lookupMember: rop(function (memberName, tossIfNotFound = true) {\n            return __lookupMember(this.structInfo, memberName, tossIfNotFound);\n          }),\n          memberToJsString: rop(function (memberName) {\n            return __memberToJsString(this, memberName);\n          }),\n          memberIsString: rop(function (memberName, tossIfNotFound = true) {\n            return __memberIsString(this, memberName, tossIfNotFound);\n          }),\n          memberKey: __memberKeyProp,\n          memberKeys: __structMemberKeys,\n          memberSignature: rop(function (memberName, emscriptenFormat = false) {\n            return __memberSignature(this, memberName, emscriptenFormat);\n          }),\n          memoryDump: rop(__memoryDump),\n          pointer: __ptrPropDescriptor,\n          setMemberCString: rop(function (memberName, str) {\n            return __setMemberCString(this, memberName, str);\n          }),\n        });\n\n        Object.assign(StructType.prototype, {\n          addOnDispose: function (...v) {\n            __addOnDispose(this, ...v);\n            return this;\n          },\n        });\n\n        Object.defineProperties(StructType, {\n          allocCString: rop(__allocCString),\n          isA: rop((v) => v instanceof StructType),\n          hasExternalPointer: rop(\n            (v) => v instanceof StructType && !!v[xPtrPropName],\n          ),\n          memberKey: __memberKeyProp,\n        });\n\n        const isNumericValue = (v) =>\n          Number.isFinite(v) || v instanceof (BigInt || Number);\n\n        const makeMemberWrapper = function f(ctor, name, descr) {\n          if (!f._) {\n            f._ = { getters: {}, setters: {}, sw: {} };\n            const a = ['i', 'c', 'C', 'p', 'P', 's', 'f', 'd', 'v()'];\n            if (bigIntEnabled) a.push('j');\n            a.forEach(function (v) {\n              f._.getters[v] = sigDVGetter(v);\n              f._.setters[v] = sigDVSetter(v);\n              f._.sw[v] = sigDVSetWrapper(v);\n            });\n            const rxSig1 = /^[ipPsjfdcC]$/,\n              rxSig2 = /^[vipPsjfdcC]\\([ipPsjfdcC]*\\)$/;\n            f.sigCheck = function (obj, name, key, sig) {\n              if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                toss(obj.structName, 'already has a property named', key + '.');\n              }\n              rxSig1.test(sig) ||\n                rxSig2.test(sig) ||\n                toss(\n                  'Malformed signature for',\n                  sPropName(obj.structName, name) + ':',\n                  sig,\n                );\n            };\n          }\n          const key = ctor.memberKey(name);\n          f.sigCheck(ctor.prototype, name, key, descr.signature);\n          descr.key = key;\n          descr.name = name;\n          const sigGlyph = sigLetter(descr.signature);\n          const xPropName = sPropName(ctor.prototype.structName, key);\n          const dbg = ctor.prototype.debugFlags.__flags;\n\n          const prop = Object.create(null);\n          prop.configurable = false;\n          prop.enumerable = false;\n          prop.get = function () {\n            if (dbg.getter) {\n              log(\n                'debug.getter:',\n                f._.getters[sigGlyph],\n                'for',\n                sigIR(sigGlyph),\n                xPropName,\n                '@',\n                this.pointer,\n                '+',\n                descr.offset,\n                'sz',\n                descr.sizeof,\n              );\n            }\n            let rc = new DataView(\n              heap().buffer,\n              this.pointer + descr.offset,\n              descr.sizeof,\n            )[f._.getters[sigGlyph]](0, isLittleEndian);\n            if (dbg.getter) log('debug.getter:', xPropName, 'result =', rc);\n            return rc;\n          };\n          if (descr.readOnly) {\n            prop.set = __propThrowOnSet(ctor.prototype.structName, key);\n          } else {\n            prop.set = function (v) {\n              if (dbg.setter) {\n                log(\n                  'debug.setter:',\n                  f._.setters[sigGlyph],\n                  'for',\n                  sigIR(sigGlyph),\n                  xPropName,\n                  '@',\n                  this.pointer,\n                  '+',\n                  descr.offset,\n                  'sz',\n                  descr.sizeof,\n                  v,\n                );\n              }\n              if (!this.pointer) {\n                toss('Cannot set struct property on disposed instance.');\n              }\n              if (null === v) v = 0;\n              else\n                while (!isNumericValue(v)) {\n                  if (\n                    isAutoPtrSig(descr.signature) &&\n                    v instanceof StructType\n                  ) {\n                    v = v.pointer || 0;\n                    if (dbg.setter)\n                      log('debug.setter:', xPropName, 'resolved to', v);\n                    break;\n                  }\n                  toss('Invalid value for pointer-type', xPropName + '.');\n                }\n              new DataView(\n                heap().buffer,\n                this.pointer + descr.offset,\n                descr.sizeof,\n              )[f._.setters[sigGlyph]](0, f._.sw[sigGlyph](v), isLittleEndian);\n            };\n          }\n          Object.defineProperty(ctor.prototype, key, prop);\n        };\n\n        const StructBinder = function StructBinder(structName, structInfo) {\n          if (1 === arguments.length) {\n            structInfo = structName;\n            structName = structInfo.name;\n          } else if (!structInfo.name) {\n            structInfo.name = structName;\n          }\n          if (!structName) toss('Struct name is required.');\n          let lastMember = false;\n          Object.keys(structInfo.members).forEach((k) => {\n            const m = structInfo.members[k];\n            if (!m.sizeof) toss(structName, 'member', k, 'is missing sizeof.');\n            else if (m.sizeof === 1) {\n              m.signature === 'c' ||\n                m.signature === 'C' ||\n                toss(\n                  'Unexpected sizeof==1 member',\n                  sPropName(structInfo.name, k),\n                  'with signature',\n                  m.signature,\n                );\n            } else {\n              if (0 !== m.sizeof % 4) {\n                console.warn(\n                  'Invalid struct member description =',\n                  m,\n                  'from',\n                  structInfo,\n                );\n                toss(\n                  structName,\n                  'member',\n                  k,\n                  'sizeof is not aligned. sizeof=' + m.sizeof,\n                );\n              }\n              if (0 !== m.offset % 4) {\n                console.warn(\n                  'Invalid struct member description =',\n                  m,\n                  'from',\n                  structInfo,\n                );\n                toss(\n                  structName,\n                  'member',\n                  k,\n                  'offset is not aligned. offset=' + m.offset,\n                );\n              }\n            }\n            if (!lastMember || lastMember.offset < m.offset) lastMember = m;\n          });\n          if (!lastMember) toss('No member property descriptions found.');\n          else if (structInfo.sizeof < lastMember.offset + lastMember.sizeof) {\n            toss(\n              'Invalid struct config:',\n              structName,\n              'max member offset (' + lastMember.offset + ') ',\n              'extends past end of struct (sizeof=' + structInfo.sizeof + ').',\n            );\n          }\n          const debugFlags = rop(SBF.__makeDebugFlags(StructBinder.debugFlags));\n\n          const StructCtor = function StructCtor(externalMemory) {\n            if (!(this instanceof StructCtor)) {\n              toss(\n                'The',\n                structName,\n                \"constructor may only be called via 'new'.\",\n              );\n            } else if (arguments.length) {\n              if (\n                externalMemory !== (externalMemory | 0) ||\n                externalMemory <= 0\n              ) {\n                toss('Invalid pointer value for', structName, 'constructor.');\n              }\n              __allocStruct(StructCtor, this, externalMemory);\n            } else {\n              __allocStruct(StructCtor, this);\n            }\n          };\n          Object.defineProperties(StructCtor, {\n            debugFlags: debugFlags,\n            isA: rop((v) => v instanceof StructCtor),\n            memberKey: __memberKeyProp,\n            memberKeys: __structMemberKeys,\n            methodInfoForKey: rop(function (mKey) {}),\n            structInfo: rop(structInfo),\n            structName: rop(structName),\n          });\n          StructCtor.prototype = new StructType(structName, structInfo, rop);\n          Object.defineProperties(StructCtor.prototype, {\n            debugFlags: debugFlags,\n            constructor: rop(StructCtor),\n          });\n          Object.keys(structInfo.members).forEach((name) =>\n            makeMemberWrapper(StructCtor, name, structInfo.members[name]),\n          );\n          return StructCtor;\n        };\n        StructBinder.StructType = StructType;\n        StructBinder.config = config;\n        StructBinder.allocCString = __allocCString;\n        if (!StructBinder.debugFlags) {\n          StructBinder.debugFlags = SBF.__makeDebugFlags(SBF.debugFlags);\n        }\n        return StructBinder;\n      };\n\n      globalThis.sqlite3ApiBootstrap.initializers.push(function (sqlite3) {\n        'use strict';\n        const toss = (...args) => {\n          throw new Error(args.join(' '));\n        };\n        const toss3 = sqlite3.SQLite3Error.toss;\n        const capi = sqlite3.capi,\n          wasm = sqlite3.wasm,\n          util = sqlite3.util;\n        globalThis.WhWasmUtilInstaller(wasm);\n        delete globalThis.WhWasmUtilInstaller;\n\n        if (0) {\n          const dealloc = wasm.exports[sqlite3.config.deallocExportName];\n          const nFunc = wasm.functionTable().length;\n          let i;\n          for (i = 0; i < nFunc; ++i) {\n            const e = wasm.functionEntry(i);\n            if (dealloc === e) {\n              capi.SQLITE_WASM_DEALLOC = i;\n              break;\n            }\n          }\n          if (dealloc !== wasm.functionEntry(capi.SQLITE_WASM_DEALLOC)) {\n            toss(\n              'Internal error: cannot find function pointer for SQLITE_WASM_DEALLOC.',\n            );\n          }\n        }\n\n        wasm.bindingSignatures = [\n          ['sqlite3_aggregate_context', 'void*', 'sqlite3_context*', 'int'],\n\n          ['sqlite3_bind_double', 'int', 'sqlite3_stmt*', 'int', 'f64'],\n          ['sqlite3_bind_int', 'int', 'sqlite3_stmt*', 'int', 'int'],\n          ['sqlite3_bind_null', undefined, 'sqlite3_stmt*', 'int'],\n          ['sqlite3_bind_parameter_count', 'int', 'sqlite3_stmt*'],\n          ['sqlite3_bind_parameter_index', 'int', 'sqlite3_stmt*', 'string'],\n          [\n            'sqlite3_bind_pointer',\n            'int',\n            'sqlite3_stmt*',\n            'int',\n            '*',\n            'string:static',\n            '*',\n          ],\n          [\n            'sqlite3_busy_handler',\n            'int',\n            [\n              'sqlite3*',\n              new wasm.xWrap.FuncPtrAdapter({\n                signature: 'i(pi)',\n                contextKey: (argv, argIndex) => argv[0],\n              }),\n              '*',\n            ],\n          ],\n          ['sqlite3_busy_timeout', 'int', 'sqlite3*', 'int'],\n\n          ['sqlite3_changes', 'int', 'sqlite3*'],\n          ['sqlite3_clear_bindings', 'int', 'sqlite3_stmt*'],\n          ['sqlite3_collation_needed', 'int', 'sqlite3*', '*', '*'],\n          ['sqlite3_column_blob', '*', 'sqlite3_stmt*', 'int'],\n          ['sqlite3_column_bytes', 'int', 'sqlite3_stmt*', 'int'],\n          ['sqlite3_column_count', 'int', 'sqlite3_stmt*'],\n          ['sqlite3_column_double', 'f64', 'sqlite3_stmt*', 'int'],\n          ['sqlite3_column_int', 'int', 'sqlite3_stmt*', 'int'],\n          ['sqlite3_column_name', 'string', 'sqlite3_stmt*', 'int'],\n          ['sqlite3_column_text', 'string', 'sqlite3_stmt*', 'int'],\n          ['sqlite3_column_type', 'int', 'sqlite3_stmt*', 'int'],\n          ['sqlite3_column_value', 'sqlite3_value*', 'sqlite3_stmt*', 'int'],\n          [\n            'sqlite3_commit_hook',\n            'void*',\n            [\n              'sqlite3*',\n              new wasm.xWrap.FuncPtrAdapter({\n                name: 'sqlite3_commit_hook',\n                signature: 'i(p)',\n                contextKey: (argv) => argv[0],\n              }),\n              '*',\n            ],\n          ],\n          ['sqlite3_compileoption_get', 'string', 'int'],\n          ['sqlite3_compileoption_used', 'int', 'string'],\n          ['sqlite3_complete', 'int', 'string:flexible'],\n          ['sqlite3_context_db_handle', 'sqlite3*', 'sqlite3_context*'],\n\n          ['sqlite3_data_count', 'int', 'sqlite3_stmt*'],\n          ['sqlite3_db_filename', 'string', 'sqlite3*', 'string'],\n          ['sqlite3_db_handle', 'sqlite3*', 'sqlite3_stmt*'],\n          ['sqlite3_db_name', 'string', 'sqlite3*', 'int'],\n          ['sqlite3_db_status', 'int', 'sqlite3*', 'int', '*', '*', 'int'],\n          ['sqlite3_errcode', 'int', 'sqlite3*'],\n          ['sqlite3_errmsg', 'string', 'sqlite3*'],\n          ['sqlite3_error_offset', 'int', 'sqlite3*'],\n          ['sqlite3_errstr', 'string', 'int'],\n          [\n            'sqlite3_exec',\n            'int',\n            [\n              'sqlite3*',\n              'string:flexible',\n              new wasm.xWrap.FuncPtrAdapter({\n                signature: 'i(pipp)',\n                bindScope: 'transient',\n                callProxy: (callback) => {\n                  let aNames;\n                  return (pVoid, nCols, pColVals, pColNames) => {\n                    try {\n                      const aVals = wasm.cArgvToJs(nCols, pColVals);\n                      if (!aNames) aNames = wasm.cArgvToJs(nCols, pColNames);\n                      return callback(aVals, aNames) | 0;\n                    } catch (e) {\n                      return e.resultCode || capi.SQLITE_ERROR;\n                    }\n                  };\n                },\n              }),\n              '*',\n              '**',\n            ],\n          ],\n          ['sqlite3_expanded_sql', 'string', 'sqlite3_stmt*'],\n          ['sqlite3_extended_errcode', 'int', 'sqlite3*'],\n          ['sqlite3_extended_result_codes', 'int', 'sqlite3*', 'int'],\n          ['sqlite3_file_control', 'int', 'sqlite3*', 'string', 'int', '*'],\n          ['sqlite3_finalize', 'int', 'sqlite3_stmt*'],\n          ['sqlite3_free', undefined, '*'],\n          ['sqlite3_get_autocommit', 'int', 'sqlite3*'],\n          ['sqlite3_get_auxdata', '*', 'sqlite3_context*', 'int'],\n          ['sqlite3_initialize', undefined],\n\n          ['sqlite3_keyword_count', 'int'],\n          ['sqlite3_keyword_name', 'int', ['int', '**', '*']],\n          ['sqlite3_keyword_check', 'int', ['string', 'int']],\n          ['sqlite3_libversion', 'string'],\n          ['sqlite3_libversion_number', 'int'],\n          ['sqlite3_limit', 'int', ['sqlite3*', 'int', 'int']],\n          ['sqlite3_malloc', '*', 'int'],\n          ['sqlite3_open', 'int', 'string', '*'],\n          ['sqlite3_open_v2', 'int', 'string', '*', 'int', 'string'],\n\n          [\n            'sqlite3_progress_handler',\n            undefined,\n            [\n              'sqlite3*',\n              'int',\n              new wasm.xWrap.FuncPtrAdapter({\n                name: 'xProgressHandler',\n                signature: 'i(p)',\n                bindScope: 'context',\n                contextKey: (argv, argIndex) => argv[0],\n              }),\n              '*',\n            ],\n          ],\n          ['sqlite3_realloc', '*', '*', 'int'],\n          ['sqlite3_reset', 'int', 'sqlite3_stmt*'],\n\n          [\n            'sqlite3_result_blob',\n            undefined,\n            'sqlite3_context*',\n            '*',\n            'int',\n            '*',\n          ],\n          ['sqlite3_result_double', undefined, 'sqlite3_context*', 'f64'],\n          [\n            'sqlite3_result_error',\n            undefined,\n            'sqlite3_context*',\n            'string',\n            'int',\n          ],\n          ['sqlite3_result_error_code', undefined, 'sqlite3_context*', 'int'],\n          ['sqlite3_result_error_nomem', undefined, 'sqlite3_context*'],\n          ['sqlite3_result_error_toobig', undefined, 'sqlite3_context*'],\n          ['sqlite3_result_int', undefined, 'sqlite3_context*', 'int'],\n          ['sqlite3_result_null', undefined, 'sqlite3_context*'],\n          [\n            'sqlite3_result_pointer',\n            undefined,\n            'sqlite3_context*',\n            '*',\n            'string:static',\n            '*',\n          ],\n          ['sqlite3_result_subtype', undefined, 'sqlite3_value*', 'int'],\n          [\n            'sqlite3_result_text',\n            undefined,\n            'sqlite3_context*',\n            'string',\n            'int',\n            '*',\n          ],\n          ['sqlite3_result_zeroblob', undefined, 'sqlite3_context*', 'int'],\n          [\n            'sqlite3_rollback_hook',\n            'void*',\n            [\n              'sqlite3*',\n              new wasm.xWrap.FuncPtrAdapter({\n                name: 'sqlite3_rollback_hook',\n                signature: 'v(p)',\n                contextKey: (argv) => argv[0],\n              }),\n              '*',\n            ],\n          ],\n          [\n            'sqlite3_set_authorizer',\n            'int',\n            [\n              'sqlite3*',\n              new wasm.xWrap.FuncPtrAdapter({\n                name: 'sqlite3_set_authorizer::xAuth',\n                signature: 'i(pi' + 'ssss)',\n                contextKey: (argv, argIndex) => argv[0],\n                callProxy: (callback) => {\n                  return (pV, iCode, s0, s1, s2, s3) => {\n                    try {\n                      s0 = s0 && wasm.cstrToJs(s0);\n                      s1 = s1 && wasm.cstrToJs(s1);\n                      s2 = s2 && wasm.cstrToJs(s2);\n                      s3 = s3 && wasm.cstrToJs(s3);\n                      return callback(pV, iCode, s0, s1, s2, s3) || 0;\n                    } catch (e) {\n                      return e.resultCode || capi.SQLITE_ERROR;\n                    }\n                  };\n                },\n              }),\n              '*',\n            ],\n          ],\n          [\n            'sqlite3_set_auxdata',\n            undefined,\n            [\n              'sqlite3_context*',\n              'int',\n              '*',\n              new wasm.xWrap.FuncPtrAdapter({\n                name: 'xDestroyAuxData',\n                signature: 'v(*)',\n                contextKey: (argv, argIndex) => argv[0],\n              }),\n            ],\n          ],\n          ['sqlite3_shutdown', undefined],\n          ['sqlite3_sourceid', 'string'],\n          ['sqlite3_sql', 'string', 'sqlite3_stmt*'],\n          ['sqlite3_status', 'int', 'int', '*', '*', 'int'],\n          ['sqlite3_step', 'int', 'sqlite3_stmt*'],\n          ['sqlite3_stmt_isexplain', 'int', ['sqlite3_stmt*']],\n          ['sqlite3_stmt_readonly', 'int', ['sqlite3_stmt*']],\n          ['sqlite3_stmt_status', 'int', 'sqlite3_stmt*', 'int', 'int'],\n          ['sqlite3_strglob', 'int', 'string', 'string'],\n          ['sqlite3_stricmp', 'int', 'string', 'string'],\n          ['sqlite3_strlike', 'int', 'string', 'string', 'int'],\n          ['sqlite3_strnicmp', 'int', 'string', 'string', 'int'],\n          [\n            'sqlite3_table_column_metadata',\n            'int',\n            'sqlite3*',\n            'string',\n            'string',\n            'string',\n            '**',\n            '**',\n            '*',\n            '*',\n            '*',\n          ],\n          ['sqlite3_total_changes', 'int', 'sqlite3*'],\n          [\n            'sqlite3_trace_v2',\n            'int',\n            [\n              'sqlite3*',\n              'int',\n              new wasm.xWrap.FuncPtrAdapter({\n                name: 'sqlite3_trace_v2::callback',\n                signature: 'i(ippp)',\n                contextKey: (argv, argIndex) => argv[0],\n              }),\n              '*',\n            ],\n          ],\n          ['sqlite3_txn_state', 'int', ['sqlite3*', 'string']],\n\n          ['sqlite3_uri_boolean', 'int', 'sqlite3_filename', 'string', 'int'],\n          ['sqlite3_uri_key', 'string', 'sqlite3_filename', 'int'],\n          ['sqlite3_uri_parameter', 'string', 'sqlite3_filename', 'string'],\n          ['sqlite3_user_data', 'void*', 'sqlite3_context*'],\n          ['sqlite3_value_blob', '*', 'sqlite3_value*'],\n          ['sqlite3_value_bytes', 'int', 'sqlite3_value*'],\n          ['sqlite3_value_double', 'f64', 'sqlite3_value*'],\n          ['sqlite3_value_dup', 'sqlite3_value*', 'sqlite3_value*'],\n          ['sqlite3_value_free', undefined, 'sqlite3_value*'],\n          ['sqlite3_value_frombind', 'int', 'sqlite3_value*'],\n          ['sqlite3_value_int', 'int', 'sqlite3_value*'],\n          ['sqlite3_value_nochange', 'int', 'sqlite3_value*'],\n          ['sqlite3_value_numeric_type', 'int', 'sqlite3_value*'],\n          ['sqlite3_value_pointer', '*', 'sqlite3_value*', 'string:static'],\n          ['sqlite3_value_subtype', 'int', 'sqlite3_value*'],\n          ['sqlite3_value_text', 'string', 'sqlite3_value*'],\n          ['sqlite3_value_type', 'int', 'sqlite3_value*'],\n          ['sqlite3_vfs_find', '*', 'string'],\n          ['sqlite3_vfs_register', 'int', 'sqlite3_vfs*', 'int'],\n          ['sqlite3_vfs_unregister', 'int', 'sqlite3_vfs*'],\n        ];\n\n        if (false && wasm.compileOptionUsed('SQLITE_ENABLE_NORMALIZE')) {\n          wasm.bindingSignatures.push([\n            'sqlite3_normalized_sql',\n            'string',\n            'sqlite3_stmt*',\n          ]);\n        }\n\n        if (wasm.exports.sqlite3_activate_see instanceof Function) {\n          wasm.bindingSignatures.push(\n            ['sqlite3_key', 'int', 'sqlite3*', 'string', 'int'],\n            ['sqlite3_key_v2', 'int', 'sqlite3*', 'string', '*', 'int'],\n            ['sqlite3_rekey', 'int', 'sqlite3*', 'string', 'int'],\n            ['sqlite3_rekey_v2', 'int', 'sqlite3*', 'string', '*', 'int'],\n            ['sqlite3_activate_see', undefined, 'string'],\n          );\n        }\n\n        wasm.bindingSignatures.int64 = [\n          ['sqlite3_bind_int64', 'int', ['sqlite3_stmt*', 'int', 'i64']],\n          ['sqlite3_changes64', 'i64', ['sqlite3*']],\n          ['sqlite3_column_int64', 'i64', ['sqlite3_stmt*', 'int']],\n          [\n            'sqlite3_create_module',\n            'int',\n            ['sqlite3*', 'string', 'sqlite3_module*', '*'],\n          ],\n          [\n            'sqlite3_create_module_v2',\n            'int',\n            ['sqlite3*', 'string', 'sqlite3_module*', '*', '*'],\n          ],\n          ['sqlite3_declare_vtab', 'int', ['sqlite3*', 'string:flexible']],\n          [\n            'sqlite3_deserialize',\n            'int',\n            'sqlite3*',\n            'string',\n            '*',\n            'i64',\n            'i64',\n            'int',\n          ],\n          ['sqlite3_drop_modules', 'int', ['sqlite3*', '**']],\n          ['sqlite3_last_insert_rowid', 'i64', ['sqlite3*']],\n          ['sqlite3_malloc64', '*', 'i64'],\n          ['sqlite3_msize', 'i64', '*'],\n          ['sqlite3_overload_function', 'int', ['sqlite3*', 'string', 'int']],\n          ['sqlite3_preupdate_blobwrite', 'int', 'sqlite3*'],\n          ['sqlite3_preupdate_count', 'int', 'sqlite3*'],\n          ['sqlite3_preupdate_depth', 'int', 'sqlite3*'],\n          [\n            'sqlite3_preupdate_hook',\n            '*',\n            [\n              'sqlite3*',\n              new wasm.xWrap.FuncPtrAdapter({\n                name: 'sqlite3_preupdate_hook',\n                signature: 'v(ppippjj)',\n                contextKey: (argv) => argv[0],\n                callProxy: (callback) => {\n                  return (p, db, op, zDb, zTbl, iKey1, iKey2) => {\n                    callback(\n                      p,\n                      db,\n                      op,\n                      wasm.cstrToJs(zDb),\n                      wasm.cstrToJs(zTbl),\n                      iKey1,\n                      iKey2,\n                    );\n                  };\n                },\n              }),\n              '*',\n            ],\n          ],\n          ['sqlite3_preupdate_new', 'int', ['sqlite3*', 'int', '**']],\n          ['sqlite3_preupdate_old', 'int', ['sqlite3*', 'int', '**']],\n          ['sqlite3_realloc64', '*', '*', 'i64'],\n          ['sqlite3_result_int64', undefined, '*', 'i64'],\n          ['sqlite3_result_zeroblob64', 'int', '*', 'i64'],\n          ['sqlite3_serialize', '*', 'sqlite3*', 'string', '*', 'int'],\n          ['sqlite3_set_last_insert_rowid', undefined, ['sqlite3*', 'i64']],\n          ['sqlite3_status64', 'int', 'int', '*', '*', 'int'],\n          ['sqlite3_total_changes64', 'i64', ['sqlite3*']],\n          [\n            'sqlite3_update_hook',\n            '*',\n            [\n              'sqlite3*',\n              new wasm.xWrap.FuncPtrAdapter({\n                name: 'sqlite3_update_hook',\n                signature: 'v(iippj)',\n                contextKey: (argv) => argv[0],\n                callProxy: (callback) => {\n                  return (p, op, z0, z1, rowid) => {\n                    callback(\n                      p,\n                      op,\n                      wasm.cstrToJs(z0),\n                      wasm.cstrToJs(z1),\n                      rowid,\n                    );\n                  };\n                },\n              }),\n              '*',\n            ],\n          ],\n          ['sqlite3_uri_int64', 'i64', ['sqlite3_filename', 'string', 'i64']],\n          ['sqlite3_value_int64', 'i64', 'sqlite3_value*'],\n          ['sqlite3_vtab_collation', 'string', 'sqlite3_index_info*', 'int'],\n          ['sqlite3_vtab_distinct', 'int', 'sqlite3_index_info*'],\n          ['sqlite3_vtab_in', 'int', 'sqlite3_index_info*', 'int', 'int'],\n          ['sqlite3_vtab_in_first', 'int', 'sqlite3_value*', '**'],\n          ['sqlite3_vtab_in_next', 'int', 'sqlite3_value*', '**'],\n\n          ['sqlite3_vtab_nochange', 'int', 'sqlite3_context*'],\n          ['sqlite3_vtab_on_conflict', 'int', 'sqlite3*'],\n          ['sqlite3_vtab_rhs_value', 'int', 'sqlite3_index_info*', 'int', '**'],\n        ];\n\n        if (wasm.bigIntEnabled && !!wasm.exports.sqlite3changegroup_add) {\n          const __ipsProxy = {\n            signature: 'i(ps)',\n            callProxy: (callback) => {\n              return (p, s) => {\n                try {\n                  return callback(p, wasm.cstrToJs(s)) | 0;\n                } catch (e) {\n                  return e.resultCode || capi.SQLITE_ERROR;\n                }\n              };\n            },\n          };\n\n          wasm.bindingSignatures.int64.push(\n            ...[\n              [\n                'sqlite3changegroup_add',\n                'int',\n                ['sqlite3_changegroup*', 'int', 'void*'],\n              ],\n              [\n                'sqlite3changegroup_add_strm',\n                'int',\n                [\n                  'sqlite3_changegroup*',\n                  new wasm.xWrap.FuncPtrAdapter({\n                    name: 'xInput',\n                    signature: 'i(ppp)',\n                    bindScope: 'transient',\n                  }),\n                  'void*',\n                ],\n              ],\n              [\n                'sqlite3changegroup_delete',\n                undefined,\n                ['sqlite3_changegroup*'],\n              ],\n              ['sqlite3changegroup_new', 'int', ['**']],\n              [\n                'sqlite3changegroup_output',\n                'int',\n                ['sqlite3_changegroup*', 'int*', '**'],\n              ],\n              [\n                'sqlite3changegroup_output_strm',\n                'int',\n                [\n                  'sqlite3_changegroup*',\n                  new wasm.xWrap.FuncPtrAdapter({\n                    name: 'xOutput',\n                    signature: 'i(ppi)',\n                    bindScope: 'transient',\n                  }),\n                  'void*',\n                ],\n              ],\n              [\n                'sqlite3changeset_apply',\n                'int',\n                [\n                  'sqlite3*',\n                  'int',\n                  'void*',\n                  new wasm.xWrap.FuncPtrAdapter({\n                    name: 'xFilter',\n                    bindScope: 'transient',\n                    ...__ipsProxy,\n                  }),\n                  new wasm.xWrap.FuncPtrAdapter({\n                    name: 'xConflict',\n                    signature: 'i(pip)',\n                    bindScope: 'transient',\n                  }),\n                  'void*',\n                ],\n              ],\n              [\n                'sqlite3changeset_apply_strm',\n                'int',\n                [\n                  'sqlite3*',\n                  new wasm.xWrap.FuncPtrAdapter({\n                    name: 'xInput',\n                    signature: 'i(ppp)',\n                    bindScope: 'transient',\n                  }),\n                  'void*',\n                  new wasm.xWrap.FuncPtrAdapter({\n                    name: 'xFilter',\n                    bindScope: 'transient',\n                    ...__ipsProxy,\n                  }),\n                  new wasm.xWrap.FuncPtrAdapter({\n                    name: 'xConflict',\n                    signature: 'i(pip)',\n                    bindScope: 'transient',\n                  }),\n                  'void*',\n                ],\n              ],\n              [\n                'sqlite3changeset_apply_v2',\n                'int',\n                [\n                  'sqlite3*',\n                  'int',\n                  'void*',\n                  new wasm.xWrap.FuncPtrAdapter({\n                    name: 'xFilter',\n                    bindScope: 'transient',\n                    ...__ipsProxy,\n                  }),\n                  new wasm.xWrap.FuncPtrAdapter({\n                    name: 'xConflict',\n                    signature: 'i(pip)',\n                    bindScope: 'transient',\n                  }),\n                  'void*',\n                  '**',\n                  'int*',\n                  'int',\n                ],\n              ],\n              [\n                'sqlite3changeset_apply_v2_strm',\n                'int',\n                [\n                  'sqlite3*',\n                  new wasm.xWrap.FuncPtrAdapter({\n                    name: 'xInput',\n                    signature: 'i(ppp)',\n                    bindScope: 'transient',\n                  }),\n                  'void*',\n                  new wasm.xWrap.FuncPtrAdapter({\n                    name: 'xFilter',\n                    bindScope: 'transient',\n                    ...__ipsProxy,\n                  }),\n                  new wasm.xWrap.FuncPtrAdapter({\n                    name: 'xConflict',\n                    signature: 'i(pip)',\n                    bindScope: 'transient',\n                  }),\n                  'void*',\n                  '**',\n                  'int*',\n                  'int',\n                ],\n              ],\n              [\n                'sqlite3changeset_concat',\n                'int',\n                ['int', 'void*', 'int', 'void*', 'int*', '**'],\n              ],\n              [\n                'sqlite3changeset_concat_strm',\n                'int',\n                [\n                  new wasm.xWrap.FuncPtrAdapter({\n                    name: 'xInputA',\n                    signature: 'i(ppp)',\n                    bindScope: 'transient',\n                  }),\n                  'void*',\n                  new wasm.xWrap.FuncPtrAdapter({\n                    name: 'xInputB',\n                    signature: 'i(ppp)',\n                    bindScope: 'transient',\n                  }),\n                  'void*',\n                  new wasm.xWrap.FuncPtrAdapter({\n                    name: 'xOutput',\n                    signature: 'i(ppi)',\n                    bindScope: 'transient',\n                  }),\n                  'void*',\n                ],\n              ],\n              [\n                'sqlite3changeset_conflict',\n                'int',\n                ['sqlite3_changeset_iter*', 'int', '**'],\n              ],\n              ['sqlite3changeset_finalize', 'int', ['sqlite3_changeset_iter*']],\n              [\n                'sqlite3changeset_fk_conflicts',\n                'int',\n                ['sqlite3_changeset_iter*', 'int*'],\n              ],\n              [\n                'sqlite3changeset_invert',\n                'int',\n                ['int', 'void*', 'int*', '**'],\n              ],\n              [\n                'sqlite3changeset_invert_strm',\n                'int',\n                [\n                  new wasm.xWrap.FuncPtrAdapter({\n                    name: 'xInput',\n                    signature: 'i(ppp)',\n                    bindScope: 'transient',\n                  }),\n                  'void*',\n                  new wasm.xWrap.FuncPtrAdapter({\n                    name: 'xOutput',\n                    signature: 'i(ppi)',\n                    bindScope: 'transient',\n                  }),\n                  'void*',\n                ],\n              ],\n              [\n                'sqlite3changeset_new',\n                'int',\n                ['sqlite3_changeset_iter*', 'int', '**'],\n              ],\n              ['sqlite3changeset_next', 'int', ['sqlite3_changeset_iter*']],\n              [\n                'sqlite3changeset_old',\n                'int',\n                ['sqlite3_changeset_iter*', 'int', '**'],\n              ],\n              [\n                'sqlite3changeset_op',\n                'int',\n                ['sqlite3_changeset_iter*', '**', 'int*', 'int*', 'int*'],\n              ],\n              [\n                'sqlite3changeset_pk',\n                'int',\n                ['sqlite3_changeset_iter*', '**', 'int*'],\n              ],\n              ['sqlite3changeset_start', 'int', ['**', 'int', '*']],\n              [\n                'sqlite3changeset_start_strm',\n                'int',\n                [\n                  '**',\n                  new wasm.xWrap.FuncPtrAdapter({\n                    name: 'xInput',\n                    signature: 'i(ppp)',\n                    bindScope: 'transient',\n                  }),\n                  'void*',\n                ],\n              ],\n              ['sqlite3changeset_start_v2', 'int', ['**', 'int', '*', 'int']],\n              [\n                'sqlite3changeset_start_v2_strm',\n                'int',\n                [\n                  '**',\n                  new wasm.xWrap.FuncPtrAdapter({\n                    name: 'xInput',\n                    signature: 'i(ppp)',\n                    bindScope: 'transient',\n                  }),\n                  'void*',\n                  'int',\n                ],\n              ],\n              ['sqlite3session_attach', 'int', ['sqlite3_session*', 'string']],\n              [\n                'sqlite3session_changeset',\n                'int',\n                ['sqlite3_session*', 'int*', '**'],\n              ],\n              ['sqlite3session_changeset_size', 'i64', ['sqlite3_session*']],\n              [\n                'sqlite3session_changeset_strm',\n                'int',\n                [\n                  'sqlite3_session*',\n                  new wasm.xWrap.FuncPtrAdapter({\n                    name: 'xOutput',\n                    signature: 'i(ppp)',\n                    bindScope: 'transient',\n                  }),\n                  'void*',\n                ],\n              ],\n              ['sqlite3session_config', 'int', ['int', 'void*']],\n              ['sqlite3session_create', 'int', ['sqlite3*', 'string', '**']],\n\n              [\n                'sqlite3session_diff',\n                'int',\n                ['sqlite3_session*', 'string', 'string', '**'],\n              ],\n              ['sqlite3session_enable', 'int', ['sqlite3_session*', 'int']],\n              ['sqlite3session_indirect', 'int', ['sqlite3_session*', 'int']],\n              ['sqlite3session_isempty', 'int', ['sqlite3_session*']],\n              ['sqlite3session_memory_used', 'i64', ['sqlite3_session*']],\n              [\n                'sqlite3session_object_config',\n                'int',\n                ['sqlite3_session*', 'int', 'void*'],\n              ],\n              [\n                'sqlite3session_patchset',\n                'int',\n                ['sqlite3_session*', '*', '**'],\n              ],\n              [\n                'sqlite3session_patchset_strm',\n                'int',\n                [\n                  'sqlite3_session*',\n                  new wasm.xWrap.FuncPtrAdapter({\n                    name: 'xOutput',\n                    signature: 'i(ppp)',\n                    bindScope: 'transient',\n                  }),\n                  'void*',\n                ],\n              ],\n              [\n                'sqlite3session_table_filter',\n                undefined,\n                [\n                  'sqlite3_session*',\n                  new wasm.xWrap.FuncPtrAdapter({\n                    name: 'xFilter',\n                    ...__ipsProxy,\n                    contextKey: (argv, argIndex) => argv[0],\n                  }),\n                  '*',\n                ],\n              ],\n            ],\n          );\n        }\n\n        wasm.bindingSignatures.wasm = [\n          ['sqlite3_wasm_db_reset', 'int', 'sqlite3*'],\n          ['sqlite3_wasm_db_vfs', 'sqlite3_vfs*', 'sqlite3*', 'string'],\n          [\n            'sqlite3_wasm_vfs_create_file',\n            'int',\n            'sqlite3_vfs*',\n            'string',\n            '*',\n            'int',\n          ],\n          ['sqlite3_wasm_posix_create_file', 'int', 'string', '*', 'int'],\n          ['sqlite3_wasm_vfs_unlink', 'int', 'sqlite3_vfs*', 'string'],\n        ];\n\n        sqlite3.StructBinder = globalThis.Jaccwabyt({\n          heap: 0 ? wasm.memory : wasm.heap8u,\n          alloc: wasm.alloc,\n          dealloc: wasm.dealloc,\n          bigIntEnabled: wasm.bigIntEnabled,\n          memberPrefix: '$',\n        });\n        delete globalThis.Jaccwabyt;\n\n        {\n          const __xString = wasm.xWrap.argAdapter('string');\n          wasm.xWrap.argAdapter('string:flexible', (v) =>\n            __xString(util.flexibleString(v)),\n          );\n\n          wasm.xWrap.argAdapter(\n            'string:static',\n            function (v) {\n              if (wasm.isPtr(v)) return v;\n              v = '' + v;\n              let rc = this[v];\n              return rc || (this[v] = wasm.allocCString(v));\n            }.bind(Object.create(null)),\n          );\n\n          const __xArgPtr = wasm.xWrap.argAdapter('*');\n          const nilType = function () {};\n          wasm.xWrap.argAdapter('sqlite3_filename', __xArgPtr)(\n            'sqlite3_context*',\n            __xArgPtr,\n          )('sqlite3_value*', __xArgPtr)('void*', __xArgPtr)(\n            'sqlite3_changegroup*',\n            __xArgPtr,\n          )('sqlite3_changeset_iter*', __xArgPtr)(\n            'sqlite3_session*',\n            __xArgPtr,\n          )('sqlite3_stmt*', (v) =>\n            __xArgPtr(\n              v instanceof (sqlite3?.oo1?.Stmt || nilType) ? v.pointer : v,\n            ),\n          )('sqlite3*', (v) =>\n            __xArgPtr(\n              v instanceof (sqlite3?.oo1?.DB || nilType) ? v.pointer : v,\n            ),\n          )('sqlite3_index_info*', (v) =>\n            __xArgPtr(\n              v instanceof (capi.sqlite3_index_info || nilType) ? v.pointer : v,\n            ),\n          )('sqlite3_module*', (v) =>\n            __xArgPtr(\n              v instanceof (capi.sqlite3_module || nilType) ? v.pointer : v,\n            ),\n          )('sqlite3_vfs*', (v) => {\n            if ('string' === typeof v) {\n              return (\n                capi.sqlite3_vfs_find(v) ||\n                sqlite3.SQLite3Error.toss(\n                  capi.SQLITE_NOTFOUND,\n                  'Unknown sqlite3_vfs name:',\n                  v,\n                )\n              );\n            }\n            return __xArgPtr(\n              v instanceof (capi.sqlite3_vfs || nilType) ? v.pointer : v,\n            );\n          });\n\n          const __xRcPtr = wasm.xWrap.resultAdapter('*');\n          wasm.xWrap.resultAdapter('sqlite3*', __xRcPtr)(\n            'sqlite3_context*',\n            __xRcPtr,\n          )('sqlite3_stmt*', __xRcPtr)('sqlite3_value*', __xRcPtr)(\n            'sqlite3_vfs*',\n            __xRcPtr,\n          )('void*', __xRcPtr);\n\n          if (0 === wasm.exports.sqlite3_step.length) {\n            wasm.xWrap.doArgcCheck = false;\n            sqlite3.config.warn(\n              'Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks.',\n            );\n          }\n          for (const e of wasm.bindingSignatures) {\n            capi[e[0]] = wasm.xWrap.apply(null, e);\n          }\n          for (const e of wasm.bindingSignatures.wasm) {\n            wasm[e[0]] = wasm.xWrap.apply(null, e);\n          }\n\n          const fI64Disabled = function (fname) {\n            return () =>\n              toss(\n                fname + '() is unavailable due to lack',\n                'of BigInt support in this build.',\n              );\n          };\n          for (const e of wasm.bindingSignatures.int64) {\n            capi[e[0]] = wasm.bigIntEnabled\n              ? wasm.xWrap.apply(null, e)\n              : fI64Disabled(e[0]);\n          }\n\n          delete wasm.bindingSignatures;\n\n          if (wasm.exports.sqlite3_wasm_db_error) {\n            const __db_err = wasm.xWrap(\n              'sqlite3_wasm_db_error',\n              'int',\n              'sqlite3*',\n              'int',\n              'string',\n            );\n\n            util.sqlite3_wasm_db_error = function (pDb, resultCode, message) {\n              if (resultCode instanceof sqlite3.WasmAllocError) {\n                resultCode = capi.SQLITE_NOMEM;\n                message = 0;\n              } else if (resultCode instanceof Error) {\n                message = message || '' + resultCode;\n                resultCode = resultCode.resultCode || capi.SQLITE_ERROR;\n              }\n              return pDb ? __db_err(pDb, resultCode, message) : resultCode;\n            };\n          } else {\n            util.sqlite3_wasm_db_error = function (pDb, errCode, msg) {\n              console.warn(\n                'sqlite3_wasm_db_error() is not exported.',\n                arguments,\n              );\n              return errCode;\n            };\n          }\n        }\n\n        {\n          const cJson = wasm.xCall('sqlite3_wasm_enum_json');\n          if (!cJson) {\n            toss(\n              \"Maintenance required: increase sqlite3_wasm_enum_json()'s\",\n              'static buffer size!',\n            );\n          }\n\n          wasm.ctype = JSON.parse(wasm.cstrToJs(cJson));\n\n          const defineGroups = [\n            'access',\n            'authorizer',\n            'blobFinalizers',\n            'changeset',\n            'config',\n            'dataTypes',\n            'dbConfig',\n            'dbStatus',\n            'encodings',\n            'fcntl',\n            'flock',\n            'ioCap',\n            'limits',\n            'openFlags',\n            'prepareFlags',\n            'resultCodes',\n            'sqlite3Status',\n            'stmtStatus',\n            'syncFlags',\n            'trace',\n            'txnState',\n            'udfFlags',\n            'version',\n          ];\n          if (wasm.bigIntEnabled) {\n            defineGroups.push('serialize', 'session', 'vtab');\n          }\n          for (const t of defineGroups) {\n            for (const e of Object.entries(wasm.ctype[t])) {\n              capi[e[0]] = e[1];\n            }\n          }\n          if (!wasm.functionEntry(capi.SQLITE_WASM_DEALLOC)) {\n            toss(\n              'Internal error: cannot resolve exported function',\n              'entry SQLITE_WASM_DEALLOC (==' + capi.SQLITE_WASM_DEALLOC + ').',\n            );\n          }\n          const __rcMap = Object.create(null);\n          for (const t of ['resultCodes']) {\n            for (const e of Object.entries(wasm.ctype[t])) {\n              __rcMap[e[1]] = e[0];\n            }\n          }\n\n          capi.sqlite3_js_rc_str = (rc) => __rcMap[rc];\n\n          const notThese = Object.assign(Object.create(null), {\n            WasmTestStruct: true,\n\n            sqlite3_kvvfs_methods: !util.isUIThread(),\n\n            sqlite3_index_info: !wasm.bigIntEnabled,\n            sqlite3_index_constraint: !wasm.bigIntEnabled,\n            sqlite3_index_orderby: !wasm.bigIntEnabled,\n            sqlite3_index_constraint_usage: !wasm.bigIntEnabled,\n          });\n          for (const s of wasm.ctype.structs) {\n            if (!notThese[s.name]) {\n              capi[s.name] = sqlite3.StructBinder(s);\n            }\n          }\n          if (capi.sqlite3_index_info) {\n            for (const k of [\n              'sqlite3_index_constraint',\n              'sqlite3_index_orderby',\n              'sqlite3_index_constraint_usage',\n            ]) {\n              capi.sqlite3_index_info[k] = capi[k];\n              delete capi[k];\n            }\n            capi.sqlite3_vtab_config = wasm.xWrap(\n              'sqlite3_wasm_vtab_config',\n              'int',\n              ['sqlite3*', 'int', 'int'],\n            );\n          }\n        }\n\n        const __dbArgcMismatch = (pDb, f, n) => {\n          return util.sqlite3_wasm_db_error(\n            pDb,\n            capi.SQLITE_MISUSE,\n            f + '() requires ' + n + ' argument' + (1 === n ? '' : 's') + '.',\n          );\n        };\n\n        const __errEncoding = (pDb) => {\n          return util.sqlite3_wasm_db_error(\n            pDb,\n            capi.SQLITE_FORMAT,\n            'SQLITE_UTF8 is the only supported encoding.',\n          );\n        };\n\n        const __argPDb = (pDb) => wasm.xWrap.argAdapter('sqlite3*')(pDb);\n        const __argStr = (str) => (wasm.isPtr(str) ? wasm.cstrToJs(str) : str);\n        const __dbCleanupMap = function (pDb, mode) {\n          pDb = __argPDb(pDb);\n          let m = this.dbMap.get(pDb);\n          if (!mode) {\n            this.dbMap.delete(pDb);\n            return m;\n          } else if (!m && mode > 0) {\n            this.dbMap.set(pDb, (m = Object.create(null)));\n          }\n          return m;\n        }.bind(\n          Object.assign(Object.create(null), {\n            dbMap: new Map(),\n          }),\n        );\n\n        __dbCleanupMap.addCollation = function (pDb, name) {\n          const m = __dbCleanupMap(pDb, 1);\n          if (!m.collation) m.collation = new Set();\n          m.collation.add(__argStr(name).toLowerCase());\n        };\n\n        __dbCleanupMap._addUDF = function (pDb, name, arity, map) {\n          name = __argStr(name).toLowerCase();\n          let u = map.get(name);\n          if (!u) map.set(name, (u = new Set()));\n          u.add(arity < 0 ? -1 : arity);\n        };\n\n        __dbCleanupMap.addFunction = function (pDb, name, arity) {\n          const m = __dbCleanupMap(pDb, 1);\n          if (!m.udf) m.udf = new Map();\n          this._addUDF(pDb, name, arity, m.udf);\n        };\n\n        __dbCleanupMap.addWindowFunc = function (pDb, name, arity) {\n          const m = __dbCleanupMap(pDb, 1);\n          if (!m.wudf) m.wudf = new Map();\n          this._addUDF(pDb, name, arity, m.wudf);\n        };\n\n        __dbCleanupMap.cleanup = function (pDb) {\n          pDb = __argPDb(pDb);\n\n          const closeArgs = [pDb];\n          for (const name of [\n            'sqlite3_busy_handler',\n            'sqlite3_commit_hook',\n            'sqlite3_preupdate_hook',\n            'sqlite3_progress_handler',\n            'sqlite3_rollback_hook',\n            'sqlite3_set_authorizer',\n            'sqlite3_trace_v2',\n            'sqlite3_update_hook',\n          ]) {\n            const x = wasm.exports[name];\n            closeArgs.length = x.length;\n            try {\n              capi[name](...closeArgs);\n            } catch (e) {\n              console.warn(\n                'close-time call of',\n                name + '(',\n                closeArgs,\n                ') threw:',\n                e,\n              );\n            }\n          }\n          const m = __dbCleanupMap(pDb, 0);\n          if (!m) return;\n          if (m.collation) {\n            for (const name of m.collation) {\n              try {\n                capi.sqlite3_create_collation_v2(\n                  pDb,\n                  name,\n                  capi.SQLITE_UTF8,\n                  0,\n                  0,\n                  0,\n                );\n              } catch (e) {}\n            }\n            delete m.collation;\n          }\n          let i;\n          for (i = 0; i < 2; ++i) {\n            const fmap = i ? m.wudf : m.udf;\n            if (!fmap) continue;\n            const func = i\n              ? capi.sqlite3_create_window_function\n              : capi.sqlite3_create_function_v2;\n            for (const e of fmap) {\n              const name = e[0],\n                arities = e[1];\n              const fargs = [pDb, name, 0, capi.SQLITE_UTF8, 0, 0, 0, 0, 0];\n              if (i) fargs.push(0);\n              for (const arity of arities) {\n                try {\n                  fargs[2] = arity;\n                  func.apply(null, fargs);\n                } catch (e) {}\n              }\n              arities.clear();\n            }\n            fmap.clear();\n          }\n          delete m.udf;\n          delete m.wudf;\n        };\n\n        {\n          const __sqlite3CloseV2 = wasm.xWrap(\n            'sqlite3_close_v2',\n            'int',\n            'sqlite3*',\n          );\n          capi.sqlite3_close_v2 = function (pDb) {\n            if (1 !== arguments.length)\n              return __dbArgcMismatch(pDb, 'sqlite3_close_v2', 1);\n            if (pDb) {\n              try {\n                __dbCleanupMap.cleanup(pDb);\n              } catch (e) {}\n            }\n            return __sqlite3CloseV2(pDb);\n          };\n        }\n\n        if (capi.sqlite3session_table_filter) {\n          const __sqlite3SessionDelete = wasm.xWrap(\n            'sqlite3session_delete',\n            undefined,\n            ['sqlite3_session*'],\n          );\n          capi.sqlite3session_delete = function (pSession) {\n            if (1 !== arguments.length) {\n              return __dbArgcMismatch(pDb, 'sqlite3session_delete', 1);\n            } else if (pSession) {\n              capi.sqlite3session_table_filter(pSession, 0, 0);\n            }\n            __sqlite3SessionDelete(pSession);\n          };\n        }\n\n        {\n          const contextKey = (argv, argIndex) => {\n            return (\n              'argv[' +\n              argIndex +\n              ']:' +\n              argv[0] +\n              ':' +\n              wasm.cstrToJs(argv[1]).toLowerCase()\n            );\n          };\n          const __sqlite3CreateCollationV2 = wasm.xWrap(\n            'sqlite3_create_collation_v2',\n            'int',\n            [\n              'sqlite3*',\n              'string',\n              'int',\n              '*',\n              new wasm.xWrap.FuncPtrAdapter({\n                name: 'xCompare',\n                signature: 'i(pipip)',\n                contextKey,\n              }),\n              new wasm.xWrap.FuncPtrAdapter({\n                name: 'xDestroy',\n                signature: 'v(p)',\n                contextKey,\n              }),\n            ],\n          );\n\n          capi.sqlite3_create_collation_v2 = function (\n            pDb,\n            zName,\n            eTextRep,\n            pArg,\n            xCompare,\n            xDestroy,\n          ) {\n            if (6 !== arguments.length)\n              return __dbArgcMismatch(pDb, 'sqlite3_create_collation_v2', 6);\n            else if (0 === (eTextRep & 0xf)) {\n              eTextRep |= capi.SQLITE_UTF8;\n            } else if (capi.SQLITE_UTF8 !== (eTextRep & 0xf)) {\n              return __errEncoding(pDb);\n            }\n            try {\n              const rc = __sqlite3CreateCollationV2(\n                pDb,\n                zName,\n                eTextRep,\n                pArg,\n                xCompare,\n                xDestroy,\n              );\n              if (0 === rc && xCompare instanceof Function) {\n                __dbCleanupMap.addCollation(pDb, zName);\n              }\n              return rc;\n            } catch (e) {\n              return util.sqlite3_wasm_db_error(pDb, e);\n            }\n          };\n\n          capi.sqlite3_create_collation = (\n            pDb,\n            zName,\n            eTextRep,\n            pArg,\n            xCompare,\n          ) => {\n            return 5 === arguments.length\n              ? capi.sqlite3_create_collation_v2(\n                  pDb,\n                  zName,\n                  eTextRep,\n                  pArg,\n                  xCompare,\n                  0,\n                )\n              : __dbArgcMismatch(pDb, 'sqlite3_create_collation', 5);\n          };\n        }\n\n        {\n          const contextKey = function (argv, argIndex) {\n            return (\n              argv[0] +\n              ':' +\n              (argv[2] < 0 ? -1 : argv[2]) +\n              ':' +\n              argIndex +\n              ':' +\n              wasm.cstrToJs(argv[1]).toLowerCase()\n            );\n          };\n\n          const __cfProxy = Object.assign(Object.create(null), {\n            xInverseAndStep: {\n              signature: 'v(pip)',\n              contextKey,\n              callProxy: (callback) => {\n                return (pCtx, argc, pArgv) => {\n                  try {\n                    callback(pCtx, ...capi.sqlite3_values_to_js(argc, pArgv));\n                  } catch (e) {\n                    capi.sqlite3_result_error_js(pCtx, e);\n                  }\n                };\n              },\n            },\n            xFinalAndValue: {\n              signature: 'v(p)',\n              contextKey,\n              callProxy: (callback) => {\n                return (pCtx) => {\n                  try {\n                    capi.sqlite3_result_js(pCtx, callback(pCtx));\n                  } catch (e) {\n                    capi.sqlite3_result_error_js(pCtx, e);\n                  }\n                };\n              },\n            },\n            xFunc: {\n              signature: 'v(pip)',\n              contextKey,\n              callProxy: (callback) => {\n                return (pCtx, argc, pArgv) => {\n                  try {\n                    capi.sqlite3_result_js(\n                      pCtx,\n                      callback(pCtx, ...capi.sqlite3_values_to_js(argc, pArgv)),\n                    );\n                  } catch (e) {\n                    capi.sqlite3_result_error_js(pCtx, e);\n                  }\n                };\n              },\n            },\n            xDestroy: {\n              signature: 'v(p)',\n              contextKey,\n\n              callProxy: (callback) => {\n                return (pVoid) => {\n                  try {\n                    callback(pVoid);\n                  } catch (e) {\n                    console.error('UDF xDestroy method threw:', e);\n                  }\n                };\n              },\n            },\n          });\n\n          const __sqlite3CreateFunction = wasm.xWrap(\n            'sqlite3_create_function_v2',\n            'int',\n            [\n              'sqlite3*',\n              'string',\n              'int',\n              'int',\n              '*',\n              new wasm.xWrap.FuncPtrAdapter({\n                name: 'xFunc',\n                ...__cfProxy.xFunc,\n              }),\n              new wasm.xWrap.FuncPtrAdapter({\n                name: 'xStep',\n                ...__cfProxy.xInverseAndStep,\n              }),\n              new wasm.xWrap.FuncPtrAdapter({\n                name: 'xFinal',\n                ...__cfProxy.xFinalAndValue,\n              }),\n              new wasm.xWrap.FuncPtrAdapter({\n                name: 'xDestroy',\n                ...__cfProxy.xDestroy,\n              }),\n            ],\n          );\n\n          const __sqlite3CreateWindowFunction = wasm.xWrap(\n            'sqlite3_create_window_function',\n            'int',\n            [\n              'sqlite3*',\n              'string',\n              'int',\n              'int',\n              '*',\n              new wasm.xWrap.FuncPtrAdapter({\n                name: 'xStep',\n                ...__cfProxy.xInverseAndStep,\n              }),\n              new wasm.xWrap.FuncPtrAdapter({\n                name: 'xFinal',\n                ...__cfProxy.xFinalAndValue,\n              }),\n              new wasm.xWrap.FuncPtrAdapter({\n                name: 'xValue',\n                ...__cfProxy.xFinalAndValue,\n              }),\n              new wasm.xWrap.FuncPtrAdapter({\n                name: 'xInverse',\n                ...__cfProxy.xInverseAndStep,\n              }),\n              new wasm.xWrap.FuncPtrAdapter({\n                name: 'xDestroy',\n                ...__cfProxy.xDestroy,\n              }),\n            ],\n          );\n\n          capi.sqlite3_create_function_v2 = function f(\n            pDb,\n            funcName,\n            nArg,\n            eTextRep,\n            pApp,\n            xFunc,\n            xStep,\n            xFinal,\n            xDestroy,\n          ) {\n            if (f.length !== arguments.length) {\n              return __dbArgcMismatch(\n                pDb,\n                'sqlite3_create_function_v2',\n                f.length,\n              );\n            } else if (0 === (eTextRep & 0xf)) {\n              eTextRep |= capi.SQLITE_UTF8;\n            } else if (capi.SQLITE_UTF8 !== (eTextRep & 0xf)) {\n              return __errEncoding(pDb);\n            }\n            try {\n              const rc = __sqlite3CreateFunction(\n                pDb,\n                funcName,\n                nArg,\n                eTextRep,\n                pApp,\n                xFunc,\n                xStep,\n                xFinal,\n                xDestroy,\n              );\n              if (\n                0 === rc &&\n                (xFunc instanceof Function ||\n                  xStep instanceof Function ||\n                  xFinal instanceof Function ||\n                  xDestroy instanceof Function)\n              ) {\n                __dbCleanupMap.addFunction(pDb, funcName, nArg);\n              }\n              return rc;\n            } catch (e) {\n              console.error('sqlite3_create_function_v2() setup threw:', e);\n              return util.sqlite3_wasm_db_error(\n                pDb,\n                e,\n                'Creation of UDF threw: ' + e,\n              );\n            }\n          };\n\n          capi.sqlite3_create_function = function f(\n            pDb,\n            funcName,\n            nArg,\n            eTextRep,\n            pApp,\n            xFunc,\n            xStep,\n            xFinal,\n          ) {\n            return f.length === arguments.length\n              ? capi.sqlite3_create_function_v2(\n                  pDb,\n                  funcName,\n                  nArg,\n                  eTextRep,\n                  pApp,\n                  xFunc,\n                  xStep,\n                  xFinal,\n                  0,\n                )\n              : __dbArgcMismatch(pDb, 'sqlite3_create_function', f.length);\n          };\n\n          capi.sqlite3_create_window_function = function f(\n            pDb,\n            funcName,\n            nArg,\n            eTextRep,\n            pApp,\n            xStep,\n            xFinal,\n            xValue,\n            xInverse,\n            xDestroy,\n          ) {\n            if (f.length !== arguments.length) {\n              return __dbArgcMismatch(\n                pDb,\n                'sqlite3_create_window_function',\n                f.length,\n              );\n            } else if (0 === (eTextRep & 0xf)) {\n              eTextRep |= capi.SQLITE_UTF8;\n            } else if (capi.SQLITE_UTF8 !== (eTextRep & 0xf)) {\n              return __errEncoding(pDb);\n            }\n            try {\n              const rc = __sqlite3CreateWindowFunction(\n                pDb,\n                funcName,\n                nArg,\n                eTextRep,\n                pApp,\n                xStep,\n                xFinal,\n                xValue,\n                xInverse,\n                xDestroy,\n              );\n              if (\n                0 === rc &&\n                (xStep instanceof Function ||\n                  xFinal instanceof Function ||\n                  xValue instanceof Function ||\n                  xInverse instanceof Function ||\n                  xDestroy instanceof Function)\n              ) {\n                __dbCleanupMap.addWindowFunc(pDb, funcName, nArg);\n              }\n              return rc;\n            } catch (e) {\n              console.error('sqlite3_create_window_function() setup threw:', e);\n              return util.sqlite3_wasm_db_error(\n                pDb,\n                e,\n                'Creation of UDF threw: ' + e,\n              );\n            }\n          };\n\n          capi.sqlite3_create_function_v2.udfSetResult =\n            capi.sqlite3_create_function.udfSetResult =\n            capi.sqlite3_create_window_function.udfSetResult =\n              capi.sqlite3_result_js;\n\n          capi.sqlite3_create_function_v2.udfConvertArgs =\n            capi.sqlite3_create_function.udfConvertArgs =\n            capi.sqlite3_create_window_function.udfConvertArgs =\n              capi.sqlite3_values_to_js;\n\n          capi.sqlite3_create_function_v2.udfSetError =\n            capi.sqlite3_create_function.udfSetError =\n            capi.sqlite3_create_window_function.udfSetError =\n              capi.sqlite3_result_error_js;\n        }\n\n        {\n          const __flexiString = (v, n) => {\n            if ('string' === typeof v) {\n              n = -1;\n            } else if (util.isSQLableTypedArray(v)) {\n              n = v.byteLength;\n              v = util.typedArrayToString(\n                v instanceof ArrayBuffer ? new Uint8Array(v) : v,\n              );\n            } else if (Array.isArray(v)) {\n              v = v.join('');\n              n = -1;\n            }\n            return [v, n];\n          };\n\n          const __prepare = {\n            basic: wasm.xWrap('sqlite3_prepare_v3', 'int', [\n              'sqlite3*',\n              'string',\n              'int',\n              'int',\n              '**',\n              '**',\n            ]),\n\n            full: wasm.xWrap('sqlite3_prepare_v3', 'int', [\n              'sqlite3*',\n              '*',\n              'int',\n              'int',\n              '**',\n              '**',\n            ]),\n          };\n\n          capi.sqlite3_prepare_v3 = function f(\n            pDb,\n            sql,\n            sqlLen,\n            prepFlags,\n            ppStmt,\n            pzTail,\n          ) {\n            if (f.length !== arguments.length) {\n              return __dbArgcMismatch(pDb, 'sqlite3_prepare_v3', f.length);\n            }\n            const [xSql, xSqlLen] = __flexiString(sql, sqlLen);\n            switch (typeof xSql) {\n              case 'string':\n                return __prepare.basic(\n                  pDb,\n                  xSql,\n                  xSqlLen,\n                  prepFlags,\n                  ppStmt,\n                  null,\n                );\n              case 'number':\n                return __prepare.full(\n                  pDb,\n                  xSql,\n                  xSqlLen,\n                  prepFlags,\n                  ppStmt,\n                  pzTail,\n                );\n              default:\n                return util.sqlite3_wasm_db_error(\n                  pDb,\n                  capi.SQLITE_MISUSE,\n                  'Invalid SQL argument type for sqlite3_prepare_v2/v3().',\n                );\n            }\n          };\n\n          capi.sqlite3_prepare_v2 = function f(\n            pDb,\n            sql,\n            sqlLen,\n            ppStmt,\n            pzTail,\n          ) {\n            return f.length === arguments.length\n              ? capi.sqlite3_prepare_v3(pDb, sql, sqlLen, 0, ppStmt, pzTail)\n              : __dbArgcMismatch(pDb, 'sqlite3_prepare_v2', f.length);\n          };\n        }\n\n        {\n          const __bindText = wasm.xWrap('sqlite3_bind_text', 'int', [\n            'sqlite3_stmt*',\n            'int',\n            'string',\n            'int',\n            '*',\n          ]);\n          const __bindBlob = wasm.xWrap('sqlite3_bind_blob', 'int', [\n            'sqlite3_stmt*',\n            'int',\n            '*',\n            'int',\n            '*',\n          ]);\n\n          capi.sqlite3_bind_text = function f(\n            pStmt,\n            iCol,\n            text,\n            nText,\n            xDestroy,\n          ) {\n            if (f.length !== arguments.length) {\n              return __dbArgcMismatch(\n                capi.sqlite3_db_handle(pStmt),\n                'sqlite3_bind_text',\n                f.length,\n              );\n            } else if (wasm.isPtr(text) || null === text) {\n              return __bindText(pStmt, iCol, text, nText, xDestroy);\n            } else if (text instanceof ArrayBuffer) {\n              text = new Uint8Array(text);\n            } else if (Array.isArray(pMem)) {\n              text = pMem.join('');\n            }\n            let p, n;\n            try {\n              if (util.isSQLableTypedArray(text)) {\n                p = wasm.allocFromTypedArray(text);\n                n = text.byteLength;\n              } else if ('string' === typeof text) {\n                [p, n] = wasm.allocCString(text);\n              } else {\n                return util.sqlite3_wasm_db_error(\n                  capi.sqlite3_db_handle(pStmt),\n                  capi.SQLITE_MISUSE,\n                  'Invalid 3rd argument type for sqlite3_bind_text().',\n                );\n              }\n              return __bindText(pStmt, iCol, p, n, capi.SQLITE_WASM_DEALLOC);\n            } catch (e) {\n              wasm.dealloc(p);\n              return util.sqlite3_wasm_db_error(\n                capi.sqlite3_db_handle(pStmt),\n                e,\n              );\n            }\n          };\n\n          capi.sqlite3_bind_blob = function f(\n            pStmt,\n            iCol,\n            pMem,\n            nMem,\n            xDestroy,\n          ) {\n            if (f.length !== arguments.length) {\n              return __dbArgcMismatch(\n                capi.sqlite3_db_handle(pStmt),\n                'sqlite3_bind_blob',\n                f.length,\n              );\n            } else if (wasm.isPtr(pMem) || null === pMem) {\n              return __bindBlob(pStmt, iCol, pMem, nMem, xDestroy);\n            } else if (pMem instanceof ArrayBuffer) {\n              pMem = new Uint8Array(pMem);\n            } else if (Array.isArray(pMem)) {\n              pMem = pMem.join('');\n            }\n            let p, n;\n            try {\n              if (util.isBindableTypedArray(pMem)) {\n                p = wasm.allocFromTypedArray(pMem);\n                n = nMem >= 0 ? nMem : pMem.byteLength;\n              } else if ('string' === typeof pMem) {\n                [p, n] = wasm.allocCString(pMem);\n              } else {\n                return util.sqlite3_wasm_db_error(\n                  capi.sqlite3_db_handle(pStmt),\n                  capi.SQLITE_MISUSE,\n                  'Invalid 3rd argument type for sqlite3_bind_blob().',\n                );\n              }\n              return __bindBlob(pStmt, iCol, p, n, capi.SQLITE_WASM_DEALLOC);\n            } catch (e) {\n              wasm.dealloc(p);\n              return util.sqlite3_wasm_db_error(\n                capi.sqlite3_db_handle(pStmt),\n                e,\n              );\n            }\n          };\n        }\n\n        {\n          capi.sqlite3_config = function (op, ...args) {\n            if (arguments.length < 2) return capi.SQLITE_MISUSE;\n            switch (op) {\n              case capi.SQLITE_CONFIG_COVERING_INDEX_SCAN:\n              case capi.SQLITE_CONFIG_MEMSTATUS:\n              case capi.SQLITE_CONFIG_SMALL_MALLOC:\n              case capi.SQLITE_CONFIG_SORTERREF_SIZE:\n              case capi.SQLITE_CONFIG_STMTJRNL_SPILL:\n              case capi.SQLITE_CONFIG_URI:\n                return wasm.exports.sqlite3_wasm_config_i(op, args[0]);\n              case capi.SQLITE_CONFIG_LOOKASIDE:\n                return wasm.exports.sqlite3_wasm_config_ii(\n                  op,\n                  args[0],\n                  args[1],\n                );\n              case capi.SQLITE_CONFIG_MEMDB_MAXSIZE:\n                return wasm.exports.sqlite3_wasm_config_j(op, args[0]);\n              case capi.SQLITE_CONFIG_GETMALLOC:\n              case capi.SQLITE_CONFIG_GETMUTEX:\n              case capi.SQLITE_CONFIG_GETPCACHE2:\n              case capi.SQLITE_CONFIG_GETPCACHE:\n              case capi.SQLITE_CONFIG_HEAP:\n              case capi.SQLITE_CONFIG_LOG:\n              case capi.SQLITE_CONFIG_MALLOC:\n              case capi.SQLITE_CONFIG_MMAP_SIZE:\n              case capi.SQLITE_CONFIG_MULTITHREAD:\n              case capi.SQLITE_CONFIG_MUTEX:\n              case capi.SQLITE_CONFIG_PAGECACHE:\n              case capi.SQLITE_CONFIG_PCACHE2:\n              case capi.SQLITE_CONFIG_PCACHE:\n              case capi.SQLITE_CONFIG_PCACHE_HDRSZ:\n              case capi.SQLITE_CONFIG_PMASZ:\n              case capi.SQLITE_CONFIG_SERIALIZED:\n              case capi.SQLITE_CONFIG_SINGLETHREAD:\n              case capi.SQLITE_CONFIG_SQLLOG:\n              case capi.SQLITE_CONFIG_WIN32_HEAPSIZE:\n              default:\n                return capi.SQLITE_NOTFOUND;\n            }\n          };\n        }\n\n        {\n          const __autoExtFptr = new Set();\n\n          capi.sqlite3_auto_extension = function (fPtr) {\n            if (fPtr instanceof Function) {\n              fPtr = wasm.installFunction('i(ppp)', fPtr);\n            } else if (1 !== arguments.length || !wasm.isPtr(fPtr)) {\n              return capi.SQLITE_MISUSE;\n            }\n            const rc = wasm.exports.sqlite3_auto_extension(fPtr);\n            if (fPtr !== arguments[0]) {\n              if (0 === rc) __autoExtFptr.add(fPtr);\n              else wasm.uninstallFunction(fPtr);\n            }\n            return rc;\n          };\n\n          capi.sqlite3_cancel_auto_extension = function (fPtr) {\n            if (!fPtr || 1 !== arguments.length || !wasm.isPtr(fPtr)) return 0;\n            return wasm.exports.sqlite3_cancel_auto_extension(fPtr);\n          };\n\n          capi.sqlite3_reset_auto_extension = function () {\n            wasm.exports.sqlite3_reset_auto_extension();\n            for (const fp of __autoExtFptr) wasm.uninstallFunction(fp);\n            __autoExtFptr.clear();\n          };\n        }\n\n        const pKvvfs = capi.sqlite3_vfs_find('kvvfs');\n        if (pKvvfs) {\n          if (util.isUIThread()) {\n            const kvvfsMethods = new capi.sqlite3_kvvfs_methods(\n              wasm.exports.sqlite3_wasm_kvvfs_methods(),\n            );\n            delete capi.sqlite3_kvvfs_methods;\n\n            const kvvfsMakeKey = wasm.exports.sqlite3_wasm_kvvfsMakeKeyOnPstack,\n              pstack = wasm.pstack;\n\n            const kvvfsStorage = (zClass) =>\n              115 === wasm.peek(zClass) ? sessionStorage : localStorage;\n\n            const kvvfsImpls = {\n              xRead: (zClass, zKey, zBuf, nBuf) => {\n                const stack = pstack.pointer,\n                  astack = wasm.scopedAllocPush();\n                try {\n                  const zXKey = kvvfsMakeKey(zClass, zKey);\n                  if (!zXKey) return -3;\n                  const jKey = wasm.cstrToJs(zXKey);\n                  const jV = kvvfsStorage(zClass).getItem(jKey);\n                  if (!jV) return -1;\n                  const nV = jV.length;\n                  if (nBuf <= 0) return nV;\n                  else if (1 === nBuf) {\n                    wasm.poke(zBuf, 0);\n                    return nV;\n                  }\n                  const zV = wasm.scopedAllocCString(jV);\n                  if (nBuf > nV + 1) nBuf = nV + 1;\n                  wasm.heap8u().copyWithin(zBuf, zV, zV + nBuf - 1);\n                  wasm.poke(zBuf + nBuf - 1, 0);\n                  return nBuf - 1;\n                } catch (e) {\n                  console.error('kvstorageRead()', e);\n                  return -2;\n                } finally {\n                  pstack.restore(stack);\n                  wasm.scopedAllocPop(astack);\n                }\n              },\n              xWrite: (zClass, zKey, zData) => {\n                const stack = pstack.pointer;\n                try {\n                  const zXKey = kvvfsMakeKey(zClass, zKey);\n                  if (!zXKey) return 1;\n                  const jKey = wasm.cstrToJs(zXKey);\n                  kvvfsStorage(zClass).setItem(jKey, wasm.cstrToJs(zData));\n                  return 0;\n                } catch (e) {\n                  console.error('kvstorageWrite()', e);\n                  return capi.SQLITE_IOERR;\n                } finally {\n                  pstack.restore(stack);\n                }\n              },\n              xDelete: (zClass, zKey) => {\n                const stack = pstack.pointer;\n                try {\n                  const zXKey = kvvfsMakeKey(zClass, zKey);\n                  if (!zXKey) return 1;\n                  kvvfsStorage(zClass).removeItem(wasm.cstrToJs(zXKey));\n                  return 0;\n                } catch (e) {\n                  console.error('kvstorageDelete()', e);\n                  return capi.SQLITE_IOERR;\n                } finally {\n                  pstack.restore(stack);\n                }\n              },\n            };\n            for (const k of Object.keys(kvvfsImpls)) {\n              kvvfsMethods[kvvfsMethods.memberKey(k)] = wasm.installFunction(\n                kvvfsMethods.memberSignature(k),\n                kvvfsImpls[k],\n              );\n            }\n          } else {\n            capi.sqlite3_vfs_unregister(pKvvfs);\n          }\n        }\n\n        wasm.xWrap.FuncPtrAdapter.warnOnUse = true;\n      });\n\n      globalThis.sqlite3ApiBootstrap.initializers.push(function (sqlite3) {\n        sqlite3.version = {\n          libVersion: '3.45.2',\n          libVersionNumber: 3045002,\n          sourceId:\n            '2024-03-12 11:06:23 d8cd6d49b46a395b13955387d05e9e1a2a47e54fb99f3c9b59835bbefad6af77',\n          downloadVersion: 3450200,\n        };\n      });\n\n      globalThis.sqlite3ApiBootstrap.initializers.push(function (sqlite3) {\n        const toss = (...args) => {\n          throw new Error(args.join(' '));\n        };\n        const toss3 = (...args) => {\n          throw new sqlite3.SQLite3Error(...args);\n        };\n\n        const capi = sqlite3.capi,\n          wasm = sqlite3.wasm,\n          util = sqlite3.util;\n\n        const __ptrMap = new WeakMap();\n\n        const __stmtMap = new WeakMap();\n\n        const getOwnOption = (opts, p, dflt) => {\n          const d = Object.getOwnPropertyDescriptor(opts, p);\n          return d ? d.value : dflt;\n        };\n\n        const checkSqlite3Rc = function (dbPtr, sqliteResultCode) {\n          if (sqliteResultCode) {\n            if (dbPtr instanceof DB) dbPtr = dbPtr.pointer;\n            toss3(\n              sqliteResultCode,\n              'sqlite3 result code',\n              sqliteResultCode + ':',\n              dbPtr\n                ? capi.sqlite3_errmsg(dbPtr)\n                : capi.sqlite3_errstr(sqliteResultCode),\n            );\n          }\n          return arguments[0];\n        };\n\n        const __dbTraceToConsole = wasm.installFunction(\n          'i(ippp)',\n          function (t, c, p, x) {\n            if (capi.SQLITE_TRACE_STMT === t) {\n              console.log(\n                'SQL TRACE #' + ++this.counter + ' via sqlite3@' + c + ':',\n                wasm.cstrToJs(x),\n              );\n            }\n          }.bind({ counter: 0 }),\n        );\n\n        const __vfsPostOpenSql = Object.create(null);\n\n        const dbCtorHelper = function ctor(...args) {\n          if (!ctor._name2vfs) {\n            ctor._name2vfs = Object.create(null);\n            const isWorkerThread =\n              'function' === typeof importScripts\n                ? (n) =>\n                    toss3(\n                      'The VFS for',\n                      n,\n                      'is only available in the main window thread.',\n                    )\n                : false;\n            ctor._name2vfs[':localStorage:'] = {\n              vfs: 'kvvfs',\n              filename: isWorkerThread || (() => 'local'),\n            };\n            ctor._name2vfs[':sessionStorage:'] = {\n              vfs: 'kvvfs',\n              filename: isWorkerThread || (() => 'session'),\n            };\n          }\n          const opt = ctor.normalizeArgs(...args);\n          let fn = opt.filename,\n            vfsName = opt.vfs,\n            flagsStr = opt.flags;\n          if (\n            ('string' !== typeof fn && 'number' !== typeof fn) ||\n            'string' !== typeof flagsStr ||\n            (vfsName &&\n              'string' !== typeof vfsName &&\n              'number' !== typeof vfsName)\n          ) {\n            sqlite3.config.error('Invalid DB ctor args', opt, arguments);\n            toss3('Invalid arguments for DB constructor.');\n          }\n          let fnJs = 'number' === typeof fn ? wasm.cstrToJs(fn) : fn;\n          const vfsCheck = ctor._name2vfs[fnJs];\n          if (vfsCheck) {\n            vfsName = vfsCheck.vfs;\n            fn = fnJs = vfsCheck.filename(fnJs);\n          }\n          let pDb,\n            oflags = 0;\n          if (flagsStr.indexOf('c') >= 0) {\n            oflags |= capi.SQLITE_OPEN_CREATE | capi.SQLITE_OPEN_READWRITE;\n          }\n          if (flagsStr.indexOf('w') >= 0) oflags |= capi.SQLITE_OPEN_READWRITE;\n          if (0 === oflags) oflags |= capi.SQLITE_OPEN_READONLY;\n          oflags |= capi.SQLITE_OPEN_EXRESCODE;\n          const stack = wasm.pstack.pointer;\n          try {\n            const pPtr = wasm.pstack.allocPtr();\n            let rc = capi.sqlite3_open_v2(fn, pPtr, oflags, vfsName || 0);\n            pDb = wasm.peekPtr(pPtr);\n            checkSqlite3Rc(pDb, rc);\n            capi.sqlite3_extended_result_codes(pDb, 1);\n            if (flagsStr.indexOf('t') >= 0) {\n              capi.sqlite3_trace_v2(\n                pDb,\n                capi.SQLITE_TRACE_STMT,\n                __dbTraceToConsole,\n                pDb,\n              );\n            }\n          } catch (e) {\n            if (pDb) capi.sqlite3_close_v2(pDb);\n            throw e;\n          } finally {\n            wasm.pstack.restore(stack);\n          }\n          this.filename = fnJs;\n          __ptrMap.set(this, pDb);\n          __stmtMap.set(this, Object.create(null));\n          try {\n            const pVfs = capi.sqlite3_js_db_vfs(pDb);\n            if (!pVfs)\n              toss3('Internal error: cannot get VFS for new db handle.');\n            const postInitSql = __vfsPostOpenSql[pVfs];\n            if (postInitSql instanceof Function) {\n              postInitSql(this, sqlite3);\n            } else if (postInitSql) {\n              checkSqlite3Rc(pDb, capi.sqlite3_exec(pDb, postInitSql, 0, 0, 0));\n            }\n          } catch (e) {\n            this.close();\n            throw e;\n          }\n        };\n\n        dbCtorHelper.setVfsPostOpenSql = function (pVfs, sql) {\n          __vfsPostOpenSql[pVfs] = sql;\n        };\n\n        dbCtorHelper.normalizeArgs = function (\n          filename = ':memory:',\n          flags = 'c',\n          vfs = null,\n        ) {\n          const arg = {};\n          if (\n            1 === arguments.length &&\n            arguments[0] &&\n            'object' === typeof arguments[0]\n          ) {\n            Object.assign(arg, arguments[0]);\n            if (undefined === arg.flags) arg.flags = 'c';\n            if (undefined === arg.vfs) arg.vfs = null;\n            if (undefined === arg.filename) arg.filename = ':memory:';\n          } else {\n            arg.filename = filename;\n            arg.flags = flags;\n            arg.vfs = vfs;\n          }\n          return arg;\n        };\n\n        const DB = function (...args) {\n          dbCtorHelper.apply(this, args);\n        };\n        DB.dbCtorHelper = dbCtorHelper;\n\n        const BindTypes = {\n          null: 1,\n          number: 2,\n          string: 3,\n          boolean: 4,\n          blob: 5,\n        };\n        BindTypes['undefined'] == BindTypes.null;\n        if (wasm.bigIntEnabled) {\n          BindTypes.bigint = BindTypes.number;\n        }\n\n        const Stmt = function () {\n          if (BindTypes !== arguments[2]) {\n            toss3(\n              capi.SQLITE_MISUSE,\n              'Do not call the Stmt constructor directly. Use DB.prepare().',\n            );\n          }\n          this.db = arguments[0];\n          __ptrMap.set(this, arguments[1]);\n          this.parameterCount = capi.sqlite3_bind_parameter_count(this.pointer);\n        };\n\n        const affirmDbOpen = function (db) {\n          if (!db.pointer) toss3('DB has been closed.');\n          return db;\n        };\n\n        const affirmColIndex = function (stmt, ndx) {\n          if (ndx !== (ndx | 0) || ndx < 0 || ndx >= stmt.columnCount) {\n            toss3('Column index', ndx, 'is out of range.');\n          }\n          return stmt;\n        };\n\n        const parseExecArgs = function (db, args) {\n          const out = Object.create(null);\n          out.opt = Object.create(null);\n          switch (args.length) {\n            case 1:\n              if (\n                'string' === typeof args[0] ||\n                util.isSQLableTypedArray(args[0])\n              ) {\n                out.sql = args[0];\n              } else if (Array.isArray(args[0])) {\n                out.sql = args[0];\n              } else if (args[0] && 'object' === typeof args[0]) {\n                out.opt = args[0];\n                out.sql = out.opt.sql;\n              }\n              break;\n            case 2:\n              out.sql = args[0];\n              out.opt = args[1];\n              break;\n            default:\n              toss3('Invalid argument count for exec().');\n          }\n          out.sql = util.flexibleString(out.sql);\n          if ('string' !== typeof out.sql) {\n            toss3('Missing SQL argument or unsupported SQL value type.');\n          }\n          const opt = out.opt;\n          switch (opt.returnValue) {\n            case 'resultRows':\n              if (!opt.resultRows) opt.resultRows = [];\n              out.returnVal = () => opt.resultRows;\n              break;\n            case 'saveSql':\n              if (!opt.saveSql) opt.saveSql = [];\n              out.returnVal = () => opt.saveSql;\n              break;\n            case undefined:\n            case 'this':\n              out.returnVal = () => db;\n              break;\n            default:\n              toss3('Invalid returnValue value:', opt.returnValue);\n          }\n          if (!opt.callback && !opt.returnValue && undefined !== opt.rowMode) {\n            if (!opt.resultRows) opt.resultRows = [];\n            out.returnVal = () => opt.resultRows;\n          }\n          if (opt.callback || opt.resultRows) {\n            switch (undefined === opt.rowMode ? 'array' : opt.rowMode) {\n              case 'object':\n                out.cbArg = (stmt) => stmt.get(Object.create(null));\n                break;\n              case 'array':\n                out.cbArg = (stmt) => stmt.get([]);\n                break;\n              case 'stmt':\n                if (Array.isArray(opt.resultRows)) {\n                  toss3(\n                    'exec(): invalid rowMode for a resultRows array: must',\n                    \"be one of 'array', 'object',\",\n                    'a result column number, or column name reference.',\n                  );\n                }\n                out.cbArg = (stmt) => stmt;\n                break;\n              default:\n                if (util.isInt32(opt.rowMode)) {\n                  out.cbArg = (stmt) => stmt.get(opt.rowMode);\n                  break;\n                } else if (\n                  'string' === typeof opt.rowMode &&\n                  opt.rowMode.length > 1 &&\n                  '$' === opt.rowMode[0]\n                ) {\n                  const $colName = opt.rowMode.substr(1);\n                  out.cbArg = (stmt) => {\n                    const rc = stmt.get(Object.create(null))[$colName];\n                    return undefined === rc\n                      ? toss3(\n                          capi.SQLITE_NOTFOUND,\n                          'exec(): unknown result column:',\n                          $colName,\n                        )\n                      : rc;\n                  };\n                  break;\n                }\n                toss3('Invalid rowMode:', opt.rowMode);\n            }\n          }\n          return out;\n        };\n\n        const __selectFirstRow = (db, sql, bind, ...getArgs) => {\n          const stmt = db.prepare(sql);\n          try {\n            const rc = stmt.bind(bind).step()\n              ? stmt.get(...getArgs)\n              : undefined;\n            stmt.reset();\n            return rc;\n          } finally {\n            stmt.finalize();\n          }\n        };\n\n        const __selectAll = (db, sql, bind, rowMode) =>\n          db.exec({\n            sql,\n            bind,\n            rowMode,\n            returnValue: 'resultRows',\n          });\n\n        DB.checkRc = (db, resultCode) => checkSqlite3Rc(db, resultCode);\n\n        DB.prototype = {\n          isOpen: function () {\n            return !!this.pointer;\n          },\n\n          affirmOpen: function () {\n            return affirmDbOpen(this);\n          },\n\n          close: function () {\n            if (this.pointer) {\n              if (this.onclose && this.onclose.before instanceof Function) {\n                try {\n                  this.onclose.before(this);\n                } catch (e) {}\n              }\n              const pDb = this.pointer;\n              Object.keys(__stmtMap.get(this)).forEach((k, s) => {\n                if (s && s.pointer) {\n                  try {\n                    s.finalize();\n                  } catch (e) {}\n                }\n              });\n              __ptrMap.delete(this);\n              __stmtMap.delete(this);\n              capi.sqlite3_close_v2(pDb);\n              if (this.onclose && this.onclose.after instanceof Function) {\n                try {\n                  this.onclose.after(this);\n                } catch (e) {}\n              }\n              delete this.filename;\n            }\n          },\n\n          changes: function (total = false, sixtyFour = false) {\n            const p = affirmDbOpen(this).pointer;\n            if (total) {\n              return sixtyFour\n                ? capi.sqlite3_total_changes64(p)\n                : capi.sqlite3_total_changes(p);\n            } else {\n              return sixtyFour\n                ? capi.sqlite3_changes64(p)\n                : capi.sqlite3_changes(p);\n            }\n          },\n\n          dbFilename: function (dbName = 'main') {\n            return capi.sqlite3_db_filename(affirmDbOpen(this).pointer, dbName);\n          },\n\n          dbName: function (dbNumber = 0) {\n            return capi.sqlite3_db_name(affirmDbOpen(this).pointer, dbNumber);\n          },\n\n          dbVfsName: function (dbName = 0) {\n            let rc;\n            const pVfs = capi.sqlite3_js_db_vfs(\n              affirmDbOpen(this).pointer,\n              dbName,\n            );\n            if (pVfs) {\n              const v = new capi.sqlite3_vfs(pVfs);\n              try {\n                rc = wasm.cstrToJs(v.$zName);\n              } finally {\n                v.dispose();\n              }\n            }\n            return rc;\n          },\n\n          prepare: function (sql) {\n            affirmDbOpen(this);\n            const stack = wasm.pstack.pointer;\n            let ppStmt, pStmt;\n            try {\n              ppStmt = wasm.pstack.alloc(8);\n              DB.checkRc(\n                this,\n                capi.sqlite3_prepare_v2(this.pointer, sql, -1, ppStmt, null),\n              );\n              pStmt = wasm.peekPtr(ppStmt);\n            } finally {\n              wasm.pstack.restore(stack);\n            }\n            if (!pStmt) toss3('Cannot prepare empty SQL.');\n            const stmt = new Stmt(this, pStmt, BindTypes);\n            __stmtMap.get(this)[pStmt] = stmt;\n            return stmt;\n          },\n\n          exec: function () {\n            affirmDbOpen(this);\n            const arg = parseExecArgs(this, arguments);\n            if (!arg.sql) {\n              return toss3('exec() requires an SQL string.');\n            }\n            const opt = arg.opt;\n            const callback = opt.callback;\n            const resultRows = Array.isArray(opt.resultRows)\n              ? opt.resultRows\n              : undefined;\n            let stmt;\n            let bind = opt.bind;\n            let evalFirstResult = !!(\n              arg.cbArg ||\n              opt.columnNames ||\n              resultRows\n            );\n            const stack = wasm.scopedAllocPush();\n            const saveSql = Array.isArray(opt.saveSql)\n              ? opt.saveSql\n              : undefined;\n            try {\n              const isTA = util.isSQLableTypedArray(arg.sql);\n              let sqlByteLen = isTA\n                ? arg.sql.byteLength\n                : wasm.jstrlen(arg.sql);\n              const ppStmt = wasm.scopedAlloc(\n                2 * wasm.ptrSizeof + (sqlByteLen + 1),\n              );\n              const pzTail = ppStmt + wasm.ptrSizeof;\n              let pSql = pzTail + wasm.ptrSizeof;\n              const pSqlEnd = pSql + sqlByteLen;\n              if (isTA) wasm.heap8().set(arg.sql, pSql);\n              else wasm.jstrcpy(arg.sql, wasm.heap8(), pSql, sqlByteLen, false);\n              wasm.poke(pSql + sqlByteLen, 0);\n              while (pSql && wasm.peek(pSql, 'i8')) {\n                wasm.pokePtr([ppStmt, pzTail], 0);\n                DB.checkRc(\n                  this,\n                  capi.sqlite3_prepare_v3(\n                    this.pointer,\n                    pSql,\n                    sqlByteLen,\n                    0,\n                    ppStmt,\n                    pzTail,\n                  ),\n                );\n                const pStmt = wasm.peekPtr(ppStmt);\n                pSql = wasm.peekPtr(pzTail);\n                sqlByteLen = pSqlEnd - pSql;\n                if (!pStmt) continue;\n                if (saveSql) saveSql.push(capi.sqlite3_sql(pStmt).trim());\n                stmt = new Stmt(this, pStmt, BindTypes);\n                if (bind && stmt.parameterCount) {\n                  stmt.bind(bind);\n                  bind = null;\n                }\n                if (evalFirstResult && stmt.columnCount) {\n                  let gotColNames = Array.isArray(opt.columnNames) ? 0 : 1;\n                  evalFirstResult = false;\n                  if (arg.cbArg || resultRows) {\n                    for (; stmt.step(); stmt._lockedByExec = false) {\n                      if (0 === gotColNames++)\n                        stmt.getColumnNames(opt.columnNames);\n                      stmt._lockedByExec = true;\n                      const row = arg.cbArg(stmt);\n                      if (resultRows) resultRows.push(row);\n                      if (callback && false === callback.call(opt, row, stmt)) {\n                        break;\n                      }\n                    }\n                    stmt._lockedByExec = false;\n                  }\n                  if (0 === gotColNames) {\n                    stmt.getColumnNames(opt.columnNames);\n                  }\n                } else {\n                  stmt.step();\n                }\n                stmt.reset().finalize();\n                stmt = null;\n              }\n            } finally {\n              wasm.scopedAllocPop(stack);\n              if (stmt) {\n                delete stmt._lockedByExec;\n                stmt.finalize();\n              }\n            }\n            return arg.returnVal();\n          },\n\n          createFunction: function f(name, xFunc, opt) {\n            const isFunc = (f) => f instanceof Function;\n            switch (arguments.length) {\n              case 1:\n                opt = name;\n                name = opt.name;\n                xFunc = opt.xFunc || 0;\n                break;\n              case 2:\n                if (!isFunc(xFunc)) {\n                  opt = xFunc;\n                  xFunc = opt.xFunc || 0;\n                }\n                break;\n              case 3:\n                break;\n              default:\n                break;\n            }\n            if (!opt) opt = {};\n            if ('string' !== typeof name) {\n              toss3('Invalid arguments: missing function name.');\n            }\n            let xStep = opt.xStep || 0;\n            let xFinal = opt.xFinal || 0;\n            const xValue = opt.xValue || 0;\n            const xInverse = opt.xInverse || 0;\n            let isWindow = undefined;\n            if (isFunc(xFunc)) {\n              isWindow = false;\n              if (isFunc(xStep) || isFunc(xFinal)) {\n                toss3('Ambiguous arguments: scalar or aggregate?');\n              }\n              xStep = xFinal = null;\n            } else if (isFunc(xStep)) {\n              if (!isFunc(xFinal)) {\n                toss3('Missing xFinal() callback for aggregate or window UDF.');\n              }\n              xFunc = null;\n            } else if (isFunc(xFinal)) {\n              toss3('Missing xStep() callback for aggregate or window UDF.');\n            } else {\n              toss3('Missing function-type properties.');\n            }\n            if (false === isWindow) {\n              if (isFunc(xValue) || isFunc(xInverse)) {\n                toss3(\n                  'xValue and xInverse are not permitted for non-window UDFs.',\n                );\n              }\n            } else if (isFunc(xValue)) {\n              if (!isFunc(xInverse)) {\n                toss3('xInverse must be provided if xValue is.');\n              }\n              isWindow = true;\n            } else if (isFunc(xInverse)) {\n              toss3('xValue must be provided if xInverse is.');\n            }\n            const pApp = opt.pApp;\n            if (\n              undefined !== pApp &&\n              null !== pApp &&\n              ('number' !== typeof pApp || !util.isInt32(pApp))\n            ) {\n              toss3(\n                'Invalid value for pApp property. Must be a legal WASM pointer value.',\n              );\n            }\n            const xDestroy = opt.xDestroy || 0;\n            if (xDestroy && !isFunc(xDestroy)) {\n              toss3('xDestroy property must be a function.');\n            }\n            let fFlags = 0;\n            if (getOwnOption(opt, 'deterministic'))\n              fFlags |= capi.SQLITE_DETERMINISTIC;\n            if (getOwnOption(opt, 'directOnly'))\n              fFlags |= capi.SQLITE_DIRECTONLY;\n            if (getOwnOption(opt, 'innocuous')) fFlags |= capi.SQLITE_INNOCUOUS;\n            name = name.toLowerCase();\n            const xArity = xFunc || xStep;\n            const arity = getOwnOption(opt, 'arity');\n            const arityArg =\n              'number' === typeof arity\n                ? arity\n                : xArity.length\n                  ? xArity.length - 1\n                  : 0;\n            let rc;\n            if (isWindow) {\n              rc = capi.sqlite3_create_window_function(\n                this.pointer,\n                name,\n                arityArg,\n                capi.SQLITE_UTF8 | fFlags,\n                pApp || 0,\n                xStep,\n                xFinal,\n                xValue,\n                xInverse,\n                xDestroy,\n              );\n            } else {\n              rc = capi.sqlite3_create_function_v2(\n                this.pointer,\n                name,\n                arityArg,\n                capi.SQLITE_UTF8 | fFlags,\n                pApp || 0,\n                xFunc,\n                xStep,\n                xFinal,\n                xDestroy,\n              );\n            }\n            DB.checkRc(this, rc);\n            return this;\n          },\n\n          selectValue: function (sql, bind, asType) {\n            return __selectFirstRow(this, sql, bind, 0, asType);\n          },\n\n          selectValues: function (sql, bind, asType) {\n            const stmt = this.prepare(sql),\n              rc = [];\n            try {\n              stmt.bind(bind);\n              while (stmt.step()) rc.push(stmt.get(0, asType));\n              stmt.reset();\n            } finally {\n              stmt.finalize();\n            }\n            return rc;\n          },\n\n          selectArray: function (sql, bind) {\n            return __selectFirstRow(this, sql, bind, []);\n          },\n\n          selectObject: function (sql, bind) {\n            return __selectFirstRow(this, sql, bind, {});\n          },\n\n          selectArrays: function (sql, bind) {\n            return __selectAll(this, sql, bind, 'array');\n          },\n\n          selectObjects: function (sql, bind) {\n            return __selectAll(this, sql, bind, 'object');\n          },\n\n          openStatementCount: function () {\n            return this.pointer ? Object.keys(__stmtMap.get(this)).length : 0;\n          },\n\n          transaction: function (callback) {\n            let opener = 'BEGIN';\n            if (arguments.length > 1) {\n              if (/[^a-zA-Z]/.test(arguments[0])) {\n                toss3(\n                  capi.SQLITE_MISUSE,\n                  'Invalid argument for BEGIN qualifier.',\n                );\n              }\n              opener += ' ' + arguments[0];\n              callback = arguments[1];\n            }\n            affirmDbOpen(this).exec(opener);\n            try {\n              const rc = callback(this);\n              this.exec('COMMIT');\n              return rc;\n            } catch (e) {\n              this.exec('ROLLBACK');\n              throw e;\n            }\n          },\n\n          savepoint: function (callback) {\n            affirmDbOpen(this).exec('SAVEPOINT oo1');\n            try {\n              const rc = callback(this);\n              this.exec('RELEASE oo1');\n              return rc;\n            } catch (e) {\n              this.exec('ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1');\n              throw e;\n            }\n          },\n\n          checkRc: function (resultCode) {\n            return checkSqlite3Rc(this, resultCode);\n          },\n        };\n\n        const affirmStmtOpen = function (stmt) {\n          if (!stmt.pointer) toss3('Stmt has been closed.');\n          return stmt;\n        };\n\n        const isSupportedBindType = function (v) {\n          let t = BindTypes[null === v || undefined === v ? 'null' : typeof v];\n          switch (t) {\n            case BindTypes.boolean:\n            case BindTypes.null:\n            case BindTypes.number:\n            case BindTypes.string:\n              return t;\n            case BindTypes.bigint:\n              if (wasm.bigIntEnabled) return t;\n\n            default:\n              return util.isBindableTypedArray(v) ? BindTypes.blob : undefined;\n          }\n        };\n\n        const affirmSupportedBindType = function (v) {\n          return (\n            isSupportedBindType(v) ||\n            toss3('Unsupported bind() argument type:', typeof v)\n          );\n        };\n\n        const affirmParamIndex = function (stmt, key) {\n          const n =\n            'number' === typeof key\n              ? key\n              : capi.sqlite3_bind_parameter_index(stmt.pointer, key);\n          if (0 === n || !util.isInt32(n)) {\n            toss3('Invalid bind() parameter name: ' + key);\n          } else if (n < 1 || n > stmt.parameterCount)\n            toss3('Bind index', key, 'is out of range.');\n          return n;\n        };\n\n        const affirmNotLockedByExec = function (stmt, currentOpName) {\n          if (stmt._lockedByExec) {\n            toss3(\n              'Operation is illegal when statement is locked:',\n              currentOpName,\n            );\n          }\n          return stmt;\n        };\n\n        const bindOne = function f(stmt, ndx, bindType, val) {\n          affirmNotLockedByExec(affirmStmtOpen(stmt), 'bind()');\n          if (!f._) {\n            f._tooBigInt = (v) =>\n              toss3(\n                'BigInt value is too big to store without precision loss:',\n                v,\n              );\n            f._ = {\n              string: function (stmt, ndx, val, asBlob) {\n                const [pStr, n] = wasm.allocCString(val, true);\n                const f = asBlob\n                  ? capi.sqlite3_bind_blob\n                  : capi.sqlite3_bind_text;\n                return f(stmt.pointer, ndx, pStr, n, capi.SQLITE_WASM_DEALLOC);\n              },\n            };\n          }\n          affirmSupportedBindType(val);\n          ndx = affirmParamIndex(stmt, ndx);\n          let rc = 0;\n          switch (\n            null === val || undefined === val ? BindTypes.null : bindType\n          ) {\n            case BindTypes.null:\n              rc = capi.sqlite3_bind_null(stmt.pointer, ndx);\n              break;\n            case BindTypes.string:\n              rc = f._.string(stmt, ndx, val, false);\n              break;\n            case BindTypes.number: {\n              let m;\n              if (util.isInt32(val)) m = capi.sqlite3_bind_int;\n              else if ('bigint' === typeof val) {\n                if (!util.bigIntFits64(val)) {\n                  f._tooBigInt(val);\n                } else if (wasm.bigIntEnabled) {\n                  m = capi.sqlite3_bind_int64;\n                } else if (util.bigIntFitsDouble(val)) {\n                  val = Number(val);\n                  m = capi.sqlite3_bind_double;\n                } else {\n                  f._tooBigInt(val);\n                }\n              } else {\n                val = Number(val);\n                if (wasm.bigIntEnabled && Number.isInteger(val)) {\n                  m = capi.sqlite3_bind_int64;\n                } else {\n                  m = capi.sqlite3_bind_double;\n                }\n              }\n              rc = m(stmt.pointer, ndx, val);\n              break;\n            }\n            case BindTypes.boolean:\n              rc = capi.sqlite3_bind_int(stmt.pointer, ndx, val ? 1 : 0);\n              break;\n            case BindTypes.blob: {\n              if ('string' === typeof val) {\n                rc = f._.string(stmt, ndx, val, true);\n                break;\n              } else if (val instanceof ArrayBuffer) {\n                val = new Uint8Array(val);\n              } else if (!util.isBindableTypedArray(val)) {\n                toss3(\n                  'Binding a value as a blob requires',\n                  'that it be a string, Uint8Array, Int8Array, or ArrayBuffer.',\n                );\n              }\n              const pBlob = wasm.alloc(val.byteLength || 1);\n              wasm.heap8().set(val.byteLength ? val : [0], pBlob);\n              rc = capi.sqlite3_bind_blob(\n                stmt.pointer,\n                ndx,\n                pBlob,\n                val.byteLength,\n                capi.SQLITE_WASM_DEALLOC,\n              );\n              break;\n            }\n            default:\n              sqlite3.config.warn('Unsupported bind() argument type:', val);\n              toss3('Unsupported bind() argument type: ' + typeof val);\n          }\n          if (rc) DB.checkRc(stmt.db.pointer, rc);\n          stmt._mayGet = false;\n          return stmt;\n        };\n\n        Stmt.prototype = {\n          finalize: function () {\n            if (this.pointer) {\n              affirmNotLockedByExec(this, 'finalize()');\n              const rc = capi.sqlite3_finalize(this.pointer);\n              delete __stmtMap.get(this.db)[this.pointer];\n              __ptrMap.delete(this);\n              delete this._mayGet;\n              delete this.parameterCount;\n              delete this._lockedByExec;\n              delete this.db;\n              return rc;\n            }\n          },\n\n          clearBindings: function () {\n            affirmNotLockedByExec(affirmStmtOpen(this), 'clearBindings()');\n            capi.sqlite3_clear_bindings(this.pointer);\n            this._mayGet = false;\n            return this;\n          },\n\n          reset: function (alsoClearBinds) {\n            affirmNotLockedByExec(this, 'reset()');\n            if (alsoClearBinds) this.clearBindings();\n            const rc = capi.sqlite3_reset(affirmStmtOpen(this).pointer);\n            this._mayGet = false;\n            checkSqlite3Rc(this.db, rc);\n            return this;\n          },\n\n          bind: function () {\n            affirmStmtOpen(this);\n            let ndx, arg;\n            switch (arguments.length) {\n              case 1:\n                ndx = 1;\n                arg = arguments[0];\n                break;\n              case 2:\n                ndx = arguments[0];\n                arg = arguments[1];\n                break;\n              default:\n                toss3('Invalid bind() arguments.');\n            }\n            if (undefined === arg) {\n              return this;\n            } else if (!this.parameterCount) {\n              toss3('This statement has no bindable parameters.');\n            }\n            this._mayGet = false;\n            if (null === arg) {\n              return bindOne(this, ndx, BindTypes.null, arg);\n            } else if (Array.isArray(arg)) {\n              if (1 !== arguments.length) {\n                toss3(\n                  'When binding an array, an index argument is not permitted.',\n                );\n              }\n              arg.forEach((v, i) =>\n                bindOne(this, i + 1, affirmSupportedBindType(v), v),\n              );\n              return this;\n            } else if (arg instanceof ArrayBuffer) {\n              arg = new Uint8Array(arg);\n            }\n            if ('object' === typeof arg && !util.isBindableTypedArray(arg)) {\n              if (1 !== arguments.length) {\n                toss3(\n                  'When binding an object, an index argument is not permitted.',\n                );\n              }\n              Object.keys(arg).forEach((k) =>\n                bindOne(this, k, affirmSupportedBindType(arg[k]), arg[k]),\n              );\n              return this;\n            } else {\n              return bindOne(this, ndx, affirmSupportedBindType(arg), arg);\n            }\n            toss3('Should not reach this point.');\n          },\n\n          bindAsBlob: function (ndx, arg) {\n            affirmStmtOpen(this);\n            if (1 === arguments.length) {\n              arg = ndx;\n              ndx = 1;\n            }\n            const t = affirmSupportedBindType(arg);\n            if (\n              BindTypes.string !== t &&\n              BindTypes.blob !== t &&\n              BindTypes.null !== t\n            ) {\n              toss3('Invalid value type for bindAsBlob()');\n            }\n            return bindOne(this, ndx, BindTypes.blob, arg);\n          },\n\n          step: function () {\n            affirmNotLockedByExec(this, 'step()');\n            const rc = capi.sqlite3_step(affirmStmtOpen(this).pointer);\n            switch (rc) {\n              case capi.SQLITE_DONE:\n                return (this._mayGet = false);\n              case capi.SQLITE_ROW:\n                return (this._mayGet = true);\n              default:\n                this._mayGet = false;\n                sqlite3.config.warn(\n                  'sqlite3_step() rc=',\n                  rc,\n                  capi.sqlite3_js_rc_str(rc),\n                  'SQL =',\n                  capi.sqlite3_sql(this.pointer),\n                );\n                DB.checkRc(this.db.pointer, rc);\n            }\n          },\n\n          stepReset: function () {\n            this.step();\n            return this.reset();\n          },\n\n          stepFinalize: function () {\n            try {\n              const rc = this.step();\n              this.reset();\n              return rc;\n            } finally {\n              try {\n                this.finalize();\n              } catch (e) {}\n            }\n          },\n\n          get: function (ndx, asType) {\n            if (!affirmStmtOpen(this)._mayGet) {\n              toss3('Stmt.step() has not (recently) returned true.');\n            }\n            if (Array.isArray(ndx)) {\n              let i = 0;\n              const n = this.columnCount;\n              while (i < n) {\n                ndx[i] = this.get(i++);\n              }\n              return ndx;\n            } else if (ndx && 'object' === typeof ndx) {\n              let i = 0;\n              const n = this.columnCount;\n              while (i < n) {\n                ndx[capi.sqlite3_column_name(this.pointer, i)] = this.get(i++);\n              }\n              return ndx;\n            }\n            affirmColIndex(this, ndx);\n            switch (\n              undefined === asType\n                ? capi.sqlite3_column_type(this.pointer, ndx)\n                : asType\n            ) {\n              case capi.SQLITE_NULL:\n                return null;\n              case capi.SQLITE_INTEGER: {\n                if (wasm.bigIntEnabled) {\n                  const rc = capi.sqlite3_column_int64(this.pointer, ndx);\n                  if (\n                    rc >= Number.MIN_SAFE_INTEGER &&\n                    rc <= Number.MAX_SAFE_INTEGER\n                  ) {\n                    return Number(rc).valueOf();\n                  }\n                  return rc;\n                } else {\n                  const rc = capi.sqlite3_column_double(this.pointer, ndx);\n                  if (\n                    rc > Number.MAX_SAFE_INTEGER ||\n                    rc < Number.MIN_SAFE_INTEGER\n                  ) {\n                    toss3(\n                      'Integer is out of range for JS integer range: ' + rc,\n                    );\n                  }\n\n                  return util.isInt32(rc) ? rc | 0 : rc;\n                }\n              }\n              case capi.SQLITE_FLOAT:\n                return capi.sqlite3_column_double(this.pointer, ndx);\n              case capi.SQLITE_TEXT:\n                return capi.sqlite3_column_text(this.pointer, ndx);\n              case capi.SQLITE_BLOB: {\n                const n = capi.sqlite3_column_bytes(this.pointer, ndx),\n                  ptr = capi.sqlite3_column_blob(this.pointer, ndx),\n                  rc = new Uint8Array(n);\n\n                if (n) rc.set(wasm.heap8u().slice(ptr, ptr + n), 0);\n\n                if (n && this.db._blobXfer instanceof Array) {\n                  this.db._blobXfer.push(rc.buffer);\n                }\n                return rc;\n              }\n              default:\n                toss3(\n                  \"Don't know how to translate\",\n                  'type of result column #' + ndx + '.',\n                );\n            }\n            toss3('Not reached.');\n          },\n\n          getInt: function (ndx) {\n            return this.get(ndx, capi.SQLITE_INTEGER);\n          },\n\n          getFloat: function (ndx) {\n            return this.get(ndx, capi.SQLITE_FLOAT);\n          },\n\n          getString: function (ndx) {\n            return this.get(ndx, capi.SQLITE_TEXT);\n          },\n\n          getBlob: function (ndx) {\n            return this.get(ndx, capi.SQLITE_BLOB);\n          },\n\n          getJSON: function (ndx) {\n            const s = this.get(ndx, capi.SQLITE_STRING);\n            return null === s ? s : JSON.parse(s);\n          },\n\n          getColumnName: function (ndx) {\n            return capi.sqlite3_column_name(\n              affirmColIndex(affirmStmtOpen(this), ndx).pointer,\n              ndx,\n            );\n          },\n\n          getColumnNames: function (tgt = []) {\n            affirmColIndex(affirmStmtOpen(this), 0);\n            const n = this.columnCount;\n            for (let i = 0; i < n; ++i) {\n              tgt.push(capi.sqlite3_column_name(this.pointer, i));\n            }\n            return tgt;\n          },\n\n          getParamIndex: function (name) {\n            return affirmStmtOpen(this).parameterCount\n              ? capi.sqlite3_bind_parameter_index(this.pointer, name)\n              : undefined;\n          },\n        };\n\n        {\n          const prop = {\n            enumerable: true,\n            get: function () {\n              return __ptrMap.get(this);\n            },\n            set: () => toss3('The pointer property is read-only.'),\n          };\n          Object.defineProperty(Stmt.prototype, 'pointer', prop);\n          Object.defineProperty(DB.prototype, 'pointer', prop);\n        }\n\n        Object.defineProperty(Stmt.prototype, 'columnCount', {\n          enumerable: false,\n          get: function () {\n            return capi.sqlite3_column_count(this.pointer);\n          },\n          set: () => toss3('The columnCount property is read-only.'),\n        });\n\n        sqlite3.oo1 = {\n          DB,\n          Stmt,\n        };\n\n        if (util.isUIThread()) {\n          sqlite3.oo1.JsStorageDb = function (storageName = 'session') {\n            if ('session' !== storageName && 'local' !== storageName) {\n              toss3(\"JsStorageDb db name must be one of 'session' or 'local'.\");\n            }\n            dbCtorHelper.call(this, {\n              filename: storageName,\n              flags: 'c',\n              vfs: 'kvvfs',\n            });\n          };\n          const jdb = sqlite3.oo1.JsStorageDb;\n          jdb.prototype = Object.create(DB.prototype);\n\n          jdb.clearStorage = capi.sqlite3_js_kvvfs_clear;\n\n          jdb.prototype.clearStorage = function () {\n            return jdb.clearStorage(affirmDbOpen(this).filename);\n          };\n\n          jdb.storageSize = capi.sqlite3_js_kvvfs_size;\n\n          jdb.prototype.storageSize = function () {\n            return jdb.storageSize(affirmDbOpen(this).filename);\n          };\n        }\n      });\n\n      globalThis.sqlite3ApiBootstrap.initializers.push(function (sqlite3) {\n        sqlite3.initWorker1API = function () {\n          'use strict';\n          const toss = (...args) => {\n            throw new Error(args.join(' '));\n          };\n          if (!(globalThis.WorkerGlobalScope instanceof Function)) {\n            toss('initWorker1API() must be run from a Worker thread.');\n          }\n          const sqlite3 = this.sqlite3 || toss('Missing this.sqlite3 object.');\n          const DB = sqlite3.oo1.DB;\n\n          const getDbId = function (db) {\n            let id = wState.idMap.get(db);\n            if (id) return id;\n            id = 'db#' + ++wState.idSeq + '@' + db.pointer;\n\n            wState.idMap.set(db, id);\n            return id;\n          };\n\n          const wState = {\n            dbList: [],\n\n            idSeq: 0,\n\n            idMap: new WeakMap(),\n\n            xfer: [],\n            open: function (opt) {\n              const db = new DB(opt);\n              this.dbs[getDbId(db)] = db;\n              if (this.dbList.indexOf(db) < 0) this.dbList.push(db);\n              return db;\n            },\n            close: function (db, alsoUnlink) {\n              if (db) {\n                delete this.dbs[getDbId(db)];\n                const filename = db.filename;\n                const pVfs = sqlite3.wasm.sqlite3_wasm_db_vfs(db.pointer, 0);\n                db.close();\n                const ddNdx = this.dbList.indexOf(db);\n                if (ddNdx >= 0) this.dbList.splice(ddNdx, 1);\n                if (alsoUnlink && filename && pVfs) {\n                  sqlite3.wasm.sqlite3_wasm_vfs_unlink(pVfs, filename);\n                }\n              }\n            },\n\n            post: function (msg, xferList) {\n              if (xferList && xferList.length) {\n                globalThis.postMessage(msg, Array.from(xferList));\n                xferList.length = 0;\n              } else {\n                globalThis.postMessage(msg);\n              }\n            },\n\n            dbs: Object.create(null),\n\n            getDb: function (id, require = true) {\n              return (\n                this.dbs[id] ||\n                (require ? toss('Unknown (or closed) DB ID:', id) : undefined)\n              );\n            },\n          };\n\n          const affirmDbOpen = function (db = wState.dbList[0]) {\n            return db && db.pointer ? db : toss('DB is not opened.');\n          };\n\n          const getMsgDb = function (msgData, affirmExists = true) {\n            const db = wState.getDb(msgData.dbId, false) || wState.dbList[0];\n            return affirmExists ? affirmDbOpen(db) : db;\n          };\n\n          const getDefaultDbId = function () {\n            return wState.dbList[0] && getDbId(wState.dbList[0]);\n          };\n\n          const guessVfs = function (filename) {\n            const m = /^file:.+(vfs=(\\w+))/.exec(filename);\n            return sqlite3.capi.sqlite3_vfs_find(m ? m[2] : 0);\n          };\n\n          const isSpecialDbFilename = (n) => {\n            return '' === n || ':' === n[0];\n          };\n\n          const wMsgHandler = {\n            open: function (ev) {\n              const oargs = Object.create(null),\n                args = ev.args || Object.create(null);\n              if (args.simulateError) {\n                toss('Throwing because of simulateError flag.');\n              }\n              const rc = Object.create(null);\n              let byteArray, pVfs;\n              oargs.vfs = args.vfs;\n              if (isSpecialDbFilename(args.filename)) {\n                oargs.filename = args.filename || '';\n              } else {\n                oargs.filename = args.filename;\n                byteArray = args.byteArray;\n                if (byteArray) pVfs = guessVfs(args.filename);\n              }\n              if (pVfs) {\n                let pMem;\n                try {\n                  pMem = sqlite3.wasm.allocFromTypedArray(byteArray);\n                  const rc = sqlite3.wasm.sqlite3_wasm_vfs_create_file(\n                    pVfs,\n                    oargs.filename,\n                    pMem,\n                    byteArray.byteLength,\n                  );\n                  if (rc) sqlite3.SQLite3Error.toss(rc);\n                } catch (e) {\n                  throw new sqlite3.SQLite3Error(\n                    e.name + ' creating ' + args.filename + ': ' + e.message,\n                    {\n                      cause: e,\n                    },\n                  );\n                } finally {\n                  if (pMem) sqlite3.wasm.dealloc(pMem);\n                }\n              }\n              const db = wState.open(oargs);\n              rc.filename = db.filename;\n              rc.persistent = !!sqlite3.capi.sqlite3_js_db_uses_vfs(\n                db.pointer,\n                'opfs',\n              );\n              rc.dbId = getDbId(db);\n              rc.vfs = db.dbVfsName();\n              return rc;\n            },\n\n            close: function (ev) {\n              const db = getMsgDb(ev, false);\n              const response = {\n                filename: db && db.filename,\n              };\n              if (db) {\n                const doUnlink =\n                  ev.args && 'object' === typeof ev.args\n                    ? !!ev.args.unlink\n                    : false;\n                wState.close(db, doUnlink);\n              }\n              return response;\n            },\n\n            exec: function (ev) {\n              const rc =\n                'string' === typeof ev.args\n                  ? { sql: ev.args }\n                  : ev.args || Object.create(null);\n              if ('stmt' === rc.rowMode) {\n                toss(\n                  \"Invalid rowMode for 'exec': stmt mode\",\n                  'does not work in the Worker API.',\n                );\n              } else if (!rc.sql) {\n                toss(\"'exec' requires input SQL.\");\n              }\n              const db = getMsgDb(ev);\n              if (rc.callback || Array.isArray(rc.resultRows)) {\n                db._blobXfer = wState.xfer;\n              }\n              const theCallback = rc.callback;\n              let rowNumber = 0;\n              const hadColNames = !!rc.columnNames;\n              if ('string' === typeof theCallback) {\n                if (!hadColNames) rc.columnNames = [];\n\n                rc.callback = function (row, stmt) {\n                  wState.post(\n                    {\n                      type: theCallback,\n                      columnNames: rc.columnNames,\n                      rowNumber: ++rowNumber,\n                      row: row,\n                    },\n                    wState.xfer,\n                  );\n                };\n              }\n              try {\n                const changeCount = !!rc.countChanges\n                  ? db.changes(true, 64 === rc.countChanges)\n                  : undefined;\n                db.exec(rc);\n                if (undefined !== changeCount) {\n                  rc.changeCount =\n                    db.changes(true, 64 === rc.countChanges) - changeCount;\n                }\n                if (rc.callback instanceof Function) {\n                  rc.callback = theCallback;\n\n                  wState.post({\n                    type: theCallback,\n                    columnNames: rc.columnNames,\n                    rowNumber: null,\n                    row: undefined,\n                  });\n                }\n              } finally {\n                delete db._blobXfer;\n                if (rc.callback) rc.callback = theCallback;\n              }\n              return rc;\n            },\n\n            'config-get': function () {\n              const rc = Object.create(null),\n                src = sqlite3.config;\n              ['bigIntEnabled'].forEach(function (k) {\n                if (Object.getOwnPropertyDescriptor(src, k)) rc[k] = src[k];\n              });\n              rc.version = sqlite3.version;\n              rc.vfsList = sqlite3.capi.sqlite3_js_vfs_list();\n              rc.opfsEnabled = !!sqlite3.opfs;\n              return rc;\n            },\n\n            export: function (ev) {\n              const db = getMsgDb(ev);\n              const response = {\n                byteArray: sqlite3.capi.sqlite3_js_db_export(db.pointer),\n                filename: db.filename,\n                mimetype: 'application/x-sqlite3',\n              };\n              wState.xfer.push(response.byteArray.buffer);\n              return response;\n            },\n\n            toss: function (ev) {\n              toss('Testing worker exception');\n            },\n\n            'opfs-tree': async function (ev) {\n              if (!sqlite3.opfs) toss('OPFS support is unavailable.');\n              const response = await sqlite3.opfs.treeList();\n              return response;\n            },\n          };\n\n          globalThis.onmessage = async function (ev) {\n            ev = ev.data;\n            let result,\n              dbId = ev.dbId,\n              evType = ev.type;\n            const arrivalTime = performance.now();\n            try {\n              if (\n                wMsgHandler.hasOwnProperty(evType) &&\n                wMsgHandler[evType] instanceof Function\n              ) {\n                result = await wMsgHandler[evType](ev);\n              } else {\n                toss('Unknown db worker message type:', ev.type);\n              }\n            } catch (err) {\n              evType = 'error';\n              result = {\n                operation: ev.type,\n                message: err.message,\n                errorClass: err.name,\n                input: ev,\n              };\n              if (err.stack) {\n                result.stack =\n                  'string' === typeof err.stack\n                    ? err.stack.split(/\\n\\s*/)\n                    : err.stack;\n              }\n              if (0)\n                sqlite3.config.warn(\n                  'Worker is propagating an exception to main thread.',\n                  'Reporting it _here_ for the stack trace:',\n                  err,\n                  result,\n                );\n            }\n            if (!dbId) {\n              dbId = result.dbId || getDefaultDbId();\n            }\n\n            wState.post(\n              {\n                type: evType,\n                dbId: dbId,\n                messageId: ev.messageId,\n                workerReceivedTime: arrivalTime,\n                workerRespondTime: performance.now(),\n                departureTime: ev.departureTime,\n\n                result: result,\n              },\n              wState.xfer,\n            );\n          };\n          globalThis.postMessage({\n            type: 'sqlite3-api',\n            result: 'worker1-ready',\n          });\n        }.bind({ sqlite3 });\n      });\n\n      ('use strict');\n      globalThis.sqlite3ApiBootstrap.initializers.push(function (sqlite3) {\n        const wasm = sqlite3.wasm,\n          capi = sqlite3.capi,\n          toss = sqlite3.util.toss3;\n        const vfs = Object.create(null),\n          vtab = Object.create(null);\n\n        const StructBinder = sqlite3.StructBinder;\n        sqlite3.vfs = vfs;\n        sqlite3.vtab = vtab;\n\n        const sii = capi.sqlite3_index_info;\n\n        sii.prototype.nthConstraint = function (n, asPtr = false) {\n          if (n < 0 || n >= this.$nConstraint) return false;\n          const ptr =\n            this.$aConstraint +\n            sii.sqlite3_index_constraint.structInfo.sizeof * n;\n          return asPtr ? ptr : new sii.sqlite3_index_constraint(ptr);\n        };\n\n        sii.prototype.nthConstraintUsage = function (n, asPtr = false) {\n          if (n < 0 || n >= this.$nConstraint) return false;\n          const ptr =\n            this.$aConstraintUsage +\n            sii.sqlite3_index_constraint_usage.structInfo.sizeof * n;\n          return asPtr ? ptr : new sii.sqlite3_index_constraint_usage(ptr);\n        };\n\n        sii.prototype.nthOrderBy = function (n, asPtr = false) {\n          if (n < 0 || n >= this.$nOrderBy) return false;\n          const ptr =\n            this.$aOrderBy + sii.sqlite3_index_orderby.structInfo.sizeof * n;\n          return asPtr ? ptr : new sii.sqlite3_index_orderby(ptr);\n        };\n\n        const installMethod = function callee(\n          tgt,\n          name,\n          func,\n          applyArgcCheck = callee.installMethodArgcCheck,\n        ) {\n          if (!(tgt instanceof StructBinder.StructType)) {\n            toss('Usage error: target object is-not-a StructType.');\n          } else if (!(func instanceof Function) && !wasm.isPtr(func)) {\n            toss('Usage errror: expecting a Function or WASM pointer to one.');\n          }\n          if (1 === arguments.length) {\n            return (n, f) => callee(tgt, n, f, applyArgcCheck);\n          }\n          if (!callee.argcProxy) {\n            callee.argcProxy = function (tgt, funcName, func, sig) {\n              return function (...args) {\n                if (func.length !== arguments.length) {\n                  toss(\n                    'Argument mismatch for',\n                    tgt.structInfo.name +\n                      '::' +\n                      funcName +\n                      ': Native signature is:',\n                    sig,\n                  );\n                }\n                return func.apply(this, args);\n              };\n            };\n\n            callee.removeFuncList = function () {\n              if (this.ondispose.__removeFuncList) {\n                this.ondispose.__removeFuncList.forEach((v, ndx) => {\n                  if ('number' === typeof v) {\n                    try {\n                      wasm.uninstallFunction(v);\n                    } catch (e) {}\n                  }\n                });\n                delete this.ondispose.__removeFuncList;\n              }\n            };\n          }\n          const sigN = tgt.memberSignature(name);\n          if (sigN.length < 2) {\n            toss(\n              'Member',\n              name,\n              'does not have a function pointer signature:',\n              sigN,\n            );\n          }\n          const memKey = tgt.memberKey(name);\n          const fProxy =\n            applyArgcCheck && !wasm.isPtr(func)\n              ? callee.argcProxy(tgt, memKey, func, sigN)\n              : func;\n          if (wasm.isPtr(fProxy)) {\n            if (fProxy && !wasm.functionEntry(fProxy)) {\n              toss('Pointer', fProxy, 'is not a WASM function table entry.');\n            }\n            tgt[memKey] = fProxy;\n          } else {\n            const pFunc = wasm.installFunction(\n              fProxy,\n              tgt.memberSignature(name, true),\n            );\n            tgt[memKey] = pFunc;\n            if (!tgt.ondispose || !tgt.ondispose.__removeFuncList) {\n              tgt.addOnDispose(\n                'ondispose.__removeFuncList handler',\n                callee.removeFuncList,\n              );\n              tgt.ondispose.__removeFuncList = [];\n            }\n            tgt.ondispose.__removeFuncList.push(memKey, pFunc);\n          }\n          return (n, f) => callee(tgt, n, f, applyArgcCheck);\n        };\n        installMethod.installMethodArgcCheck = false;\n\n        const installMethods = function (\n          structInstance,\n          methods,\n          applyArgcCheck = installMethod.installMethodArgcCheck,\n        ) {\n          const seen = new Map();\n          for (const k of Object.keys(methods)) {\n            const m = methods[k];\n            const prior = seen.get(m);\n            if (prior) {\n              const mkey = structInstance.memberKey(k);\n              structInstance[mkey] =\n                structInstance[structInstance.memberKey(prior)];\n            } else {\n              installMethod(structInstance, k, m, applyArgcCheck);\n              seen.set(m, k);\n            }\n          }\n          return structInstance;\n        };\n\n        StructBinder.StructType.prototype.installMethod = function callee(\n          name,\n          func,\n          applyArgcCheck = installMethod.installMethodArgcCheck,\n        ) {\n          return arguments.length < 3 && name && 'object' === typeof name\n            ? installMethods(this, ...arguments)\n            : installMethod(this, ...arguments);\n        };\n\n        StructBinder.StructType.prototype.installMethods = function (\n          methods,\n          applyArgcCheck = installMethod.installMethodArgcCheck,\n        ) {\n          return installMethods(this, methods, applyArgcCheck);\n        };\n\n        capi.sqlite3_vfs.prototype.registerVfs = function (asDefault = false) {\n          if (!(this instanceof sqlite3.capi.sqlite3_vfs)) {\n            toss('Expecting a sqlite3_vfs-type argument.');\n          }\n          const rc = capi.sqlite3_vfs_register(this, asDefault ? 1 : 0);\n          if (rc) {\n            toss('sqlite3_vfs_register(', this, ') failed with rc', rc);\n          }\n          if (this.pointer !== capi.sqlite3_vfs_find(this.$zName)) {\n            toss(\n              'BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS',\n              this,\n            );\n          }\n          return this;\n        };\n\n        vfs.installVfs = function (opt) {\n          let count = 0;\n          const propList = ['io', 'vfs'];\n          for (const key of propList) {\n            const o = opt[key];\n            if (o) {\n              ++count;\n              installMethods(o.struct, o.methods, !!o.applyArgcCheck);\n              if ('vfs' === key) {\n                if (!o.struct.$zName && 'string' === typeof o.name) {\n                  o.struct.addOnDispose(\n                    (o.struct.$zName = wasm.allocCString(o.name)),\n                  );\n                }\n                o.struct.registerVfs(!!o.asDefault);\n              }\n            }\n          }\n          if (!count)\n            toss(\n              'Misuse: installVfs() options object requires at least',\n              'one of:',\n              propList,\n            );\n          return this;\n        };\n\n        const __xWrapFactory = function (methodName, StructType) {\n          return function (ptr, removeMapping = false) {\n            if (0 === arguments.length) ptr = new StructType();\n            if (ptr instanceof StructType) {\n              this.set(ptr.pointer, ptr);\n              return ptr;\n            } else if (!wasm.isPtr(ptr)) {\n              sqlite3.SQLite3Error.toss(\n                'Invalid argument to',\n                methodName + '()',\n              );\n            }\n            let rc = this.get(ptr);\n            if (removeMapping) this.delete(ptr);\n            return rc;\n          }.bind(new Map());\n        };\n\n        const StructPtrMapper = function (name, StructType) {\n          const __xWrap = __xWrapFactory(name, StructType);\n\n          return Object.assign(Object.create(null), {\n            StructType,\n\n            create: (ppOut) => {\n              const rc = __xWrap();\n              wasm.pokePtr(ppOut, rc.pointer);\n              return rc;\n            },\n\n            get: (pCObj) => __xWrap(pCObj),\n\n            unget: (pCObj) => __xWrap(pCObj, true),\n\n            dispose: (pCObj) => {\n              const o = __xWrap(pCObj, true);\n              if (o) o.dispose();\n            },\n          });\n        };\n\n        vtab.xVtab = StructPtrMapper('xVtab', capi.sqlite3_vtab);\n\n        vtab.xCursor = StructPtrMapper('xCursor', capi.sqlite3_vtab_cursor);\n\n        vtab.xIndexInfo = (pIdxInfo) => new capi.sqlite3_index_info(pIdxInfo);\n\n        vtab.xError = function f(methodName, err, defaultRc) {\n          if (f.errorReporter instanceof Function) {\n            try {\n              f.errorReporter(\n                'sqlite3_module::' + methodName + '(): ' + err.message,\n              );\n            } catch (e) {}\n          }\n          let rc;\n          if (err instanceof sqlite3.WasmAllocError) rc = capi.SQLITE_NOMEM;\n          else if (arguments.length > 2) rc = defaultRc;\n          else if (err instanceof sqlite3.SQLite3Error) rc = err.resultCode;\n          return rc || capi.SQLITE_ERROR;\n        };\n        vtab.xError.errorReporter = 1 ? console.error.bind(console) : false;\n\n        vtab.xRowid = (ppRowid64, value) => wasm.poke(ppRowid64, value, 'i64');\n\n        vtab.setupModule = function (opt) {\n          let createdMod = false;\n          const mod =\n            this instanceof capi.sqlite3_module\n              ? this\n              : opt.struct || (createdMod = new capi.sqlite3_module());\n          try {\n            const methods = opt.methods || toss(\"Missing 'methods' object.\");\n            for (const e of Object.entries({\n              xConnect: 'xCreate',\n              xDisconnect: 'xDestroy',\n            })) {\n              const k = e[0],\n                v = e[1];\n              if (true === methods[k]) methods[k] = methods[v];\n              else if (true === methods[v]) methods[v] = methods[k];\n            }\n            if (opt.catchExceptions) {\n              const fwrap = function (methodName, func) {\n                if (['xConnect', 'xCreate'].indexOf(methodName) >= 0) {\n                  return function (pDb, pAux, argc, argv, ppVtab, pzErr) {\n                    try {\n                      return func(...arguments) || 0;\n                    } catch (e) {\n                      if (!(e instanceof sqlite3.WasmAllocError)) {\n                        wasm.dealloc(wasm.peekPtr(pzErr));\n                        wasm.pokePtr(pzErr, wasm.allocCString(e.message));\n                      }\n                      return vtab.xError(methodName, e);\n                    }\n                  };\n                } else {\n                  return function (...args) {\n                    try {\n                      return func(...args) || 0;\n                    } catch (e) {\n                      return vtab.xError(methodName, e);\n                    }\n                  };\n                }\n              };\n              const mnames = [\n                'xCreate',\n                'xConnect',\n                'xBestIndex',\n                'xDisconnect',\n                'xDestroy',\n                'xOpen',\n                'xClose',\n                'xFilter',\n                'xNext',\n                'xEof',\n                'xColumn',\n                'xRowid',\n                'xUpdate',\n                'xBegin',\n                'xSync',\n                'xCommit',\n                'xRollback',\n                'xFindFunction',\n                'xRename',\n                'xSavepoint',\n                'xRelease',\n                'xRollbackTo',\n                'xShadowName',\n              ];\n              const remethods = Object.create(null);\n              for (const k of mnames) {\n                const m = methods[k];\n                if (!(m instanceof Function)) continue;\n                else if ('xConnect' === k && methods.xCreate === m) {\n                  remethods[k] = methods.xCreate;\n                } else if ('xCreate' === k && methods.xConnect === m) {\n                  remethods[k] = methods.xConnect;\n                } else {\n                  remethods[k] = fwrap(k, m);\n                }\n              }\n              installMethods(mod, remethods, false);\n            } else {\n              installMethods(mod, methods, !!opt.applyArgcCheck);\n            }\n            if (0 === mod.$iVersion) {\n              let v;\n              if ('number' === typeof opt.iVersion) v = opt.iVersion;\n              else if (mod.$xShadowName) v = 3;\n              else if (mod.$xSavePoint || mod.$xRelease || mod.$xRollbackTo)\n                v = 2;\n              else v = 1;\n              mod.$iVersion = v;\n            }\n          } catch (e) {\n            if (createdMod) createdMod.dispose();\n            throw e;\n          }\n          return mod;\n        };\n\n        capi.sqlite3_module.prototype.setupModule = function (opt) {\n          return vtab.setupModule.call(this, opt);\n        };\n      });\n\n      ('use strict');\n      globalThis.sqlite3ApiBootstrap.initializers.push(function (sqlite3) {\n        const installOpfsVfs = function callee(options) {\n          if (!globalThis.SharedArrayBuffer || !globalThis.Atomics) {\n            return Promise.reject(\n              new Error(\n                'Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. ' +\n                  'The server must emit the COOP/COEP response headers to enable those. ' +\n                  'See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep',\n              ),\n            );\n          } else if ('undefined' === typeof WorkerGlobalScope) {\n            return Promise.reject(\n              new Error(\n                'The OPFS sqlite3_vfs cannot run in the main thread ' +\n                  'because it requires Atomics.wait().',\n              ),\n            );\n          } else if (\n            !globalThis.FileSystemHandle ||\n            !globalThis.FileSystemDirectoryHandle ||\n            !globalThis.FileSystemFileHandle ||\n            !globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle ||\n            !navigator?.storage?.getDirectory\n          ) {\n            return Promise.reject(new Error('Missing required OPFS APIs.'));\n          }\n          if (!options || 'object' !== typeof options) {\n            options = Object.create(null);\n          }\n          const urlParams = new URL(globalThis.location.href).searchParams;\n          if (urlParams.has('opfs-disable')) {\n            return Promise.resolve(sqlite3);\n          }\n          if (undefined === options.verbose) {\n            options.verbose = urlParams.has('opfs-verbose')\n              ? +urlParams.get('opfs-verbose') || 2\n              : 1;\n          }\n          if (undefined === options.sanityChecks) {\n            options.sanityChecks = urlParams.has('opfs-sanity-check');\n          }\n          if (undefined === options.proxyUri) {\n            options.proxyUri = callee.defaultProxyUri;\n          }\n\n          if ('function' === typeof options.proxyUri) {\n            options.proxyUri = options.proxyUri();\n          }\n          const thePromise = new Promise(function (\n            promiseResolve_,\n            promiseReject_,\n          ) {\n            const loggers = [\n              sqlite3.config.error,\n              sqlite3.config.warn,\n              sqlite3.config.log,\n            ];\n            const logImpl = (level, ...args) => {\n              if (options.verbose > level)\n                loggers[level]('OPFS syncer:', ...args);\n            };\n            const log = (...args) => logImpl(2, ...args);\n            const warn = (...args) => logImpl(1, ...args);\n            const error = (...args) => logImpl(0, ...args);\n            const toss = sqlite3.util.toss;\n            const capi = sqlite3.capi;\n            const util = sqlite3.util;\n            const wasm = sqlite3.wasm;\n            const sqlite3_vfs = capi.sqlite3_vfs;\n            const sqlite3_file = capi.sqlite3_file;\n            const sqlite3_io_methods = capi.sqlite3_io_methods;\n\n            const opfsUtil = Object.create(null);\n\n            const thisThreadHasOPFS = () => {\n              return (\n                globalThis.FileSystemHandle &&\n                globalThis.FileSystemDirectoryHandle &&\n                globalThis.FileSystemFileHandle &&\n                globalThis.FileSystemFileHandle.prototype\n                  .createSyncAccessHandle &&\n                navigator?.storage?.getDirectory\n              );\n            };\n\n            opfsUtil.metrics = {\n              dump: function () {\n                let k,\n                  n = 0,\n                  t = 0,\n                  w = 0;\n                for (k in state.opIds) {\n                  const m = metrics[k];\n                  n += m.count;\n                  t += m.time;\n                  w += m.wait;\n                  m.avgTime = m.count && m.time ? m.time / m.count : 0;\n                  m.avgWait = m.count && m.wait ? m.wait / m.count : 0;\n                }\n                sqlite3.config.log(\n                  globalThis.location.href,\n                  'metrics for',\n                  globalThis.location.href,\n                  ':',\n                  metrics,\n                  '\\nTotal of',\n                  n,\n                  'op(s) for',\n                  t,\n                  'ms (incl. ' + w + ' ms of waiting on the async side)',\n                );\n                sqlite3.config.log('Serialization metrics:', metrics.s11n);\n                W.postMessage({ type: 'opfs-async-metrics' });\n              },\n              reset: function () {\n                let k;\n                const r = (m) => (m.count = m.time = m.wait = 0);\n                for (k in state.opIds) {\n                  r((metrics[k] = Object.create(null)));\n                }\n                let s = (metrics.s11n = Object.create(null));\n                s = s.serialize = Object.create(null);\n                s.count = s.time = 0;\n                s = metrics.s11n.deserialize = Object.create(null);\n                s.count = s.time = 0;\n              },\n            };\n            const opfsIoMethods = new sqlite3_io_methods();\n            const opfsVfs = new sqlite3_vfs().addOnDispose(() =>\n              opfsIoMethods.dispose(),\n            );\n            let promiseWasRejected = undefined;\n            const promiseReject = (err) => {\n              promiseWasRejected = true;\n              opfsVfs.dispose();\n              return promiseReject_(err);\n            };\n            const promiseResolve = () => {\n              promiseWasRejected = false;\n              return promiseResolve_(sqlite3);\n            };\n            const W = new Worker(\n              new URL('sqlite3-opfs-async-proxy.js', import.meta.url),\n            );\n            setTimeout(() => {\n              if (undefined === promiseWasRejected) {\n                promiseReject(\n                  new Error(\n                    'Timeout while waiting for OPFS async proxy worker.',\n                  ),\n                );\n              }\n            }, 4000);\n            W._originalOnError = W.onerror;\n            W.onerror = function (err) {\n              error('Error initializing OPFS asyncer:', err);\n              promiseReject(\n                new Error(\n                  'Loading OPFS async Worker failed for unknown reasons.',\n                ),\n              );\n            };\n            const pDVfs = capi.sqlite3_vfs_find(null);\n            const dVfs = pDVfs ? new sqlite3_vfs(pDVfs) : null;\n            opfsIoMethods.$iVersion = 1;\n            opfsVfs.$iVersion = 2;\n            opfsVfs.$szOsFile = capi.sqlite3_file.structInfo.sizeof;\n            opfsVfs.$mxPathname = 1024;\n            opfsVfs.$zName = wasm.allocCString('opfs');\n\n            opfsVfs.$xDlOpen =\n              opfsVfs.$xDlError =\n              opfsVfs.$xDlSym =\n              opfsVfs.$xDlClose =\n                null;\n            opfsVfs.addOnDispose(\n              '$zName',\n              opfsVfs.$zName,\n              'cleanup default VFS wrapper',\n              () => (dVfs ? dVfs.dispose() : null),\n            );\n\n            const state = Object.create(null);\n            state.verbose = options.verbose;\n            state.littleEndian = (() => {\n              const buffer = new ArrayBuffer(2);\n              new DataView(buffer).setInt16(0, 256, true);\n\n              return new Int16Array(buffer)[0] === 256;\n            })();\n\n            state.asyncIdleWaitTime = 150;\n\n            state.asyncS11nExceptions = 1;\n\n            state.fileBufferSize = 1024 * 64;\n            state.sabS11nOffset = state.fileBufferSize;\n\n            state.sabS11nSize = opfsVfs.$mxPathname * 2;\n\n            state.sabIO = new SharedArrayBuffer(\n              state.fileBufferSize + state.sabS11nSize,\n            );\n            state.opIds = Object.create(null);\n            const metrics = Object.create(null);\n            {\n              let i = 0;\n\n              state.opIds.whichOp = i++;\n\n              state.opIds.rc = i++;\n\n              state.opIds.xAccess = i++;\n              state.opIds.xClose = i++;\n              state.opIds.xDelete = i++;\n              state.opIds.xDeleteNoWait = i++;\n              state.opIds.xFileSize = i++;\n              state.opIds.xLock = i++;\n              state.opIds.xOpen = i++;\n              state.opIds.xRead = i++;\n              state.opIds.xSleep = i++;\n              state.opIds.xSync = i++;\n              state.opIds.xTruncate = i++;\n              state.opIds.xUnlock = i++;\n              state.opIds.xWrite = i++;\n              state.opIds.mkdir = i++;\n              state.opIds['opfs-async-metrics'] = i++;\n              state.opIds['opfs-async-shutdown'] = i++;\n\n              state.opIds.retry = i++;\n              state.sabOP = new SharedArrayBuffer(i * 4);\n              opfsUtil.metrics.reset();\n            }\n\n            state.sq3Codes = Object.create(null);\n            [\n              'SQLITE_ACCESS_EXISTS',\n              'SQLITE_ACCESS_READWRITE',\n              'SQLITE_BUSY',\n              'SQLITE_ERROR',\n              'SQLITE_IOERR',\n              'SQLITE_IOERR_ACCESS',\n              'SQLITE_IOERR_CLOSE',\n              'SQLITE_IOERR_DELETE',\n              'SQLITE_IOERR_FSYNC',\n              'SQLITE_IOERR_LOCK',\n              'SQLITE_IOERR_READ',\n              'SQLITE_IOERR_SHORT_READ',\n              'SQLITE_IOERR_TRUNCATE',\n              'SQLITE_IOERR_UNLOCK',\n              'SQLITE_IOERR_WRITE',\n              'SQLITE_LOCK_EXCLUSIVE',\n              'SQLITE_LOCK_NONE',\n              'SQLITE_LOCK_PENDING',\n              'SQLITE_LOCK_RESERVED',\n              'SQLITE_LOCK_SHARED',\n              'SQLITE_LOCKED',\n              'SQLITE_MISUSE',\n              'SQLITE_NOTFOUND',\n              'SQLITE_OPEN_CREATE',\n              'SQLITE_OPEN_DELETEONCLOSE',\n              'SQLITE_OPEN_MAIN_DB',\n              'SQLITE_OPEN_READONLY',\n            ].forEach((k) => {\n              if (undefined === (state.sq3Codes[k] = capi[k])) {\n                toss('Maintenance required: not found:', k);\n              }\n            });\n            state.opfsFlags = Object.assign(Object.create(null), {\n              OPFS_UNLOCK_ASAP: 0x01,\n\n              defaultUnlockAsap: false,\n            });\n\n            const opRun = (op, ...args) => {\n              const opNdx = state.opIds[op] || toss('Invalid op ID:', op);\n              state.s11n.serialize(...args);\n              Atomics.store(state.sabOPView, state.opIds.rc, -1);\n              Atomics.store(state.sabOPView, state.opIds.whichOp, opNdx);\n              Atomics.notify(state.sabOPView, state.opIds.whichOp);\n              const t = performance.now();\n              Atomics.wait(state.sabOPView, state.opIds.rc, -1);\n              const rc = Atomics.load(state.sabOPView, state.opIds.rc);\n              metrics[op].wait += performance.now() - t;\n              if (rc && state.asyncS11nExceptions) {\n                const err = state.s11n.deserialize();\n                if (err) error(op + '() async error:', ...err);\n              }\n              return rc;\n            };\n\n            opfsUtil.debug = {\n              asyncShutdown: () => {\n                warn(\n                  'Shutting down OPFS async listener. The OPFS VFS will no longer work.',\n                );\n                opRun('opfs-async-shutdown');\n              },\n              asyncRestart: () => {\n                warn(\n                  'Attempting to restart OPFS VFS async listener. Might work, might not.',\n                );\n                W.postMessage({ type: 'opfs-async-restart' });\n              },\n            };\n\n            const initS11n = () => {\n              if (state.s11n) return state.s11n;\n              const textDecoder = new TextDecoder(),\n                textEncoder = new TextEncoder('utf-8'),\n                viewU8 = new Uint8Array(\n                  state.sabIO,\n                  state.sabS11nOffset,\n                  state.sabS11nSize,\n                ),\n                viewDV = new DataView(\n                  state.sabIO,\n                  state.sabS11nOffset,\n                  state.sabS11nSize,\n                );\n              state.s11n = Object.create(null);\n\n              const TypeIds = Object.create(null);\n              TypeIds.number = {\n                id: 1,\n                size: 8,\n                getter: 'getFloat64',\n                setter: 'setFloat64',\n              };\n              TypeIds.bigint = {\n                id: 2,\n                size: 8,\n                getter: 'getBigInt64',\n                setter: 'setBigInt64',\n              };\n              TypeIds.boolean = {\n                id: 3,\n                size: 4,\n                getter: 'getInt32',\n                setter: 'setInt32',\n              };\n              TypeIds.string = { id: 4 };\n\n              const getTypeId = (v) =>\n                TypeIds[typeof v] ||\n                toss(\n                  'Maintenance required: this value type cannot be serialized.',\n                  v,\n                );\n              const getTypeIdById = (tid) => {\n                switch (tid) {\n                  case TypeIds.number.id:\n                    return TypeIds.number;\n                  case TypeIds.bigint.id:\n                    return TypeIds.bigint;\n                  case TypeIds.boolean.id:\n                    return TypeIds.boolean;\n                  case TypeIds.string.id:\n                    return TypeIds.string;\n                  default:\n                    toss('Invalid type ID:', tid);\n                }\n              };\n\n              state.s11n.deserialize = function (clear = false) {\n                ++metrics.s11n.deserialize.count;\n                const t = performance.now();\n                const argc = viewU8[0];\n                const rc = argc ? [] : null;\n                if (argc) {\n                  const typeIds = [];\n                  let offset = 1,\n                    i,\n                    n,\n                    v;\n                  for (i = 0; i < argc; ++i, ++offset) {\n                    typeIds.push(getTypeIdById(viewU8[offset]));\n                  }\n                  for (i = 0; i < argc; ++i) {\n                    const t = typeIds[i];\n                    if (t.getter) {\n                      v = viewDV[t.getter](offset, state.littleEndian);\n                      offset += t.size;\n                    } else {\n                      n = viewDV.getInt32(offset, state.littleEndian);\n                      offset += 4;\n                      v = textDecoder.decode(viewU8.slice(offset, offset + n));\n                      offset += n;\n                    }\n                    rc.push(v);\n                  }\n                }\n                if (clear) viewU8[0] = 0;\n\n                metrics.s11n.deserialize.time += performance.now() - t;\n                return rc;\n              };\n\n              state.s11n.serialize = function (...args) {\n                const t = performance.now();\n                ++metrics.s11n.serialize.count;\n                if (args.length) {\n                  const typeIds = [];\n                  let i = 0,\n                    offset = 1;\n                  viewU8[0] = args.length & 0xff;\n                  for (; i < args.length; ++i, ++offset) {\n                    typeIds.push(getTypeId(args[i]));\n                    viewU8[offset] = typeIds[i].id;\n                  }\n                  for (i = 0; i < args.length; ++i) {\n                    const t = typeIds[i];\n                    if (t.setter) {\n                      viewDV[t.setter](offset, args[i], state.littleEndian);\n                      offset += t.size;\n                    } else {\n                      const s = textEncoder.encode(args[i]);\n                      viewDV.setInt32(offset, s.byteLength, state.littleEndian);\n                      offset += 4;\n                      viewU8.set(s, offset);\n                      offset += s.byteLength;\n                    }\n                  }\n                } else {\n                  viewU8[0] = 0;\n                }\n                metrics.s11n.serialize.time += performance.now() - t;\n              };\n              return state.s11n;\n            };\n\n            const randomFilename = function f(len = 16) {\n              if (!f._chars) {\n                f._chars =\n                  'abcdefghijklmnopqrstuvwxyz' +\n                  'ABCDEFGHIJKLMNOPQRSTUVWXYZ' +\n                  '012346789';\n                f._n = f._chars.length;\n              }\n              const a = [];\n              let i = 0;\n              for (; i < len; ++i) {\n                const ndx = (Math.random() * (f._n * 64)) % f._n | 0;\n                a[i] = f._chars[ndx];\n              }\n              return a.join('');\n            };\n\n            const __openFiles = Object.create(null);\n\n            const opTimer = Object.create(null);\n            opTimer.op = undefined;\n            opTimer.start = undefined;\n            const mTimeStart = (op) => {\n              opTimer.start = performance.now();\n              opTimer.op = op;\n              ++metrics[op].count;\n            };\n            const mTimeEnd = () =>\n              (metrics[opTimer.op].time += performance.now() - opTimer.start);\n\n            const ioSyncWrappers = {\n              xCheckReservedLock: function (pFile, pOut) {\n                const f = __openFiles[pFile];\n                wasm.poke(pOut, f.lockType ? 1 : 0, 'i32');\n                return 0;\n              },\n              xClose: function (pFile) {\n                mTimeStart('xClose');\n                let rc = 0;\n                const f = __openFiles[pFile];\n                if (f) {\n                  delete __openFiles[pFile];\n                  rc = opRun('xClose', pFile);\n                  if (f.sq3File) f.sq3File.dispose();\n                }\n                mTimeEnd();\n                return rc;\n              },\n              xDeviceCharacteristics: function (pFile) {\n                return capi.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN;\n              },\n              xFileControl: function (pFile, opId, pArg) {\n                return capi.SQLITE_NOTFOUND;\n              },\n              xFileSize: function (pFile, pSz64) {\n                mTimeStart('xFileSize');\n                let rc = opRun('xFileSize', pFile);\n                if (0 == rc) {\n                  try {\n                    const sz = state.s11n.deserialize()[0];\n                    wasm.poke(pSz64, sz, 'i64');\n                  } catch (e) {\n                    error('Unexpected error reading xFileSize() result:', e);\n                    rc = state.sq3Codes.SQLITE_IOERR;\n                  }\n                }\n                mTimeEnd();\n                return rc;\n              },\n              xLock: function (pFile, lockType) {\n                mTimeStart('xLock');\n                const f = __openFiles[pFile];\n                let rc = 0;\n\n                if (!f.lockType) {\n                  rc = opRun('xLock', pFile, lockType);\n                  if (0 === rc) f.lockType = lockType;\n                } else {\n                  f.lockType = lockType;\n                }\n                mTimeEnd();\n                return rc;\n              },\n              xRead: function (pFile, pDest, n, offset64) {\n                mTimeStart('xRead');\n                const f = __openFiles[pFile];\n                let rc;\n                try {\n                  rc = opRun('xRead', pFile, n, Number(offset64));\n                  if (0 === rc || capi.SQLITE_IOERR_SHORT_READ === rc) {\n                    wasm.heap8u().set(f.sabView.subarray(0, n), pDest);\n                  }\n                } catch (e) {\n                  error('xRead(', arguments, ') failed:', e, f);\n                  rc = capi.SQLITE_IOERR_READ;\n                }\n                mTimeEnd();\n                return rc;\n              },\n              xSync: function (pFile, flags) {\n                mTimeStart('xSync');\n                ++metrics.xSync.count;\n                const rc = opRun('xSync', pFile, flags);\n                mTimeEnd();\n                return rc;\n              },\n              xTruncate: function (pFile, sz64) {\n                mTimeStart('xTruncate');\n                const rc = opRun('xTruncate', pFile, Number(sz64));\n                mTimeEnd();\n                return rc;\n              },\n              xUnlock: function (pFile, lockType) {\n                mTimeStart('xUnlock');\n                const f = __openFiles[pFile];\n                let rc = 0;\n                if (capi.SQLITE_LOCK_NONE === lockType && f.lockType) {\n                  rc = opRun('xUnlock', pFile, lockType);\n                }\n                if (0 === rc) f.lockType = lockType;\n                mTimeEnd();\n                return rc;\n              },\n              xWrite: function (pFile, pSrc, n, offset64) {\n                mTimeStart('xWrite');\n                const f = __openFiles[pFile];\n                let rc;\n                try {\n                  f.sabView.set(wasm.heap8u().subarray(pSrc, pSrc + n));\n                  rc = opRun('xWrite', pFile, n, Number(offset64));\n                } catch (e) {\n                  error('xWrite(', arguments, ') failed:', e, f);\n                  rc = capi.SQLITE_IOERR_WRITE;\n                }\n                mTimeEnd();\n                return rc;\n              },\n            };\n\n            const vfsSyncWrappers = {\n              xAccess: function (pVfs, zName, flags, pOut) {\n                mTimeStart('xAccess');\n                const rc = opRun('xAccess', wasm.cstrToJs(zName));\n                wasm.poke(pOut, rc ? 0 : 1, 'i32');\n                mTimeEnd();\n                return 0;\n              },\n              xCurrentTime: function (pVfs, pOut) {\n                wasm.poke(\n                  pOut,\n                  2440587.5 + new Date().getTime() / 86400000,\n                  'double',\n                );\n                return 0;\n              },\n              xCurrentTimeInt64: function (pVfs, pOut) {\n                wasm.poke(\n                  pOut,\n                  2440587.5 * 86400000 + new Date().getTime(),\n                  'i64',\n                );\n                return 0;\n              },\n              xDelete: function (pVfs, zName, doSyncDir) {\n                mTimeStart('xDelete');\n                const rc = opRun(\n                  'xDelete',\n                  wasm.cstrToJs(zName),\n                  doSyncDir,\n                  false,\n                );\n                mTimeEnd();\n                return rc;\n              },\n              xFullPathname: function (pVfs, zName, nOut, pOut) {\n                const i = wasm.cstrncpy(pOut, zName, nOut);\n                return i < nOut ? 0 : capi.SQLITE_CANTOPEN;\n              },\n              xGetLastError: function (pVfs, nOut, pOut) {\n                warn('OPFS xGetLastError() has nothing sensible to return.');\n                return 0;\n              },\n\n              xOpen: function f(pVfs, zName, pFile, flags, pOutFlags) {\n                mTimeStart('xOpen');\n                let opfsFlags = 0;\n                if (0 === zName) {\n                  zName = randomFilename();\n                } else if ('number' === typeof zName) {\n                  if (capi.sqlite3_uri_boolean(zName, 'opfs-unlock-asap', 0)) {\n                    opfsFlags |= state.opfsFlags.OPFS_UNLOCK_ASAP;\n                  }\n                  zName = wasm.cstrToJs(zName);\n                }\n                const fh = Object.create(null);\n                fh.fid = pFile;\n                fh.filename = zName;\n                fh.sab = new SharedArrayBuffer(state.fileBufferSize);\n                fh.flags = flags;\n                const rc = opRun('xOpen', pFile, zName, flags, opfsFlags);\n                if (!rc) {\n                  if (fh.readOnly) {\n                    wasm.poke(pOutFlags, capi.SQLITE_OPEN_READONLY, 'i32');\n                  }\n                  __openFiles[pFile] = fh;\n                  fh.sabView = state.sabFileBufView;\n                  fh.sq3File = new sqlite3_file(pFile);\n                  fh.sq3File.$pMethods = opfsIoMethods.pointer;\n                  fh.lockType = capi.SQLITE_LOCK_NONE;\n                }\n                mTimeEnd();\n                return rc;\n              },\n            };\n\n            if (dVfs) {\n              opfsVfs.$xRandomness = dVfs.$xRandomness;\n              opfsVfs.$xSleep = dVfs.$xSleep;\n            }\n            if (!opfsVfs.$xRandomness) {\n              vfsSyncWrappers.xRandomness = function (pVfs, nOut, pOut) {\n                const heap = wasm.heap8u();\n                let i = 0;\n                for (; i < nOut; ++i)\n                  heap[pOut + i] = (Math.random() * 255000) & 0xff;\n                return i;\n              };\n            }\n            if (!opfsVfs.$xSleep) {\n              vfsSyncWrappers.xSleep = function (pVfs, ms) {\n                Atomics.wait(state.sabOPView, state.opIds.xSleep, 0, ms);\n                return 0;\n              };\n            }\n\n            opfsUtil.getResolvedPath = function (filename, splitIt) {\n              const p = new URL(filename, 'file://irrelevant').pathname;\n              return splitIt ? p.split('/').filter((v) => !!v) : p;\n            };\n\n            opfsUtil.getDirForFilename = async function f(\n              absFilename,\n              createDirs = false,\n            ) {\n              const path = opfsUtil.getResolvedPath(absFilename, true);\n              const filename = path.pop();\n              let dh = opfsUtil.rootDirectory;\n              for (const dirName of path) {\n                if (dirName) {\n                  dh = await dh.getDirectoryHandle(dirName, {\n                    create: !!createDirs,\n                  });\n                }\n              }\n              return [dh, filename];\n            };\n\n            opfsUtil.mkdir = async function (absDirName) {\n              try {\n                await opfsUtil.getDirForFilename(\n                  absDirName + '/filepart',\n                  true,\n                );\n                return true;\n              } catch (e) {\n                return false;\n              }\n            };\n\n            opfsUtil.entryExists = async function (fsEntryName) {\n              try {\n                const [dh, fn] = await opfsUtil.getDirForFilename(fsEntryName);\n                await dh.getFileHandle(fn);\n                return true;\n              } catch (e) {\n                return false;\n              }\n            };\n\n            opfsUtil.randomFilename = randomFilename;\n\n            opfsUtil.registerVfs = (asDefault = false) => {\n              return wasm.exports.sqlite3_vfs_register(\n                opfsVfs.pointer,\n                asDefault ? 1 : 0,\n              );\n            };\n\n            opfsUtil.treeList = async function () {\n              const doDir = async function callee(dirHandle, tgt) {\n                tgt.name = dirHandle.name;\n                tgt.dirs = [];\n                tgt.files = [];\n                for await (const handle of dirHandle.values()) {\n                  if ('directory' === handle.kind) {\n                    const subDir = Object.create(null);\n                    tgt.dirs.push(subDir);\n                    await callee(handle, subDir);\n                  } else {\n                    tgt.files.push(handle.name);\n                  }\n                }\n              };\n              const root = Object.create(null);\n              await doDir(opfsUtil.rootDirectory, root);\n              return root;\n            };\n\n            opfsUtil.rmfr = async function () {\n              const dir = opfsUtil.rootDirectory,\n                opt = { recurse: true };\n              for await (const handle of dir.values()) {\n                dir.removeEntry(handle.name, opt);\n              }\n            };\n\n            opfsUtil.unlink = async function (\n              fsEntryName,\n              recursive = false,\n              throwOnError = false,\n            ) {\n              try {\n                const [hDir, filenamePart] = await opfsUtil.getDirForFilename(\n                  fsEntryName,\n                  false,\n                );\n                await hDir.removeEntry(filenamePart, { recursive });\n                return true;\n              } catch (e) {\n                if (throwOnError) {\n                  throw new Error(\n                    'unlink(',\n                    arguments[0],\n                    ') failed: ' + e.message,\n                    {\n                      cause: e,\n                    },\n                  );\n                }\n                return false;\n              }\n            };\n\n            opfsUtil.traverse = async function (opt) {\n              const defaultOpt = {\n                recursive: true,\n                directory: opfsUtil.rootDirectory,\n              };\n              if ('function' === typeof opt) {\n                opt = { callback: opt };\n              }\n              opt = Object.assign(defaultOpt, opt || {});\n              const doDir = async function callee(dirHandle, depth) {\n                for await (const handle of dirHandle.values()) {\n                  if (false === opt.callback(handle, dirHandle, depth))\n                    return false;\n                  else if (opt.recursive && 'directory' === handle.kind) {\n                    if (false === (await callee(handle, depth + 1))) break;\n                  }\n                }\n              };\n              doDir(opt.directory, 0);\n            };\n\n            const importDbChunked = async function (filename, callback) {\n              const [hDir, fnamePart] = await opfsUtil.getDirForFilename(\n                filename,\n                true,\n              );\n              const hFile = await hDir.getFileHandle(fnamePart, {\n                create: true,\n              });\n              let sah = await hFile.createSyncAccessHandle();\n              let nWrote = 0,\n                chunk,\n                checkedHeader = false,\n                err = false;\n              try {\n                sah.truncate(0);\n                while (undefined !== (chunk = await callback())) {\n                  if (chunk instanceof ArrayBuffer)\n                    chunk = new Uint8Array(chunk);\n                  if (0 === nWrote && chunk.byteLength >= 15) {\n                    util.affirmDbHeader(chunk);\n                    checkedHeader = true;\n                  }\n                  sah.write(chunk, { at: nWrote });\n                  nWrote += chunk.byteLength;\n                }\n                if (nWrote < 512 || 0 !== nWrote % 512) {\n                  toss(\n                    'Input size',\n                    nWrote,\n                    'is not correct for an SQLite database.',\n                  );\n                }\n                if (!checkedHeader) {\n                  const header = new Uint8Array(20);\n                  sah.read(header, { at: 0 });\n                  util.affirmDbHeader(header);\n                }\n                sah.write(new Uint8Array([1, 1]), { at: 18 });\n                return nWrote;\n              } catch (e) {\n                await sah.close();\n                sah = undefined;\n                await hDir.removeEntry(fnamePart).catch(() => {});\n                throw e;\n              } finally {\n                if (sah) await sah.close();\n              }\n            };\n\n            opfsUtil.importDb = async function (filename, bytes) {\n              if (bytes instanceof Function) {\n                return importDbChunked(filename, bytes);\n              }\n              if (bytes instanceof ArrayBuffer) bytes = new Uint8Array(bytes);\n              util.affirmIsDb(bytes);\n              const n = bytes.byteLength;\n              const [hDir, fnamePart] = await opfsUtil.getDirForFilename(\n                filename,\n                true,\n              );\n              let sah,\n                err,\n                nWrote = 0;\n              try {\n                const hFile = await hDir.getFileHandle(fnamePart, {\n                  create: true,\n                });\n                sah = await hFile.createSyncAccessHandle();\n                sah.truncate(0);\n                nWrote = sah.write(bytes, { at: 0 });\n                if (nWrote != n) {\n                  toss(\n                    'Expected to write ' +\n                      n +\n                      ' bytes but wrote ' +\n                      nWrote +\n                      '.',\n                  );\n                }\n                sah.write(new Uint8Array([1, 1]), { at: 18 });\n                return nWrote;\n              } catch (e) {\n                if (sah) {\n                  await sah.close();\n                  sah = undefined;\n                }\n                await hDir.removeEntry(fnamePart).catch(() => {});\n                throw e;\n              } finally {\n                if (sah) await sah.close();\n              }\n            };\n\n            if (sqlite3.oo1) {\n              const OpfsDb = function (...args) {\n                const opt = sqlite3.oo1.DB.dbCtorHelper.normalizeArgs(...args);\n                opt.vfs = opfsVfs.$zName;\n                sqlite3.oo1.DB.dbCtorHelper.call(this, opt);\n              };\n              OpfsDb.prototype = Object.create(sqlite3.oo1.DB.prototype);\n              sqlite3.oo1.OpfsDb = OpfsDb;\n              OpfsDb.importDb = opfsUtil.importDb;\n              sqlite3.oo1.DB.dbCtorHelper.setVfsPostOpenSql(\n                opfsVfs.pointer,\n                function (oo1Db, sqlite3) {\n                  sqlite3.capi.sqlite3_busy_timeout(oo1Db, 10000);\n                  sqlite3.capi.sqlite3_exec(\n                    oo1Db,\n                    [\n                      'pragma journal_mode=DELETE;',\n\n                      'pragma cache_size=-16384;',\n                    ],\n                    0,\n                    0,\n                    0,\n                  );\n                },\n              );\n            }\n\n            const sanityCheck = function () {\n              const scope = wasm.scopedAllocPush();\n              const sq3File = new sqlite3_file();\n              try {\n                const fid = sq3File.pointer;\n                const openFlags =\n                  capi.SQLITE_OPEN_CREATE |\n                  capi.SQLITE_OPEN_READWRITE |\n                  capi.SQLITE_OPEN_MAIN_DB;\n                const pOut = wasm.scopedAlloc(8);\n                const dbFile = '/sanity/check/file' + randomFilename(8);\n                const zDbFile = wasm.scopedAllocCString(dbFile);\n                let rc;\n                state.s11n.serialize('This is ä string.');\n                rc = state.s11n.deserialize();\n                log('deserialize() says:', rc);\n                if ('This is ä string.' !== rc[0]) toss('String d13n error.');\n                vfsSyncWrappers.xAccess(opfsVfs.pointer, zDbFile, 0, pOut);\n                rc = wasm.peek(pOut, 'i32');\n                log('xAccess(', dbFile, ') exists ?=', rc);\n                rc = vfsSyncWrappers.xOpen(\n                  opfsVfs.pointer,\n                  zDbFile,\n                  fid,\n                  openFlags,\n                  pOut,\n                );\n                log(\n                  'open rc =',\n                  rc,\n                  'state.sabOPView[xOpen] =',\n                  state.sabOPView[state.opIds.xOpen],\n                );\n                if (0 !== rc) {\n                  error('open failed with code', rc);\n                  return;\n                }\n                vfsSyncWrappers.xAccess(opfsVfs.pointer, zDbFile, 0, pOut);\n                rc = wasm.peek(pOut, 'i32');\n                if (!rc) toss('xAccess() failed to detect file.');\n                rc = ioSyncWrappers.xSync(sq3File.pointer, 0);\n                if (rc) toss('sync failed w/ rc', rc);\n                rc = ioSyncWrappers.xTruncate(sq3File.pointer, 1024);\n                if (rc) toss('truncate failed w/ rc', rc);\n                wasm.poke(pOut, 0, 'i64');\n                rc = ioSyncWrappers.xFileSize(sq3File.pointer, pOut);\n                if (rc) toss('xFileSize failed w/ rc', rc);\n                log('xFileSize says:', wasm.peek(pOut, 'i64'));\n                rc = ioSyncWrappers.xWrite(sq3File.pointer, zDbFile, 10, 1);\n                if (rc) toss('xWrite() failed!');\n                const readBuf = wasm.scopedAlloc(16);\n                rc = ioSyncWrappers.xRead(sq3File.pointer, readBuf, 6, 2);\n                wasm.poke(readBuf + 6, 0);\n                let jRead = wasm.cstrToJs(readBuf);\n                log('xRead() got:', jRead);\n                if ('sanity' !== jRead) toss('Unexpected xRead() value.');\n                if (vfsSyncWrappers.xSleep) {\n                  log('xSleep()ing before close()ing...');\n                  vfsSyncWrappers.xSleep(opfsVfs.pointer, 2000);\n                  log('waking up from xSleep()');\n                }\n                rc = ioSyncWrappers.xClose(fid);\n                log('xClose rc =', rc, 'sabOPView =', state.sabOPView);\n                log('Deleting file:', dbFile);\n                vfsSyncWrappers.xDelete(opfsVfs.pointer, zDbFile, 0x1234);\n                vfsSyncWrappers.xAccess(opfsVfs.pointer, zDbFile, 0, pOut);\n                rc = wasm.peek(pOut, 'i32');\n                if (rc)\n                  toss(\n                    'Expecting 0 from xAccess(',\n                    dbFile,\n                    ') after xDelete().',\n                  );\n                warn('End of OPFS sanity checks.');\n              } finally {\n                sq3File.dispose();\n                wasm.scopedAllocPop(scope);\n              }\n            };\n\n            W.onmessage = function ({ data }) {\n              switch (data.type) {\n                case 'opfs-unavailable':\n                  promiseReject(new Error(data.payload.join(' ')));\n                  break;\n                case 'opfs-async-loaded':\n                  W.postMessage({ type: 'opfs-async-init', args: state });\n                  break;\n                case 'opfs-async-inited': {\n                  if (true === promiseWasRejected) {\n                    break;\n                  }\n                  try {\n                    sqlite3.vfs.installVfs({\n                      io: { struct: opfsIoMethods, methods: ioSyncWrappers },\n                      vfs: { struct: opfsVfs, methods: vfsSyncWrappers },\n                    });\n                    state.sabOPView = new Int32Array(state.sabOP);\n                    state.sabFileBufView = new Uint8Array(\n                      state.sabIO,\n                      0,\n                      state.fileBufferSize,\n                    );\n                    state.sabS11nView = new Uint8Array(\n                      state.sabIO,\n                      state.sabS11nOffset,\n                      state.sabS11nSize,\n                    );\n                    initS11n();\n                    if (options.sanityChecks) {\n                      warn(\n                        'Running sanity checks because of opfs-sanity-check URL arg...',\n                      );\n                      sanityCheck();\n                    }\n                    if (thisThreadHasOPFS()) {\n                      navigator.storage\n                        .getDirectory()\n                        .then((d) => {\n                          W.onerror = W._originalOnError;\n                          delete W._originalOnError;\n                          sqlite3.opfs = opfsUtil;\n                          opfsUtil.rootDirectory = d;\n                          log('End of OPFS sqlite3_vfs setup.', opfsVfs);\n                          promiseResolve();\n                        })\n                        .catch(promiseReject);\n                    } else {\n                      promiseResolve();\n                    }\n                  } catch (e) {\n                    error(e);\n                    promiseReject(e);\n                  }\n                  break;\n                }\n                default: {\n                  const errMsg =\n                    'Unexpected message from the OPFS async worker: ' +\n                    JSON.stringify(data);\n                  error(errMsg);\n                  promiseReject(new Error(errMsg));\n                  break;\n                }\n              }\n            };\n          });\n          return thePromise;\n        };\n        installOpfsVfs.defaultProxyUri = 'sqlite3-opfs-async-proxy.js';\n        globalThis.sqlite3ApiBootstrap.initializersAsync.push(\n          async (sqlite3) => {\n            try {\n              let proxyJs = installOpfsVfs.defaultProxyUri;\n              if (sqlite3.scriptInfo.sqlite3Dir) {\n                installOpfsVfs.defaultProxyUri =\n                  sqlite3.scriptInfo.sqlite3Dir + proxyJs;\n              }\n              return installOpfsVfs().catch((e) => {\n                sqlite3.config.warn(\n                  'Ignoring inability to install OPFS sqlite3_vfs:',\n                  e.message,\n                );\n              });\n            } catch (e) {\n              sqlite3.config.error('installOpfsVfs() exception:', e);\n              return Promise.reject(e);\n            }\n          },\n        );\n      });\n\n      globalThis.sqlite3ApiBootstrap.initializers.push(function (sqlite3) {\n        'use strict';\n        const toss = sqlite3.util.toss;\n        const toss3 = sqlite3.util.toss3;\n        const initPromises = Object.create(null);\n        const capi = sqlite3.capi;\n        const util = sqlite3.util;\n        const wasm = sqlite3.wasm;\n\n        const SECTOR_SIZE = 4096;\n        const HEADER_MAX_PATH_SIZE = 512;\n        const HEADER_FLAGS_SIZE = 4;\n        const HEADER_DIGEST_SIZE = 8;\n        const HEADER_CORPUS_SIZE = HEADER_MAX_PATH_SIZE + HEADER_FLAGS_SIZE;\n        const HEADER_OFFSET_FLAGS = HEADER_MAX_PATH_SIZE;\n        const HEADER_OFFSET_DIGEST = HEADER_CORPUS_SIZE;\n        const HEADER_OFFSET_DATA = SECTOR_SIZE;\n\n        const PERSISTENT_FILE_TYPES =\n          capi.SQLITE_OPEN_MAIN_DB |\n          capi.SQLITE_OPEN_MAIN_JOURNAL |\n          capi.SQLITE_OPEN_SUPER_JOURNAL |\n          capi.SQLITE_OPEN_WAL;\n\n        const OPAQUE_DIR_NAME = '.opaque';\n\n        const getRandomName = () => Math.random().toString(36).slice(2);\n\n        const textDecoder = new TextDecoder();\n        const textEncoder = new TextEncoder();\n\n        const optionDefaults = Object.assign(Object.create(null), {\n          name: 'opfs-sahpool',\n          directory: undefined,\n          initialCapacity: 6,\n          clearOnInit: false,\n\n          verbosity: 2,\n        });\n\n        const loggers = [\n          sqlite3.config.error,\n          sqlite3.config.warn,\n          sqlite3.config.log,\n        ];\n        const log = sqlite3.config.log;\n        const warn = sqlite3.config.warn;\n        const error = sqlite3.config.error;\n\n        const __mapVfsToPool = new Map();\n        const getPoolForVfs = (pVfs) => __mapVfsToPool.get(pVfs);\n        const setPoolForVfs = (pVfs, pool) => {\n          if (pool) __mapVfsToPool.set(pVfs, pool);\n          else __mapVfsToPool.delete(pVfs);\n        };\n\n        const __mapSqlite3File = new Map();\n        const getPoolForPFile = (pFile) => __mapSqlite3File.get(pFile);\n        const setPoolForPFile = (pFile, pool) => {\n          if (pool) __mapSqlite3File.set(pFile, pool);\n          else __mapSqlite3File.delete(pFile);\n        };\n\n        const ioMethods = {\n          xCheckReservedLock: function (pFile, pOut) {\n            const pool = getPoolForPFile(pFile);\n            pool.log('xCheckReservedLock');\n            pool.storeErr();\n            wasm.poke32(pOut, 1);\n            return 0;\n          },\n          xClose: function (pFile) {\n            const pool = getPoolForPFile(pFile);\n            pool.storeErr();\n            const file = pool.getOFileForS3File(pFile);\n            if (file) {\n              try {\n                pool.log(`xClose ${file.path}`);\n                pool.mapS3FileToOFile(pFile, false);\n                file.sah.flush();\n                if (file.flags & capi.SQLITE_OPEN_DELETEONCLOSE) {\n                  pool.deletePath(file.path);\n                }\n              } catch (e) {\n                return pool.storeErr(e, capi.SQLITE_IOERR);\n              }\n            }\n            return 0;\n          },\n          xDeviceCharacteristics: function (pFile) {\n            return capi.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN;\n          },\n          xFileControl: function (pFile, opId, pArg) {\n            return capi.SQLITE_NOTFOUND;\n          },\n          xFileSize: function (pFile, pSz64) {\n            const pool = getPoolForPFile(pFile);\n            pool.log(`xFileSize`);\n            const file = pool.getOFileForS3File(pFile);\n            const size = file.sah.getSize() - HEADER_OFFSET_DATA;\n\n            wasm.poke64(pSz64, BigInt(size));\n            return 0;\n          },\n          xLock: function (pFile, lockType) {\n            const pool = getPoolForPFile(pFile);\n            pool.log(`xLock ${lockType}`);\n            pool.storeErr();\n            const file = pool.getOFileForS3File(pFile);\n            file.lockType = lockType;\n            return 0;\n          },\n          xRead: function (pFile, pDest, n, offset64) {\n            const pool = getPoolForPFile(pFile);\n            pool.storeErr();\n            const file = pool.getOFileForS3File(pFile);\n            pool.log(`xRead ${file.path} ${n} @ ${offset64}`);\n            try {\n              const nRead = file.sah.read(\n                wasm.heap8u().subarray(pDest, pDest + n),\n                { at: HEADER_OFFSET_DATA + Number(offset64) },\n              );\n              if (nRead < n) {\n                wasm.heap8u().fill(0, pDest + nRead, pDest + n);\n                return capi.SQLITE_IOERR_SHORT_READ;\n              }\n              return 0;\n            } catch (e) {\n              return pool.storeErr(e, capi.SQLITE_IOERR);\n            }\n          },\n          xSectorSize: function (pFile) {\n            return SECTOR_SIZE;\n          },\n          xSync: function (pFile, flags) {\n            const pool = getPoolForPFile(pFile);\n            pool.log(`xSync ${flags}`);\n            pool.storeErr();\n            const file = pool.getOFileForS3File(pFile);\n\n            try {\n              file.sah.flush();\n              return 0;\n            } catch (e) {\n              return pool.storeErr(e, capi.SQLITE_IOERR);\n            }\n          },\n          xTruncate: function (pFile, sz64) {\n            const pool = getPoolForPFile(pFile);\n            pool.log(`xTruncate ${sz64}`);\n            pool.storeErr();\n            const file = pool.getOFileForS3File(pFile);\n\n            try {\n              file.sah.truncate(HEADER_OFFSET_DATA + Number(sz64));\n              return 0;\n            } catch (e) {\n              return pool.storeErr(e, capi.SQLITE_IOERR);\n            }\n          },\n          xUnlock: function (pFile, lockType) {\n            const pool = getPoolForPFile(pFile);\n            pool.log('xUnlock');\n            const file = pool.getOFileForS3File(pFile);\n            file.lockType = lockType;\n            return 0;\n          },\n          xWrite: function (pFile, pSrc, n, offset64) {\n            const pool = getPoolForPFile(pFile);\n            pool.storeErr();\n            const file = pool.getOFileForS3File(pFile);\n            pool.log(`xWrite ${file.path} ${n} ${offset64}`);\n            try {\n              const nBytes = file.sah.write(\n                wasm.heap8u().subarray(pSrc, pSrc + n),\n                { at: HEADER_OFFSET_DATA + Number(offset64) },\n              );\n              return n === nBytes ? 0 : toss('Unknown write() failure.');\n            } catch (e) {\n              return pool.storeErr(e, capi.SQLITE_IOERR);\n            }\n          },\n        };\n\n        const opfsIoMethods = new capi.sqlite3_io_methods();\n        opfsIoMethods.$iVersion = 1;\n        sqlite3.vfs.installVfs({\n          io: { struct: opfsIoMethods, methods: ioMethods },\n        });\n\n        const vfsMethods = {\n          xAccess: function (pVfs, zName, flags, pOut) {\n            const pool = getPoolForVfs(pVfs);\n            pool.storeErr();\n            try {\n              const name = pool.getPath(zName);\n              wasm.poke32(pOut, pool.hasFilename(name) ? 1 : 0);\n            } catch (e) {\n              wasm.poke32(pOut, 0);\n            }\n            return 0;\n          },\n          xCurrentTime: function (pVfs, pOut) {\n            wasm.poke(\n              pOut,\n              2440587.5 + new Date().getTime() / 86400000,\n              'double',\n            );\n            return 0;\n          },\n          xCurrentTimeInt64: function (pVfs, pOut) {\n            wasm.poke(pOut, 2440587.5 * 86400000 + new Date().getTime(), 'i64');\n            return 0;\n          },\n          xDelete: function (pVfs, zName, doSyncDir) {\n            const pool = getPoolForVfs(pVfs);\n            pool.log(`xDelete ${wasm.cstrToJs(zName)}`);\n            pool.storeErr();\n            try {\n              pool.deletePath(pool.getPath(zName));\n              return 0;\n            } catch (e) {\n              pool.storeErr(e);\n              return capi.SQLITE_IOERR_DELETE;\n            }\n          },\n          xFullPathname: function (pVfs, zName, nOut, pOut) {\n            const i = wasm.cstrncpy(pOut, zName, nOut);\n            return i < nOut ? 0 : capi.SQLITE_CANTOPEN;\n          },\n          xGetLastError: function (pVfs, nOut, pOut) {\n            const pool = getPoolForVfs(pVfs);\n            const e = pool.popErr();\n            pool.log(`xGetLastError ${nOut} e =`, e);\n            if (e) {\n              const scope = wasm.scopedAllocPush();\n              try {\n                const [cMsg, n] = wasm.scopedAllocCString(e.message, true);\n                wasm.cstrncpy(pOut, cMsg, nOut);\n                if (n > nOut) wasm.poke8(pOut + nOut - 1, 0);\n              } catch (e) {\n                return capi.SQLITE_NOMEM;\n              } finally {\n                wasm.scopedAllocPop(scope);\n              }\n            }\n            return e ? e.sqlite3Rc || capi.SQLITE_IOERR : 0;\n          },\n\n          xOpen: function f(pVfs, zName, pFile, flags, pOutFlags) {\n            const pool = getPoolForVfs(pVfs);\n            try {\n              pool.log(`xOpen ${wasm.cstrToJs(zName)} ${flags}`);\n\n              const path =\n                zName && wasm.peek8(zName)\n                  ? pool.getPath(zName)\n                  : getRandomName();\n              let sah = pool.getSAHForPath(path);\n              if (!sah && flags & capi.SQLITE_OPEN_CREATE) {\n                if (pool.getFileCount() < pool.getCapacity()) {\n                  sah = pool.nextAvailableSAH();\n                  pool.setAssociatedPath(sah, path, flags);\n                } else {\n                  toss('SAH pool is full. Cannot create file', path);\n                }\n              }\n              if (!sah) {\n                toss('file not found:', path);\n              }\n\n              const file = { path, flags, sah };\n              pool.mapS3FileToOFile(pFile, file);\n              file.lockType = capi.SQLITE_LOCK_NONE;\n              const sq3File = new capi.sqlite3_file(pFile);\n              sq3File.$pMethods = opfsIoMethods.pointer;\n              sq3File.dispose();\n              wasm.poke32(pOutFlags, flags);\n              return 0;\n            } catch (e) {\n              pool.storeErr(e);\n              return capi.SQLITE_CANTOPEN;\n            }\n          },\n        };\n\n        const createOpfsVfs = function (vfsName) {\n          if (sqlite3.capi.sqlite3_vfs_find(vfsName)) {\n            toss3('VFS name is already registered:', vfsName);\n          }\n          const opfsVfs = new capi.sqlite3_vfs();\n\n          const pDVfs = capi.sqlite3_vfs_find(null);\n          const dVfs = pDVfs ? new capi.sqlite3_vfs(pDVfs) : null;\n          opfsVfs.$iVersion = 2;\n          opfsVfs.$szOsFile = capi.sqlite3_file.structInfo.sizeof;\n          opfsVfs.$mxPathname = HEADER_MAX_PATH_SIZE;\n          opfsVfs.addOnDispose(\n            (opfsVfs.$zName = wasm.allocCString(vfsName)),\n            () => setPoolForVfs(opfsVfs.pointer, 0),\n          );\n\n          if (dVfs) {\n            opfsVfs.$xRandomness = dVfs.$xRandomness;\n            opfsVfs.$xSleep = dVfs.$xSleep;\n            dVfs.dispose();\n          }\n          if (!opfsVfs.$xRandomness && !vfsMethods.xRandomness) {\n            vfsMethods.xRandomness = function (pVfs, nOut, pOut) {\n              const heap = wasm.heap8u();\n              let i = 0;\n              for (; i < nOut; ++i)\n                heap[pOut + i] = (Math.random() * 255000) & 0xff;\n              return i;\n            };\n          }\n          if (!opfsVfs.$xSleep && !vfsMethods.xSleep) {\n            vfsMethods.xSleep = (pVfs, ms) => 0;\n          }\n          sqlite3.vfs.installVfs({\n            vfs: { struct: opfsVfs, methods: vfsMethods },\n          });\n          return opfsVfs;\n        };\n\n        class OpfsSAHPool {\n          vfsDir;\n\n          #dhVfsRoot;\n\n          #dhOpaque;\n\n          #dhVfsParent;\n\n          #mapSAHToName = new Map();\n\n          #mapFilenameToSAH = new Map();\n\n          #availableSAH = new Set();\n\n          #mapS3FileToOFile_ = new Map();\n\n          #apBody = new Uint8Array(HEADER_CORPUS_SIZE);\n\n          #dvBody;\n\n          #cVfs;\n\n          #verbosity;\n\n          constructor(options = Object.create(null)) {\n            this.#verbosity = options.verbosity ?? optionDefaults.verbosity;\n            this.vfsName = options.name || optionDefaults.name;\n            this.#cVfs = createOpfsVfs(this.vfsName);\n            setPoolForVfs(this.#cVfs.pointer, this);\n            this.vfsDir = options.directory || '.' + this.vfsName;\n            this.#dvBody = new DataView(\n              this.#apBody.buffer,\n              this.#apBody.byteOffset,\n            );\n            this.isReady = this.reset(\n              !!(options.clearOnInit ?? optionDefaults.clearOnInit),\n            ).then(() => {\n              if (this.$error) throw this.$error;\n              return this.getCapacity()\n                ? Promise.resolve(undefined)\n                : this.addCapacity(\n                    options.initialCapacity || optionDefaults.initialCapacity,\n                  );\n            });\n          }\n\n          #logImpl(level, ...args) {\n            if (this.#verbosity > level)\n              loggers[level](this.vfsName + ':', ...args);\n          }\n          log(...args) {\n            this.#logImpl(2, ...args);\n          }\n          warn(...args) {\n            this.#logImpl(1, ...args);\n          }\n          error(...args) {\n            this.#logImpl(0, ...args);\n          }\n\n          getVfs() {\n            return this.#cVfs;\n          }\n\n          getCapacity() {\n            return this.#mapSAHToName.size;\n          }\n\n          getFileCount() {\n            return this.#mapFilenameToSAH.size;\n          }\n\n          getFileNames() {\n            const rc = [];\n            const iter = this.#mapFilenameToSAH.keys();\n            for (const n of iter) rc.push(n);\n            return rc;\n          }\n\n          async addCapacity(n) {\n            for (let i = 0; i < n; ++i) {\n              const name = getRandomName();\n              const h = await this.#dhOpaque.getFileHandle(name, {\n                create: true,\n              });\n              const ah = await h.createSyncAccessHandle();\n              this.#mapSAHToName.set(ah, name);\n              this.setAssociatedPath(ah, '', 0);\n            }\n            return this.getCapacity();\n          }\n\n          async reduceCapacity(n) {\n            let nRm = 0;\n            for (const ah of Array.from(this.#availableSAH)) {\n              if (nRm === n || this.getFileCount() === this.getCapacity()) {\n                break;\n              }\n              const name = this.#mapSAHToName.get(ah);\n\n              ah.close();\n              await this.#dhOpaque.removeEntry(name);\n              this.#mapSAHToName.delete(ah);\n              this.#availableSAH.delete(ah);\n              ++nRm;\n            }\n            return nRm;\n          }\n\n          releaseAccessHandles() {\n            for (const ah of this.#mapSAHToName.keys()) ah.close();\n            this.#mapSAHToName.clear();\n            this.#mapFilenameToSAH.clear();\n            this.#availableSAH.clear();\n          }\n\n          async acquireAccessHandles(clearFiles) {\n            const files = [];\n            for await (const [name, h] of this.#dhOpaque) {\n              if ('file' === h.kind) {\n                files.push([name, h]);\n              }\n            }\n            return Promise.all(\n              files.map(async ([name, h]) => {\n                try {\n                  const ah = await h.createSyncAccessHandle();\n                  this.#mapSAHToName.set(ah, name);\n                  if (clearFiles) {\n                    ah.truncate(HEADER_OFFSET_DATA);\n                    this.setAssociatedPath(ah, '', 0);\n                  } else {\n                    const path = this.getAssociatedPath(ah);\n                    if (path) {\n                      this.#mapFilenameToSAH.set(path, ah);\n                    } else {\n                      this.#availableSAH.add(ah);\n                    }\n                  }\n                } catch (e) {\n                  this.storeErr(e);\n                  this.releaseAccessHandles();\n                  throw e;\n                }\n              }),\n            );\n          }\n\n          getAssociatedPath(sah) {\n            sah.read(this.#apBody, { at: 0 });\n\n            const flags = this.#dvBody.getUint32(HEADER_OFFSET_FLAGS);\n            if (\n              this.#apBody[0] &&\n              (flags & capi.SQLITE_OPEN_DELETEONCLOSE ||\n                (flags & PERSISTENT_FILE_TYPES) === 0)\n            ) {\n              warn(\n                `Removing file with unexpected flags ${flags.toString(16)}`,\n                this.#apBody,\n              );\n              this.setAssociatedPath(sah, '', 0);\n              return '';\n            }\n\n            const fileDigest = new Uint32Array(HEADER_DIGEST_SIZE / 4);\n            sah.read(fileDigest, { at: HEADER_OFFSET_DIGEST });\n            const compDigest = this.computeDigest(this.#apBody);\n            if (fileDigest.every((v, i) => v === compDigest[i])) {\n              const pathBytes = this.#apBody.findIndex((v) => 0 === v);\n              if (0 === pathBytes) {\n                sah.truncate(HEADER_OFFSET_DATA);\n              }\n              return pathBytes\n                ? textDecoder.decode(this.#apBody.subarray(0, pathBytes))\n                : '';\n            } else {\n              warn('Disassociating file with bad digest.');\n              this.setAssociatedPath(sah, '', 0);\n              return '';\n            }\n          }\n\n          setAssociatedPath(sah, path, flags) {\n            const enc = textEncoder.encodeInto(path, this.#apBody);\n            if (HEADER_MAX_PATH_SIZE <= enc.written + 1) {\n              toss('Path too long:', path);\n            }\n            this.#apBody.fill(0, enc.written, HEADER_MAX_PATH_SIZE);\n            this.#dvBody.setUint32(HEADER_OFFSET_FLAGS, flags);\n\n            const digest = this.computeDigest(this.#apBody);\n            sah.write(this.#apBody, { at: 0 });\n            sah.write(digest, { at: HEADER_OFFSET_DIGEST });\n            sah.flush();\n\n            if (path) {\n              this.#mapFilenameToSAH.set(path, sah);\n              this.#availableSAH.delete(sah);\n            } else {\n              sah.truncate(HEADER_OFFSET_DATA);\n              this.#availableSAH.add(sah);\n            }\n          }\n\n          computeDigest(byteArray) {\n            let h1 = 0xdeadbeef;\n            let h2 = 0x41c6ce57;\n            for (const v of byteArray) {\n              h1 = 31 * h1 + v * 307;\n              h2 = 31 * h2 + v * 307;\n            }\n            return new Uint32Array([h1 >>> 0, h2 >>> 0]);\n          }\n\n          async reset(clearFiles) {\n            await this.isReady;\n            let h = await navigator.storage.getDirectory();\n            let prev, prevName;\n            for (const d of this.vfsDir.split('/')) {\n              if (d) {\n                prev = h;\n                h = await h.getDirectoryHandle(d, { create: true });\n              }\n            }\n            this.#dhVfsRoot = h;\n            this.#dhVfsParent = prev;\n            this.#dhOpaque = await this.#dhVfsRoot.getDirectoryHandle(\n              OPAQUE_DIR_NAME,\n              { create: true },\n            );\n            this.releaseAccessHandles();\n            return this.acquireAccessHandles(clearFiles);\n          }\n\n          getPath(arg) {\n            if (wasm.isPtr(arg)) arg = wasm.cstrToJs(arg);\n            return (\n              arg instanceof URL ? arg : new URL(arg, 'file://localhost/')\n            ).pathname;\n          }\n\n          deletePath(path) {\n            const sah = this.#mapFilenameToSAH.get(path);\n            if (sah) {\n              this.#mapFilenameToSAH.delete(path);\n              this.setAssociatedPath(sah, '', 0);\n            }\n            return !!sah;\n          }\n\n          storeErr(e, code) {\n            if (e) {\n              e.sqlite3Rc = code || capi.SQLITE_IOERR;\n              this.error(e);\n            }\n            this.$error = e;\n            return code;\n          }\n\n          popErr() {\n            const rc = this.$error;\n            this.$error = undefined;\n            return rc;\n          }\n\n          nextAvailableSAH() {\n            const [rc] = this.#availableSAH.keys();\n            return rc;\n          }\n\n          getOFileForS3File(pFile) {\n            return this.#mapS3FileToOFile_.get(pFile);\n          }\n\n          mapS3FileToOFile(pFile, file) {\n            if (file) {\n              this.#mapS3FileToOFile_.set(pFile, file);\n              setPoolForPFile(pFile, this);\n            } else {\n              this.#mapS3FileToOFile_.delete(pFile);\n              setPoolForPFile(pFile, false);\n            }\n          }\n\n          hasFilename(name) {\n            return this.#mapFilenameToSAH.has(name);\n          }\n\n          getSAHForPath(path) {\n            return this.#mapFilenameToSAH.get(path);\n          }\n\n          async removeVfs() {\n            if (!this.#cVfs.pointer || !this.#dhOpaque) return false;\n            capi.sqlite3_vfs_unregister(this.#cVfs.pointer);\n            this.#cVfs.dispose();\n            try {\n              this.releaseAccessHandles();\n              await this.#dhVfsRoot.removeEntry(OPAQUE_DIR_NAME, {\n                recursive: true,\n              });\n              this.#dhOpaque = undefined;\n              await this.#dhVfsParent.removeEntry(this.#dhVfsRoot.name, {\n                recursive: true,\n              });\n              this.#dhVfsRoot = this.#dhVfsParent = undefined;\n            } catch (e) {\n              sqlite3.config.error(this.vfsName, 'removeVfs() failed:', e);\n            }\n            return true;\n          }\n\n          exportFile(name) {\n            const sah =\n              this.#mapFilenameToSAH.get(name) || toss('File not found:', name);\n            const n = sah.getSize() - HEADER_OFFSET_DATA;\n            const b = new Uint8Array(n > 0 ? n : 0);\n            if (n > 0) {\n              const nRead = sah.read(b, { at: HEADER_OFFSET_DATA });\n              if (nRead != n) {\n                toss(\n                  'Expected to read ' + n + ' bytes but read ' + nRead + '.',\n                );\n              }\n            }\n            return b;\n          }\n\n          async importDbChunked(name, callback) {\n            const sah =\n              this.#mapFilenameToSAH.get(name) ||\n              this.nextAvailableSAH() ||\n              toss('No available handles to import to.');\n            sah.truncate(0);\n            let nWrote = 0,\n              chunk,\n              checkedHeader = false,\n              err = false;\n            try {\n              while (undefined !== (chunk = await callback())) {\n                if (chunk instanceof ArrayBuffer) chunk = new Uint8Array(chunk);\n                if (0 === nWrote && chunk.byteLength >= 15) {\n                  util.affirmDbHeader(chunk);\n                  checkedHeader = true;\n                }\n                sah.write(chunk, { at: HEADER_OFFSET_DATA + nWrote });\n                nWrote += chunk.byteLength;\n              }\n              if (nWrote < 512 || 0 !== nWrote % 512) {\n                toss(\n                  'Input size',\n                  nWrote,\n                  'is not correct for an SQLite database.',\n                );\n              }\n              if (!checkedHeader) {\n                const header = new Uint8Array(20);\n                sah.read(header, { at: 0 });\n                util.affirmDbHeader(header);\n              }\n              sah.write(new Uint8Array([1, 1]), {\n                at: HEADER_OFFSET_DATA + 18,\n              });\n            } catch (e) {\n              this.setAssociatedPath(sah, '', 0);\n              throw e;\n            }\n            this.setAssociatedPath(sah, name, capi.SQLITE_OPEN_MAIN_DB);\n            return nWrote;\n          }\n\n          importDb(name, bytes) {\n            if (bytes instanceof ArrayBuffer) bytes = new Uint8Array(bytes);\n            else if (bytes instanceof Function)\n              return this.importDbChunked(name, bytes);\n            const sah =\n              this.#mapFilenameToSAH.get(name) ||\n              this.nextAvailableSAH() ||\n              toss('No available handles to import to.');\n            const n = bytes.byteLength;\n            if (n < 512 || n % 512 != 0) {\n              toss('Byte array size is invalid for an SQLite db.');\n            }\n            const header = 'SQLite format 3';\n            for (let i = 0; i < header.length; ++i) {\n              if (header.charCodeAt(i) !== bytes[i]) {\n                toss('Input does not contain an SQLite database header.');\n              }\n            }\n            const nWrote = sah.write(bytes, { at: HEADER_OFFSET_DATA });\n            if (nWrote != n) {\n              this.setAssociatedPath(sah, '', 0);\n              toss(\n                'Expected to write ' + n + ' bytes but wrote ' + nWrote + '.',\n              );\n            } else {\n              sah.write(new Uint8Array([1, 1]), {\n                at: HEADER_OFFSET_DATA + 18,\n              });\n              this.setAssociatedPath(sah, name, capi.SQLITE_OPEN_MAIN_DB);\n            }\n            return nWrote;\n          }\n        }\n\n        class OpfsSAHPoolUtil {\n          #p;\n\n          constructor(sahPool) {\n            this.#p = sahPool;\n            this.vfsName = sahPool.vfsName;\n          }\n\n          async addCapacity(n) {\n            return this.#p.addCapacity(n);\n          }\n\n          async reduceCapacity(n) {\n            return this.#p.reduceCapacity(n);\n          }\n\n          getCapacity() {\n            return this.#p.getCapacity(this.#p);\n          }\n\n          getFileCount() {\n            return this.#p.getFileCount();\n          }\n          getFileNames() {\n            return this.#p.getFileNames();\n          }\n\n          async reserveMinimumCapacity(min) {\n            const c = this.#p.getCapacity();\n            return c < min ? this.#p.addCapacity(min - c) : c;\n          }\n\n          exportFile(name) {\n            return this.#p.exportFile(name);\n          }\n\n          importDb(name, bytes) {\n            return this.#p.importDb(name, bytes);\n          }\n\n          async wipeFiles() {\n            return this.#p.reset(true);\n          }\n\n          unlink(filename) {\n            return this.#p.deletePath(filename);\n          }\n\n          async removeVfs() {\n            return this.#p.removeVfs();\n          }\n        }\n\n        const apiVersionCheck = async () => {\n          const dh = await navigator.storage.getDirectory();\n          const fn = '.opfs-sahpool-sync-check-' + getRandomName();\n          const fh = await dh.getFileHandle(fn, { create: true });\n          const ah = await fh.createSyncAccessHandle();\n          const close = ah.close();\n          await close;\n          await dh.removeEntry(fn);\n          if (close?.then) {\n            toss(\n              'The local OPFS API is too old for opfs-sahpool:',\n              'it has an async FileSystemSyncAccessHandle.close() method.',\n            );\n          }\n          return true;\n        };\n\n        let instanceCounter = 0;\n\n        sqlite3.installOpfsSAHPoolVfs = async function (\n          options = Object.create(null),\n        ) {\n          const vfsName = options.name || optionDefaults.name;\n          if (0 && 2 === ++instanceCounter) {\n            throw new Error('Just testing rejection.');\n          }\n          if (initPromises[vfsName]) {\n            return initPromises[vfsName];\n          }\n          if (\n            !globalThis.FileSystemHandle ||\n            !globalThis.FileSystemDirectoryHandle ||\n            !globalThis.FileSystemFileHandle ||\n            !globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle ||\n            !navigator?.storage?.getDirectory\n          ) {\n            return (initPromises[vfsName] = Promise.reject(\n              new Error('Missing required OPFS APIs.'),\n            ));\n          }\n\n          return (initPromises[vfsName] = apiVersionCheck()\n            .then(async function () {\n              if (options.$testThrowInInit) {\n                throw options.$testThrowInInit;\n              }\n              const thePool = new OpfsSAHPool(options);\n              return thePool.isReady\n                .then(async () => {\n                  const poolUtil = new OpfsSAHPoolUtil(thePool);\n                  if (sqlite3.oo1) {\n                    const oo1 = sqlite3.oo1;\n                    const theVfs = thePool.getVfs();\n                    const OpfsSAHPoolDb = function (...args) {\n                      const opt = oo1.DB.dbCtorHelper.normalizeArgs(...args);\n                      opt.vfs = theVfs.$zName;\n                      oo1.DB.dbCtorHelper.call(this, opt);\n                    };\n                    OpfsSAHPoolDb.prototype = Object.create(oo1.DB.prototype);\n\n                    poolUtil.OpfsSAHPoolDb = OpfsSAHPoolDb;\n                    oo1.DB.dbCtorHelper.setVfsPostOpenSql(\n                      theVfs.pointer,\n                      function (oo1Db, sqlite3) {\n                        sqlite3.capi.sqlite3_exec(\n                          oo1Db,\n                          [\n                            'pragma journal_mode=DELETE;',\n                            'pragma cache_size=-16384;',\n                          ],\n                          0,\n                          0,\n                          0,\n                        );\n                      },\n                    );\n                  }\n                  thePool.log('VFS initialized.');\n                  return poolUtil;\n                })\n                .catch(async (e) => {\n                  await thePool.removeVfs().catch(() => {});\n                  return e;\n                });\n            })\n            .catch((err) => {\n              return (initPromises[vfsName] = Promise.reject(err));\n            }));\n        };\n      });\n\n      ('use strict');\n      if ('undefined' !== typeof Module) {\n        const SABC = Object.assign(\n          Object.create(null),\n          {\n            exports:\n              'undefined' === typeof wasmExports ? Module['asm'] : wasmExports,\n            memory: Module.wasmMemory,\n          },\n          globalThis.sqlite3ApiConfig || {},\n        );\n\n        globalThis.sqlite3ApiConfig = SABC;\n        let sqlite3;\n        try {\n          sqlite3 = globalThis.sqlite3ApiBootstrap();\n        } catch (e) {\n          console.error('sqlite3ApiBootstrap() error:', e);\n          throw e;\n        } finally {\n          delete globalThis.sqlite3ApiBootstrap;\n          delete globalThis.sqlite3ApiConfig;\n        }\n\n        Module.sqlite3 = sqlite3;\n      } else {\n        console.warn(\n          'This is not running in an Emscripten module context, so',\n          'globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack',\n          'of config info for the WASM environment.',\n          'It must be called manually.',\n        );\n      }\n    });\n\n    return sqlite3InitModule.ready;\n  };\n})();\n\nconst toExportForESM = (function () {\n  const originalInit = sqlite3InitModule;\n  if (!originalInit) {\n    throw new Error(\n      'Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.',\n    );\n  }\n\n  const initModuleState = (globalThis.sqlite3InitModuleState = Object.assign(\n    Object.create(null),\n    {\n      moduleScript: globalThis?.document?.currentScript,\n      isWorker: 'undefined' !== typeof WorkerGlobalScope,\n      location: globalThis.location,\n      urlParams: globalThis?.location?.href\n        ? new URL(globalThis.location.href).searchParams\n        : new URLSearchParams(),\n    },\n  ));\n  initModuleState.debugModule = initModuleState.urlParams.has(\n    'sqlite3.debugModule',\n  )\n    ? (...args) => console.warn('sqlite3.debugModule:', ...args)\n    : () => {};\n\n  if (initModuleState.urlParams.has('sqlite3.dir')) {\n    initModuleState.sqlite3Dir =\n      initModuleState.urlParams.get('sqlite3.dir') + '/';\n  } else if (initModuleState.moduleScript) {\n    const li = initModuleState.moduleScript.src.split('/');\n    li.pop();\n    initModuleState.sqlite3Dir = li.join('/') + '/';\n  }\n\n  globalThis.sqlite3InitModule = function ff(...args) {\n    return originalInit(...args)\n      .then((EmscriptenModule) => {\n        const s = EmscriptenModule.sqlite3;\n        s.scriptInfo = initModuleState;\n\n        if (ff.__isUnderTest) s.__isUnderTest = true;\n        const f = s.asyncPostInit;\n        delete s.asyncPostInit;\n        return f();\n      })\n      .catch((e) => {\n        console.error('Exception loading sqlite3 module:', e);\n        throw e;\n      });\n  };\n  globalThis.sqlite3InitModule.ready = originalInit.ready;\n\n  if (globalThis.sqlite3InitModuleState.moduleScript) {\n    const sim = globalThis.sqlite3InitModuleState;\n    let src = sim.moduleScript.src.split('/');\n    src.pop();\n    sim.scriptDir = src.join('/') + '/';\n  }\n  initModuleState.debugModule('sqlite3InitModuleState =', initModuleState);\n  if (0) {\n    console.warn('Replaced sqlite3InitModule()');\n    console.warn('globalThis.location.href =', globalThis.location.href);\n    if ('undefined' !== typeof document) {\n      console.warn(\n        'document.currentScript.src =',\n        document?.currentScript?.src,\n      );\n    }\n  }\n  return globalThis.sqlite3InitModule;\n})();\nsqlite3InitModule = toExportForESM;\nexport default sqlite3InitModule;\n","/*\n  2022-08-24\n\n  The author disclaims copyright to this source code.  In place of a\n  legal notice, here is a blessing:\n\n  *   May you do good and not evil.\n  *   May you find forgiveness for yourself and forgive others.\n  *   May you share freely, never taking more than you give.\n\n  ***********************************************************************\n\n  This file implements a Promise-based proxy for the sqlite3 Worker\n  API #1. It is intended to be included either from the main thread or\n  a Worker, but only if (A) the environment supports nested Workers\n  and (B) it's _not_ a Worker which loads the sqlite3 WASM/JS\n  module. This file's features will load that module and provide a\n  slightly simpler client-side interface than the slightly-lower-level\n  Worker API does.\n\n  This script necessarily exposes one global symbol, but clients may\n  freely `delete` that symbol after calling it.\n*/\n'use strict';\n\nglobalThis.sqlite3Worker1Promiser = function callee(\n  config = callee.defaultConfig,\n) {\n  if (1 === arguments.length && 'function' === typeof arguments[0]) {\n    const f = config;\n    config = Object.assign(Object.create(null), callee.defaultConfig);\n    config.onready = f;\n  } else {\n    config = Object.assign(Object.create(null), callee.defaultConfig, config);\n  }\n  const handlerMap = Object.create(null);\n  const noop = function () {};\n  const err = config.onerror || noop;\n  const debug = config.debug || noop;\n  const idTypeMap = config.generateMessageId ? undefined : Object.create(null);\n  const genMsgId =\n    config.generateMessageId ||\n    function (msg) {\n      return (\n        msg.type + '#' + (idTypeMap[msg.type] = (idTypeMap[msg.type] || 0) + 1)\n      );\n    };\n  const toss = (...args) => {\n    throw new Error(args.join(' '));\n  };\n  if (!config.worker) config.worker = callee.defaultConfig.worker;\n  if ('function' === typeof config.worker) config.worker = config.worker();\n  let dbId;\n  config.worker.onmessage = function (ev) {\n    ev = ev.data;\n    debug('worker1.onmessage', ev);\n    let msgHandler = handlerMap[ev.messageId];\n    if (!msgHandler) {\n      if (ev && 'sqlite3-api' === ev.type && 'worker1-ready' === ev.result) {\n        if (config.onready) config.onready();\n        return;\n      }\n      msgHandler = handlerMap[ev.type];\n      if (msgHandler && msgHandler.onrow) {\n        msgHandler.onrow(ev);\n        return;\n      }\n      if (config.onunhandled) config.onunhandled(arguments[0]);\n      else err('sqlite3Worker1Promiser() unhandled worker message:', ev);\n      return;\n    }\n    delete handlerMap[ev.messageId];\n    switch (ev.type) {\n      case 'error':\n        msgHandler.reject(ev);\n        return;\n      case 'open':\n        if (!dbId) dbId = ev.dbId;\n        break;\n      case 'close':\n        if (ev.dbId === dbId) dbId = undefined;\n        break;\n      default:\n        break;\n    }\n    try {\n      msgHandler.resolve(ev);\n    } catch (e) {\n      msgHandler.reject(e);\n    }\n  };\n  return function () {\n    let msg;\n    if (1 === arguments.length) {\n      msg = arguments[0];\n    } else if (2 === arguments.length) {\n      msg = Object.create(null);\n      msg.type = arguments[0];\n      msg.args = arguments[1];\n      msg.dbId = msg.args.dbId;\n    } else {\n      toss('Invalid arugments for sqlite3Worker1Promiser()-created factory.');\n    }\n    if (!msg.dbId && msg.type !== 'open') msg.dbId = dbId;\n    msg.messageId = genMsgId(msg);\n    msg.departureTime = performance.now();\n    const proxy = Object.create(null);\n    proxy.message = msg;\n    let rowCallbackId;\n    if ('exec' === msg.type && msg.args) {\n      if ('function' === typeof msg.args.callback) {\n        rowCallbackId = msg.messageId + ':row';\n        proxy.onrow = msg.args.callback;\n        msg.args.callback = rowCallbackId;\n        handlerMap[rowCallbackId] = proxy;\n      } else if ('string' === typeof msg.args.callback) {\n        toss(\n          'exec callback may not be a string when using the Promise interface.',\n        );\n      }\n    }\n\n    let p = new Promise(function (resolve, reject) {\n      proxy.resolve = resolve;\n      proxy.reject = reject;\n      handlerMap[msg.messageId] = proxy;\n      debug(\n        'Posting',\n        msg.type,\n        'message to Worker dbId=' + (dbId || 'default') + ':',\n        msg,\n      );\n      config.worker.postMessage(msg);\n    });\n    if (rowCallbackId) p = p.finally(() => delete handlerMap[rowCallbackId]);\n    return p;\n  };\n};\nglobalThis.sqlite3Worker1Promiser.defaultConfig = {\n  worker: function () {\n    return new Worker(\n      new URL('sqlite3-worker1-bundler-friendly.mjs', import.meta.url),\n      {\n        type: 'module',\n      },\n    );\n  },\n  onerror: (...args) => console.error('worker1 promiser error', ...args),\n};\n","export const skillEvaluationMap = {\n  \"無し\": {\n    \"0\": 0,\n    \"1\": 0,\n    \"2\": 0,\n    \"3\": 0,\n    \"4\": 0,\n    \"5\": 0,\n    \"6\": 0,\n    \"7\": 0\n  },\n  \"火耐性\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"水耐性\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"雷耐性\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"氷耐性\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"龍耐性\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"毒耐性\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"麻痺耐性\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"睡眠耐性\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"爆破やられ耐性\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"植生学\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"地質学\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"飛び込み\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"陽動\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"泥雪耐性\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"満足感\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"腹減り耐性\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"剥ぎ取り鉄人\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"防御\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 4,\n    \"6\": 5,\n    \"7\": 6\n  },\n  \"火属性攻撃強化\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"水属性攻撃強化\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"雷属性攻撃強化\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"氷属性攻撃強化\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"龍属性攻撃強化\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"ボマー\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"滑走強化\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"毒属性強化\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"スタミナ奪取\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"笛吹き名人\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"回復速度\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"砥石使用高速化\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"風圧耐性\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"ひるみ軽減\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"ブレ抑制\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"気絶耐性\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"装填速度\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"反動軽減\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"不屈\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"乗り名人\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"体術\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"体力回復量UP\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"アイテム使用強化\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 4,\n    \"4\": 6,\n    \"5\": 8,\n    \"6\": 8,\n    \"7\": 10\n  },\n  \"翔蟲使い\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"壁面移動\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 4,\n    \"4\": 6,\n    \"5\": 8,\n    \"6\": 8,\n    \"7\": 10\n  },\n  \"精霊の加護\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"早食い\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"属性やられ耐性\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"破壊王\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"広域化\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 3,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 6,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"KO術\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"納刀術\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"回避性能\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"回避距離UP\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"抜刀術【力】\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"泡沫の舞\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"逆襲\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"耐震\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"鈍器使い\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"高速変形\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"見切り\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"攻撃\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"渾身\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"強化持続\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"スタミナ急速回復\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"ガード性能\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 3,\n    \"3\": 5,\n    \"4\": 6,\n    \"5\": 8,\n    \"6\": 9,\n    \"7\": 11\n  },\n  \"ガード強化\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"砲弾装填\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"特殊射撃強化\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"火事場力\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"心眼\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"集中\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"ランナー\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"砲術\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"会心撃【属性】\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"弾導強化\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"超会心\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"弱点特効\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"挑戦者\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"フルチャージ\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"逆恨み\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"死中に活\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"力の解放\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"麻痺属性強化\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"睡眠属性強化\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"爆破属性強化\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"剛刃研磨\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"業物\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"弾丸節約\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"達人芸\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"耳栓\": {\n    \"0\": 0,\n    \"1\": 3,\n    \"2\": 4,\n    \"3\": 7,\n    \"4\": 8,\n    \"5\": 11,\n    \"6\": 12,\n    \"7\": 15\n  },\n  \"抜刀術【技】\": {\n    \"0\": 0,\n    \"1\": 3,\n    \"2\": 4,\n    \"3\": 7,\n    \"4\": 8,\n    \"5\": 11,\n    \"6\": 12,\n    \"7\": 15\n  },\n  \"キノコ大好き\": {\n    \"0\": 0,\n    \"1\": 3,\n    \"2\": 4,\n    \"3\": 7,\n    \"4\": 8,\n    \"5\": 11,\n    \"6\": 12,\n    \"7\": 15\n  },\n  \"攻めの守勢\": {\n    \"0\": 0,\n    \"1\": 3,\n    \"2\": 6,\n    \"3\": 9,\n    \"4\": 12,\n    \"5\": 15,\n    \"6\": 18,\n    \"7\": 21\n  },\n  \"装填拡張\": {\n    \"0\": 0,\n    \"1\": 3,\n    \"2\": 6,\n    \"3\": 9,\n    \"4\": 12,\n    \"5\": 15,\n    \"6\": 18,\n    \"7\": 21\n  },\n  \"通常弾・連射矢強化\": {\n    \"0\": 0,\n    \"1\": 3,\n    \"2\": 4,\n    \"3\": 7,\n    \"4\": 8,\n    \"5\": 11,\n    \"6\": 12,\n    \"7\": 15\n  },\n  \"貫通弾・貫通矢強化\": {\n    \"0\": 0,\n    \"1\": 3,\n    \"2\": 4,\n    \"3\": 7,\n    \"4\": 8,\n    \"5\": 11,\n    \"6\": 12,\n    \"7\": 15\n  },\n  \"散弾・拡散矢強化\": {\n    \"0\": 0,\n    \"1\": 3,\n    \"2\": 4,\n    \"3\": 7,\n    \"4\": 8,\n    \"5\": 11,\n    \"6\": 12,\n    \"7\": 15\n  },\n  \"速射強化\": {\n    \"0\": 0,\n    \"1\": 3,\n    \"2\": 6,\n    \"3\": 9,\n    \"4\": 12,\n    \"5\": 15,\n    \"6\": 18,\n    \"7\": 21\n  },\n  \"ジャンプ鉄人\": {\n    \"0\": 0,\n    \"1\": 3,\n    \"2\": 6,\n    \"3\": 9,\n    \"4\": 12,\n    \"5\": 15,\n    \"6\": 18,\n    \"7\": 21\n  },\n  \"鬼火纏\": {\n    \"0\": 0,\n    \"1\": 3,\n    \"2\": 4,\n    \"3\": 7,\n    \"4\": 8,\n    \"5\": 11,\n    \"6\": 12,\n    \"7\": 15\n  },\n  \"幸運\": {\n    \"0\": 0,\n    \"1\": 3,\n    \"2\": 4,\n    \"3\": 7,\n    \"4\": 8,\n    \"5\": 11,\n    \"6\": 12,\n    \"7\": 15\n  },\n  \"匠\": {\n    \"0\": 0,\n    \"1\": 3,\n    \"2\": 4,\n    \"3\": 7,\n    \"4\": 8,\n    \"5\": 11,\n    \"6\": 12,\n    \"7\": 15\n  },\n  \"壁面移動【翔】\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"刃鱗磨き\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"合気\": {\n    \"0\": 0,\n    \"1\": 3,\n    \"2\": 6,\n    \"3\": 9,\n    \"4\": 12,\n    \"5\": 15,\n    \"6\": 18,\n    \"7\": 21\n  },\n  \"疾之息吹\": {\n    \"0\": 0,\n    \"1\": 3,\n    \"2\": 6,\n    \"3\": 9,\n    \"4\": 12,\n    \"5\": 15,\n    \"6\": 18,\n    \"7\": 21\n  },\n  \"弓溜め段階解放\": {\n    \"0\": 0,\n    \"1\": 4,\n    \"2\": 8,\n    \"3\": 12,\n    \"4\": 16,\n    \"5\": 20,\n    \"6\": 24,\n    \"7\": 28\n  },\n  \"研磨術【鋭】\": {\n    \"0\": 0,\n    \"1\": 3,\n    \"2\": 6,\n    \"3\": 9,\n    \"4\": 12,\n    \"5\": 15,\n    \"6\": 18,\n    \"7\": 21\n  },\n  \"チューンアップ\": {\n    \"0\": 0,\n    \"1\": 3,\n    \"2\": 6,\n    \"3\": 9,\n    \"4\": 12,\n    \"5\": 15,\n    \"6\": 18,\n    \"7\": 21\n  },\n  \"チャージマスター\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"災禍転福\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"供応\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"顕如盤石\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  },\n  \"攻勢\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"連撃\": {\n    \"0\": 0,\n    \"1\": 2,\n    \"2\": 4,\n    \"3\": 6,\n    \"4\": 8,\n    \"5\": 10,\n    \"6\": 12,\n    \"7\": 14\n  },\n  \"霞皮の恩恵\": {\n    \"0\": 0,\n    \"1\": 1,\n    \"2\": 2,\n    \"3\": 3,\n    \"4\": 4,\n    \"5\": 5,\n    \"6\": 6,\n    \"7\": 7\n  }\n}\n","import sqlite3InitModule from '@sqlite.org/sqlite-wasm';\nimport Dexie from \"dexie\";\n// import {importDB, exportDB}            from \"dexie-export-import\"\nimport cv from 'opencv-ts';\nimport { skillEvaluationMap } from 'assets/mhrise/mhrise-charm-decorations.js';\nexport default class MHRiseCharmManager {\n    constructor(options = {}) {\n        this.dbName = 'mhrise-charm-manager';\n        this.tableName = 'charms';\n        this.db = null; // SQLite WASM\n        this.indexeddb = null; // IndexedDB\n        this.charms = null;\n        this.workers = {};\n        if (options.isDemoMode) {\n            this.tableName = 'demoCharms';\n        }\n        this._init();\n    }\n    sql(query) {\n        const params = !query.startsWith('select') ? {} : {\n            rowMode: 'object',\n            returnValue: 'resultRows',\n        };\n        console.log({ query, params });\n        return this.db.exec(query, params);\n    }\n    // TODO: use placeholder\n    async _init() {\n        // this.db = window.openDatabase(this.dbName, '', 'MHRise charm manager', 5000)\n        const sqlite3 = await sqlite3InitModule();\n        // this.db = new sqlite3.oo1.DB(`${this.dbName}.sqlite3`, 'ct')\n        // this.db = new sqlite3.oo1.DB('file:local?vfs=kvvfs', 'ct')\n        this.db = new sqlite3.oo1.JsStorageDb('local');\n        console.log('DB open: ', this.db.isOpen());\n        await this._createTable();\n        // this.sql(`alter table ${this.tableName} add column imagename varchar(128)`).catch(() => {}) // for old schema\n        this.indexeddb = new Dexie(this.tableName);\n        this.indexeddb.version(1).stores({ images: 'name' });\n        this.updateCharmArray();\n    }\n    reset() {\n        this.sql(`drop table if exists ${this.tableName}`);\n        this._createTable();\n    }\n    registerCharm(charm, screenshot) {\n        this.saveScreenshot(screenshot, charm.imageName);\n        this.registerCharms([charm]); // TODO: impl\n    }\n    registerCharms(charms) {\n        const values = charms\n            .map((c) => {\n            if (!Array.isArray(c.slots)) {\n                console.log('!!!!!! slots is not array !!!!!!');\n            }\n            const slots = c.slots.join(', ');\n            const image = c.imageName ? `'${c.imageName}'` : 'NULL';\n            return '(' + [\n                `'${c.skills[0]}'`,\n                c.skillLevels[0],\n                `'${c.skills[1]}'`,\n                c.skillLevels[1],\n                slots,\n                image,\n            ].join(', ') + ')';\n        })\n            .join(',\\n');\n        console.log(values);\n        this.sql(`\n      insert or ignore into ${this.tableName}\n      (skill1, skill1Level, skill2, skill2Level, slot1, slot2, slot3, imagename)\n      values\n      ${values}\n    `);\n        (() => {\n            clearTimeout(this._timer);\n            const self = this;\n            this._timer = setTimeout(() => self.updateCharmArray(), 1000);\n        })();\n    }\n    saveScreenshot(screenshot, imageName) {\n        this.indexeddb.images.put({\n            name: imageName,\n            rows: screenshot.rows,\n            cols: screenshot.cols,\n            type: screenshot.type(),\n            data: screenshot.data.slice(0),\n        });\n    }\n    searchCharms(query) {\n        const result = this.sql(query);\n        // console.log({result})\n        return result;\n    }\n    _createTable() {\n        this.sql(`create table if not exists ${this.tableName}(\n               skill1      varchar(20),\n               skill1Level int,\n               skill2      varchar(20),\n               skill2Level int,\n               slot1       int,\n               slot2       int,\n               slot3       int,\n               imagename   varchar(128),\n               unique (skill1, skill1Level, skill2, skill2Level, slot1, slot2, slot3))`);\n        this.sql(`create index if not exists '${this.tableName}.skill1' on ${this.tableName}(skill1, skill1Level)`);\n        this.sql(`create index if not exists '${this.tableName}.skill2' on ${this.tableName}(skill2, skill2Level)`);\n        this.sql(`create index if not exists '${this.tableName}.slots'  on ${this.tableName}(slot1, slot2, slot3)`);\n    }\n    async getScreenshot(name) {\n        const result = await this.indexeddb.images.get(name);\n        const img = cv.matFromArray(result.rows, result.cols, result.type, result.data);\n        return img;\n    }\n    updateCharmArray() {\n        this.charms = this.searchCharms(`select rowid,* from ${this.tableName}`)\n            .map(row => {\n            if (skillEvaluationMap[row.skill1] != null && skillEvaluationMap[row.skill2] != null) {\n                row.evaluation = skillEvaluationMap[row.skill1][row.skill1Level]\n                    + skillEvaluationMap[row.skill2][row.skill2Level]\n                    + row.slot1\n                    + row.slot2\n                    + row.slot3;\n            }\n            return row;\n        });\n        this.searchSubstitutableCharms();\n    }\n    async searchSubstitutableCharms() {\n        // while ( typeof Module.getSubstitutesAll !== 'function' ) {\n        //   await new Promise(r => setTimeout(r, 100))\n        // }\n        // const res = Module.getSubstitutesAll( JSON.stringify(this.charms) ) // use wasm module\n        // const substitutes = JSON.parse(res)\n        // for (const i in this.charms) {\n        //   const [baseId, upperIds] = substitutes[0] || [Number.MAX_SAFE_INTEGER, []]\n        //   if ( this.charms[i].rowid > baseId ) {\n        //     console.log('internal error')\n        //   }\n        //   else if ( this.charms[i].rowid < baseId ) {\n        //     this.charms[i].substitutableCharms = []\n        //   }\n        //   else {\n        //     this.charms[i].substitutableCharms = upperIds.map((u: number) => this.charms[u - 1])\n        //     substitutes.shift()\n        //   }\n        // }\n        const workerName = 'substitutable-charm-searcher';\n        if (this.workers[workerName] == null) {\n            this.workers[workerName] = new Worker('mhrise-charm-substitution-search.worker.js');\n        }\n        this.workers[workerName].addEventListener('message', (e) => {\n            console.log(e);\n            const substitutes = JSON.parse(e.data.result);\n            this._applySubstitutableCharmsUpdate(substitutes);\n        });\n        this.workers[workerName].postMessage({ charmsJson: JSON.stringify(this.charms) });\n        // for (const [baseId, upperIds] of substitutes) {\n        //   charms[baseId - 1].substitutableCharms = upperIds.map(i => charms[i - 1])\n        // }\n    }\n    _applySubstitutableCharmsUpdate(substitutes) {\n        var _a;\n        for (const charm of this.charms) {\n            const [baseId, upperIds] = (_a = substitutes[0]) !== null && _a !== void 0 ? _a : [Number.MAX_SAFE_INTEGER, []];\n            if (charm.rowid > baseId) {\n                // baseId はソートされているので小さくなることはない\n                console.log('internal error');\n            }\n            else if (charm.rowid < baseId) {\n                // ID が出現しない護石は互換護石が見付からなかったもの. 明示的に空配列を入れておく\n                charm.substitutableCharms = [];\n            }\n            else {\n                charm.substitutableCharms = upperIds.map((upperId) => this.charms.find(i => i.rowid === upperId));\n                substitutes.shift();\n            }\n        }\n        this.charms = [...this.charms];\n    }\n    // async exportIdx() {\n    //   const blob = await exportDB(this.indexeddb, {\n    //     filter: (table) => table === 'images'\n    //   })\n    // }\n    // async importIdx() {\n    // }\n    // TODO: charm class 作ってコンストラクタでやる\n    _row2obj(row) {\n        return {\n            skills: [row.skill1, row.skill2],\n            skillLevels: [row.skill1Level, row.skill2Level],\n            slots: [row.slot1, row.slot2, row.slot3],\n        };\n    }\n    _isSameCharm(a, b) {\n        return JSON.stringify(a) === JSON.stringify(b);\n    }\n}\n","<script lang=\"ts\">\n  import Nav                from './components/nav/Nav.svelte'\n  import Hamburger          from './components/parts/Hamburger.svelte'\n  import MHRiseCharmScanner from 'assets/mhrise/mhrise-charm-scanner'\n  import MHRiseCharmManager from 'assets/mhrise/mhrise-charm-manager'\n  import {charmManager}     from 'stores/stores.js'\n  import {isAppReady}       from 'stores/flags'\n\n  const TITLE   = 'MHRise Charm Scanner'\n  const VERSION = '0.9.1'\n\n  // let isDemoMode       = false\n  let isNavigationOpen = true\n\n  window.addEventListener('load', async () => {\n    $charmManager = new MHRiseCharmManager()\n    await MHRiseCharmScanner.init()\n\n    $isAppReady = true\n  })\n\n/*\n  function onChangeDemoMode() {\n    if ( isDemoMode ) {\n      $charmManager = new MHRiseCharmManager({isDemoMode: true})\n      console.log(charmScanner.charmTableName)\n    }\n    else {\n      $charmManager = new MHRiseCharmManager()\n      console.log(charmScanner.charmTableName)\n    }\n  }\n*/\n</script>\n\n<main>\n  <header>\n    <Hamburger bind:isOpen={isNavigationOpen}/>\n\t  <h1>{TITLE}</h1>\n\n    <!-- <div style=\"position: absolute; right: 0; width: 7rem; margin-top: 0.8rem; display: flex;\"> -->\n    <!--   <span style=\"color: white\">DEMO</span> -->\n    <!--   <div class=\"material-switch\"> -->\n    <!--     <input id=\"switch-demo\" type=\"checkbox\" bind:checked={isDemoMode} on:change={onChangeDemoMode}> -->\n    <!--     <label for=\"switch-demo\"></label> -->\n    <!--   </div> -->\n    <!-- </div> -->\n  </header>\n  <div id=\"nav-wrapper\">\n    <Nav {isNavigationOpen} />\n  </div>\n  <div id=\"version\">v{VERSION}</div>\n</main>\n\n\n<style>\n/*\n  .material-switch > input[type=\"checkbox\"] {\n      display: none;\n  }\n\n  .material-switch > label {\n      cursor: pointer;\n      height: 0px;\n      position: relative;\n      width: 40px;\n      top: 12px;\n      left: 10px;\n  }\n\n  .material-switch > label::before {\n      background: rgb(10, 10, 100);\n      box-shadow: inset 0px 0px 10px rgba(0, 0, 0, 0.5);\n      border-radius: 8px;\n      content: '';\n      height: 16px;\n      margin-top: -8px;\n      position:absolute;\n      opacity: 0.3;\n      transition: all 0.4s ease-in-out;\n      width: 40px;\n  }\n  .material-switch > label::after {\n      background: rgb(255, 255, 255);\n      border-radius: 16px;\n      box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.3);\n      content: '';\n      height: 24px;\n      left: -4px;\n      margin-top: -8px;\n      position: absolute;\n      top: -4px;\n      transition: all 0.3s ease-in-out;\n      width: 24px;\n  }\n  .material-switch > input[type=\"checkbox\"]:checked + label::before {\n      background: orange;\n      opacity: 0.5;\n  }\n  .material-switch > input[type=\"checkbox\"]:checked + label::after {\n      background: orange;\n      left: 20px;\n  }\n*/\n\tmain {\n    width:   100%;\n    height:  100%;\n\n    margin:  0;\n    padding: 0;\n\n\t\ttext-align: left;\n\t}\n\n  header {\n    display: flex;\n    background: #222;\n\n    height: 3rem;\n  }\n\n\theader h1 {\n    margin:  0;\n    padding: 0;\n\t\t/* color: #ff3e00; */\n    color: white;\n\n\t\tfont-weight: 400;\n\t\tfont-size: 1.5em;\n    line-height: 3rem;\n    height: 3rem;\n\n    border: none;\n\t}\n\n  #nav-wrapper {\n    height: calc(100% - 3rem);\n  }\n\n  #version {\n    position:      fixed;\n    bottom:        0;\n    right:         0;\n    padding-right: 0.5rem;\n\n    font-size: small;\n  }\n\n\t@media (min-width: 640px) {\n\t\tmain {\n\t\t\tmax-width: none;\n\t\t}\n\t}\n</style>\n","// import * as Sentry from \"@sentry/browser\";\n// import {BrowserTracing} from \"@sentry/tracing\";\n// Sentry.init({\n//   dsn: \"https://ae96a41629e040f59f30ad89eb99d4f2@o1178530.ingest.sentry.io/6290379\",\n//   integrations: [new BrowserTracing()],\n//   tracesSampleRate: 1.0, // 1.0 -> 100%\n// })\nimport App from './App.svelte';\nconst app = new App({\n    target: document.body,\n    props: {\n    // name: 'world'\n    }\n});\nexport default app;\n"],"names":["noop","identity","x","assign","tar","src","k","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","subscribe","store","callbacks","unsub","unsubscribe","component_subscribe","component","callback","$$","on_destroy","push","create_slot","definition","ctx","$$scope","slot_ctx","get_slot_context","slice","update_slot","slot","slot_definition","dirty","get_slot_changes_fn","get_slot_context_fn","slot_changes","lets","undefined","merged","len","Math","max","length","i","get_slot_changes","slot_context","p","exclude_internal_props","props","result","null_to_empty","value","set_store_value","ret","set","action_destroyer","action_result","destroy","is_client","window","now","performance","Date","raf","cb","requestAnimationFrame","tasks","Set","run_tasks","task","c","delete","f","size","loop","promise","Promise","fulfill","add","[object Object]","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","d","element","name","document","createElement","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","prevent_default","preventDefault","call","this","attr","attribute","removeAttribute","getAttribute","setAttribute","set_attributes","attributes","descriptors","getOwnPropertyDescriptors","__proto__","key","style","cssText","set_data","wholeText","set_input_value","input","set_style","important","setProperty","select_option","select","option","__value","selected","select_value","selected_option","querySelector","toggle_class","toggle","classList","custom_event","type","detail","e","createEvent","initCustomEvent","HtmlTag","n","html","nodeName","t","h","innerHTML","Array","from","childNodes","active_docs","current_component","active","create_rule","duration","delay","ease","uid","step","keyframes","rule","str","hash","charCodeAt","doc","ownerDocument","stylesheet","__svelte_stylesheet","head","sheet","current_rules","__svelte_rules","insertRule","cssRules","animation","delete_rule","previous","split","next","filter","anim","indexOf","deleted","join","deleteRule","clear","set_current_component","get_current_component","Error","onMount","on_mount","createEventDispatcher","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","resolve","update_scheduled","add_render_callback","add_flush_callback","flushing","seen_callbacks","flush","update","pop","has","fragment","before_update","after_update","dispatch","direction","kind","dispatchEvent","outroing","outros","group_outros","r","check_outros","transition_in","block","local","transition_out","o","null_transition","create_bidirectional_transition","params","intro","config","running_program","pending_program","animation_name","clear_animation","init","program","abs","start","end","group","go","easing","tick","css","then","get_spread_update","levels","updates","to_null_out","accounted_for","get_spread_object","spread_props","bind","index","bound","create_component","mount_component","customElement","m","new_on_destroy","map","destroy_component","make_dirty","fill","instance","create_fragment","not_equal","parent_component","on_disconnect","context","Map","skip_bound","ready","rest","hydrate","nodes","children","l","SvelteComponent","$destroy","splice","$$props","obj","$$set","keys","thumbnailClasses","thumbnailStyle","protect","cubicOut","fade","linear","getComputedStyle","opacity","fly","y","target_opacity","transform","od","u","slide","height","parseFloat","padding_top","paddingTop","padding_bottom","paddingBottom","margin_top","marginTop","margin_bottom","marginBottom","border_top_width","borderTopWidth","border_bottom_width","borderBottomWidth","min","headerClasses","buttonClasses","alt","class","image","portrait","title","description","galleryLength","activeImage","classes","actualTitle","actualDescription","modalClasses","modalStyle","transitionDuration","gallery","allModalClasses","slotContent","images","console","log","values","img","hidden","error","subscriber_queue","writable","stop","subscribers","new_value","run_queue","s","invalidate","subscriber","noScroll","thumbnail","visible","mountedT","defaultOverflow","body","overflow","code","clean","extra_keys","concat","includes","setScrollbarWidth","padding","paddingRight","conditionallyUpdateScrollbar","scrollbarWidth","scrollDiv","position","top","width","offsetWidth","clientWidth","getScrollbarWidth","fixedContent","querySelectorAll","bodyPadding","parseInt","innerWidth","toVal","mix","isArray","clsx","arguments","forwardEventsBuilder","additionalEvents","events","forward","bubble","destructors","forwardEvents","domElement","className","close","color","disabled","href","outline","gradient","rounded","ariaLabel","defaultAriaLabel","vertical","elementClasses","modal-backdrop","openCount","dialogBaseClass","isOpen","autoFocus","centered","backdropDuration","scrollable","labelledBy","backdrop","onEnter","onExit","onOpened","onClosed","wrapClassName","modalClassName","backdropClassName","contentClassName","zIndex","unmountOnClose","returnFocusAfterClose","displacementX","displacementY","side","fullHeight","frame","_triggeringElement","_originalBodyPadding","_dialog","_mouseDownElement","_removeEscListener","hasOpened","_isMounted","_lastIsOpen","_lastHasOpened","setFocus","focus","activeElement","err","getPropertyValue","getOriginalBodyPadding","manageFocusAfterClose","modalOpenClassNameRegex","RegExp","replace","trim","afterUpdate","modal-side","modal-full-height","modal-frame","stopPropagation","backdropElem","args","browserEvent","closeAriaLabel","charCode","closeIcon","String","fromCharCode","message","onOkay","onCancel","colorOkayButton","labelOkayButton","reject","charmManager","hankaku2zenkaku","label","isDisabled","onClick","__awaiter","thisArg","_arguments","P","generator","IMPORT_MODE","APPEND","OVERWRITE","confirm","textareaValue","importCharms","mode","$charmManager","reset","charms","line","s1","sl1","s2","sl2","slot1","slot2","slot3","skills","skillLevels","slots","registerCharms","row","skill1","skill1Level","skill2","skill2Level","module","$","M","weekdays","months","g","z","utcOffset","floor","date","year","month","clone","ceil","w","D","ms","Q","toLowerCase","v","_","S","O","locale","$L","utc","$u","$x","$offset","parse","prototype","$d","NaN","test","match","substring","UTC","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","toString","isSame","startOf","endOf","isAfter","isBefore","$g","unix","valueOf","getTime","toDate","apply","$locale","weekStart","$set","daysInMonth","get","Number","round","subtract","format","invalidDate","substr","meridiem","YY","YYYY","MM","MMM","monthsShort","MMMM","DD","dd","weekdaysMin","ddd","weekdaysShort","dddd","H","HH","hh","A","mm","ss","SSS","Z","getTimezoneOffset","diff","toJSON","toISOString","toUTCString","extend","$i","isDayjs","en","Ls","is_date","tick_spring","last_value","current_value","target_value","delta","velocity","dt","opts","stiffness","damping","inv_mass","precision","settled","next_value","spring","last_time","current_token","inv_mass_recovery_rate","cancel_task","token","hard","soft","rate","fulfil","range","reversed","hoverable","pipstep","all","first","last","prefix","suffix","formatter","orientationStart","percentOf","moveHandle","fixFloat","pipStep","pipCount","pipVal","val","isSelected","some","inRange","el","previousElementSibling","normalisedClient","touches","slider","pushy","float","pips","id","handleFormatter","springValues","startValue","previousValue","springPositions","valueLength","handleActivated","handlePressed","keyboardActive","activeHandle","toFixed","getSliderDimensions","getBoundingClientRect","handleInteract","clientPos","dims","handlePos","handlePercent","handleVal","clientY","clientX","left","alignValueToStep","eStop","clampValue","remainder","aligned","perc","isNaN","trimRange","orientationEnd","handle","jump","ctrlKey","metaKey","shiftKey","prevent","closest","sort","getClosestHandle","matches","contains","handles","isHandle","isChild","targetIsHandle","deviceId","video","audio","domVideo","videoStream","isVideoVisible","imageProcessor","videos","audios","onSelectVideoInput","stream","mediaConstraints","navigator","mediaDevices","getUserMedia","getVideoStream","srcObject","paused","play","capture","cv","VideoCapture","Mat","CV_8UC4","read","_a","devices","enumerateDevices","getInputDevices","setTimeout","_b","find","item","highlighted","safeStringFunction","theFunction","argument","originalResult","warn","items","searchFunction","labelFieldName","keywordsFieldName","valueFieldName","labelFunction","keywordsFunction","valueFunction","keywordsCleanFunction","keywords","textCleanFunction","userEnteredText","beforeChange","oldSelectedItem","newSelectedItem","onChange","selectFirstIfEmpty","minCharactersToSearch","maxItemsToShowInList","localFiltering","noResultsText","placeholder","inputClassName","inputId","html5autocomplete","dropdownClassName","hideArrow","showClear","debug","selectedItem","uniqueId","random","list","filteredListItems","inputDelayTimeout","opened","highlightIndex","filteredTextLength","listItems","safeLabelFunction","safeKeywordsFunction","JSON","stringify","prepareListItems","tStart","listItem","getListItem","tEnd","search","textFiltered","textFilteredLowerCase","prepareUserEnteredText","closeIfMinCharsToSearchReached","tempfilteredListItems","searchWords","itemKeywords","searchWord","hlfilter","highlightFilter","filteredListItemsHighlighted","selectListItem","selectItem","up","open","highlight","down","query","scrollIntoViewIfNeeded","onListItemClick","processInput","onEsc","resetListToAllItemsAndOpen","isMinCharsToSearchReached","q","fields","qs","reg","repl","newI","showList","Tab","ShiftTab","ArrowDown","ArrowUp","Escape","clearTimeout","inputIdPrefix","page","col","PAGE_LIST","MAX_PAGE","ROW_LIST","MAX_ROW","COL_LIST","MAX_COL","COLS_PER_PAGE_IN_EQLIST","ROWS_PER_PAGE_IN_EQLIST","RARITY_LIST","MAX_RARITY","allSkillDetails","hiragana","englishCharacters","englishcharacters","_value","_updateValue","updateValue","SKILL_LEVEL_LIST","MAX_SKILL_LEVEL","SLOT_LEVEL_LIST","MAX_SLOT_LEVEL","__assign","hasOwnProperty","__spreadArrays","il","j","jl","_global","self","global","extension","getProto","getPrototypeOf","_hasOwn","hasOwn","prop","proto","setProp","defineProperty","functionOrGetSet","configurable","derive","Child","Parent","getOwnPropertyDescriptor","getPropertyDescriptor","_slice","override","origFunc","overridedFactory","assert","asap","setImmediate","arrayToObject","array","extractor","reduce","nameAndValue","getByKeyPath","keyPath","rv","period","innerObj","setByKeyPath","isFrozen","currentKeyPath","remainingKeyPath","delByKeyPath","kp","shallowClone","flatten","intrinsicTypeNames","num","intrinsicTypes","intrinsicTypeNameSet","deepClone","any","constructor","toStringTag","getValueOf","Uint8Array","ArrayBuffer","isView","buffer","getObjectDiff","prfx","ap","bp","apTypeName","bpTypeName","iteratorSymbol","Symbol","iterator","getIteratorOf","NO_CHAR_ARRAY","getArrayOf","arrayLike","it","done","isAsyncFunction","location","setDebug","libraryFilter","NEEDS_THROW_FOR_STACK","stack","getErrorWithStack","prettyStack","exception","numIgnoredFrames","idbDomErrorNames","errorList","defaultTexts","VersionChanged","DatabaseClosed","Abort","TransactionInactive","DexieError","msg","_e","getMultiErrorMessage","failures","ModifyError","successCount","failedKeys","BulkError","_stack","errnames","BaseException","exceptions","fullName","msgOrInner","inner","Syntax","SyntaxError","Type","TypeError","Range","RangeError","exceptionMap","fullNameExceptions","nop","mirror","pureFunctionChain","f1","f2","callBoth","on1","on2","hookCreatingChain","res","onsuccess","onerror","res2","hookDeletingChain","hookUpdatingChain","modifications","reverseStoppableEventChain","promisableChain","thiz","INTERNAL","globalP","crypto","subtle","nativeP","digest","resolvedNativePromise","nativePromiseProto","resolvedGlobalPromise","nativePromiseThen","NativePromise","patchGlobalPromise","stack_being_generated","schedulePhysicalTick","physicalTick","MutationObserver","hiddenDiv","observe","asap$1","microtickQueue","needsNewPhysicalTick","isOutsideMicroTick","unhandledErrors","rejectingErrors","currentFulfiller","rejectionMapper","globalPSD","ref","unhandleds","onunhandled","globalError","pgp","env","finalize","uh","PSD","numScheduledCalls","tickFinalizers","DexiePromise","_listeners","onuncatched","_lib","psd","_PSD","_stackHolder","_prev","_numPrev","_state","handleRejection","executePromiseTask","thenProp","microTaskId","totalEchoes","onFulfilled","onRejected","_this","possibleAwait","cleanup","decrementExpectedAwaits","propagateToListener","Listener","nativeAwaitCompatibleWrap","linkToPreviousPromise","zone","shouldExecuteTick","beginMicroTickScope","_then","propagateAllListeners","endMicroTickScope","ex","reason","_promise","tryCatch","origProp","addPossiblyUnhandledError","listeners","finalizePhysicalTick","listener","callListener","markErrorAsHandled","getStack","stacks","limit","errorName","failure","prev","numPrev","wasRootExec","unhandledErrs","finalizers","PromiseReject","wrap","errorCatcher","outerScope","switchToZone","catch","finally","onFinally","timeout","Infinity","Timeout","snapShot","onPossibleParallellAsync","remaining","race","newPSD","newScope","usePSD","scheduler","follow","zoneProps","finalizer","run_at_end_of_this_or_next_physical_tick","allSettled","possiblePromises","results","status","AggregateError","awaits","echoes","taskCounter","zoneStack","zoneEchoes","zone_id_counter","props$$1","a1","a2","parent","globalEnv","PromiseProp","nthen","getPatchedPromiseThen","gthen","incrementExpectedAwaits","possiblePromise","rejection","zoneEnterEcho","targetZone","zoneLeaveEcho","bEnteringZone","currentZone","enqueueNativeMicroTask","GlobalPromise_1","targetEnv","GlobalPromise","a3","job","outerZone","origThen","onResolved","UNHANDLEDREJECTION","eventData","initEvent","CustomEvent","PromiseRejectionEvent","onunhandledrejection","defaultPrevented","tempTransaction","db","storeNames","openComplete","letThrough","trans","_createTransaction","_dbSchema","_completion","isBeingOpened","_options","autoOpen","dbReadyPromise","DEXIE_VERSION","maxString","minKey","INVALID_KEY_ARGUMENT","STRING_EXPECTED","connections","isIEOrEdge","userAgent","hasIEDeleteObjectStoreBug","hangsOnDeleteLargeKeyRange","dexieStackFrameFilter","DBNAMES_DB","READONLY","READWRITE","combine","filter1","filter2","AnyRange","lower","lowerOpen","upper","upperOpen","workaroundForUndefinedPrimKey","Table","_trans","writeLocked","_tx","tableName","checkTableInTransaction","schema","NotFound","idbtrans","transless","keyOrCrit","where","core","hook","reading","fire","indexOrCrit","WhereClause","keyPaths","equals","compoundIndex","indexes","primKey","ix","compound","every","_maxKey","idxByName","idb","_deps","indexedDB","cmp","prevIndex","prevFilterFn","multi","idx","filterFunction","toCollection","and","count","thenShortcut","offset","numRows","each","toArray","Collection","orderBy","reverse","mapToClass","mappedClass","readHook","defineClass","content","auto","objToAdd","mutate","numFailures","lastResult","keyOrObject","InvalidArgument","modify","put","bulkGet","keys$$1","getMany","bulkAdd","objects","keysOrOptions","wantResults","allKeys","numObjects","objectsToAdd","pos","bulkPut","objectsToPut","bulkDelete","numKeys","Events","evs","eventName","addEventType","chainFunction","defaultFunction","addConfiguredEvents","cfg","makeClassConstructor","isPlainKeyRange","ignoreLimitFilter","algorithm","or","justLimit","replayFilter","addFilter","addReplayFilter","factory","isLimitFilter","curr","getIndexOrStore","coreSchema","isPrimKey","primaryKey","getIndexByKeyPath","Schema","openCursor","coreTable","keysOnly","dir","unique","iter","coreTrans","set_1","union","cursor","advance","fail","_iterate","iterate","valueMapper","cursorPromise","wrappedFn","continue","advancer","_read","_ctx","table","_write","_addAlgorithm","raw","sortBy","parts","lastPart","lastIndex","getval","order","sorter","aVal","bVal","valueMapper_1","a_1","offsetLeft","rowsLeft","until","bIncludeStopEntry","isMatch","addMatchFilter","indexName","_ondirectionchange","desc","eachKey","eachUniqueKey","eachPrimaryKey","primaryKeys","uniqueKeys","firstKey","lastKey","distinct","strKey","found","changes","modifyer","anythingModified","outbound","extractKey","Dexie","totalFailures","applyMutateResult","expectedCount","_i","nextChunk","addValues","putValues","putKeys","deleteKeys","origValue","ctx_1","coreRange","simpleCompare","simpleCompareReverse","collectionOrWhereClause","T","collection","emptyCollection","whereClause","rangeEqual","nextCasing","lowerKey","upperNeedle","lowerNeedle","llp","lwrKeyChar","addIgnoreCaseAlgorithm","needles","compare","upperNeedles","lowerNeedles","nextKeySuffix","needlesLen","initDirection","toUpperCase","upperFactory","lowerFactory","needleBounds","needle","nb","createRange","firstPossibleNeedle","lowestPossibleCasing","casing","enumerable","between","includeLower","includeUpper","_cmp","above","aboveOrEqual","below","belowOrEqual","startsWith","startsWithIgnoreCase","equalsIgnoreCase","anyOfIgnoreCase","startsWithAnyOfIgnoreCase","anyOf","_ascending","_descending","notEqual","inAnyRange","includeLowers","includeUppers","noneOf","ranges","ascending","descending","_min","_max","sortDirection","rangeSorter","newRange","rangePos","keyIsBeyondCurrentEntry","keyIsBeforeCurrentEntry","checkKey","keyWithinCurrentRange","startsWithAnyOf","safariMultiStoreFix","getMaxKey","IdbKeyRange","only","eventRejectHandler","Transaction","_lock","_reculock","lockOwnerFor","_unlock","_blockedFuncs","_locked","fnAndPSD","shift","idbdb","dbOpenError","MissingAPI","OpenFailed","transaction","ev","_reject","onabort","on","oncomplete","_resolve","bWriteLock","ReadOnly","_root","waitFor","promiseLike","root","_waitingFor","_waitingQueue","objectStore","spin","_spinCount","currentWaitPromise","abort","memoizedTables","_memoizedTables","tableSchema","transactionBoundTable","createIndexSpec","nameFromKeyPath","createTableSchema","getKeyExtractor","getSinglePathKeyExtractor","getEffectiveKeys","req","arrayify","_id_counter","getKeyPathAlias","createDBCore","tmpTrans","makeIDBKeyRange","upperBound","lowerBound","tables","objectStoreNames","autoIncrement","indexByKeyPath","isPrimaryKey","indexNames","multiEntry","hasGetAll","extractSchema","isAddOrPut","errorHandler","_reqno","setResult","args1","args2","keyCount","callbackCount","successHandler","_pos","request","nonInfinitLimit","source","idbKeyRange","getAll","getAllKeys","count_1","req_1","openKeyCursor","result_1","___id","_cursorContinue","_cursorContinuePrimaryKey","continuePrimaryKey","_cursorAdvance","doThrowCursorIsStopped","gotOne","iterationPromise","resolveIteration","rejectIteration","guardedCallback","createDbCoreTable","tableMap","MIN_KEY","MAX_KEY","createMiddlewareStacks","middlewares","IDBKeyRange","dbcore","stackImpl","createMiddlewareStack","generateMiddlewareStacks","_middlewares","tbl","setApiOnPlace","objs","tableNames","dbschema","propDesc","removeTablesApi","lowerVersionFirst","_cfg","version","runUpgraders","oldVersion","idbUpgradeTrans","globalSchema","_storeNames","rejectTransaction","createTable","populate","queue","versions","_versions","buildGlobalSchema","anyContentUpgraderHasRun","runQueue","oldSchema","newSchema","adjustToExistingIndexNames","getSchemaDiff","tuple","change","recreate","Upgrade","store_1","addIndex","deleteIndex","del","idxName","contentUpgrade","upgradeSchema_1","returnValue_1","contentUpgradeIsAsync_1","promiseFollowed","decrementor","storeName","deleteObjectStore","deleteRemovedTables","updateTablesAndIndexes","oldDef","newDef","def","oldIndexes","newIndexes","oldIdx","newIdx","createObjectStore","createIndex","idbindex","_hasGetAll","dexieName","indexSpec","WorkerGlobalScope","databaseEnumerator","Version","_parseStoresSpec","stores","outSchema","indexNum","storesSource","storesSpec","_allTables","upgrade","upgradeFunction","vip","dexieOpen","state","openCanceller","resolveDbReady","dbReadyResolve","upgradeTransaction","dbName","autoSchema","verno","onblocked","_fireOnBlocked","onupgradeneeded","allowEmptyDB","delreq","deleteDatabase","NoSuchDatabase","oldVer","pow","readGlobalSchema","ch","verifyInstalledSchema","onversionchange","vcFired","onReadyBeingFired","fireRemainders","remainders","awaitIterator","callNext","onSuccess","onError","throw","getNext","extractTransactionArgs","_tableArgs_","scopeFunc","enterTransactionScope","parentTransaction","returnValue","scopeFuncIsAsync","PrematureCommit","pad","virtualIndexMiddleware","level","indexLookup","allVirtualIndexes","addVirtualIndexes","keyTail","lowLevelIndex","keyPathAlias","indexList","keyLength","isVirtual","virtualIndex","translateRequest","createVirtualCursor","hooksMiddleware","downCore","downTable","dxTrans","deleting","creating","updating","addPutOrDelete","deleteNextChunk","deleteRange","effectiveKeys","getExistingValues","existingValues","contexts","existingValue","generatedPrimaryKey","objectDiff","additionalChanges_1","requestedValue_1","deps","dependencies","addons","cancelOpen","bSticky","db_1","keyRangeGenerator","keyRange","whereCtx","readingHook","createTableConstructor","complete","wasActive","createTransactionConstructor","versionNumber","createVersionConstructor","orCollection","_IDBKeyRange","createWhereClauseConstructor","newVersion","use","addon","versionInstance","_whenReady","unuse","mw","hasArguments","doDelete","remove","backendDB","hasBeenClosed","hasFailed","dynamicallyOpened","_transaction","idbMode","onlyIfCompatible","SubTransaction","enterTransaction","InvalidTable","Dexie$1","sleep","msec","async","fetchImage","path","Image","onload","imread","countImageDiffAtPoint","templateImage","trimRect","diffBinaryThreshold","trimmed","roi","absdiff","cvtColor","COLOR_BGR2GRAY","threshold","THRESH_BINARY","morphologyEx","MORPH_OPEN","ones","CV_8U","diffCount","countNonZero","getMostMatchedImage","templates","minDiffCount","MAX_SAFE_INTEGER","candidate","template","entries","promiseAllRecursive","promises","pair","resolveObject","maskByColor","mask","sMin","rows","cols","sMax","dst","copyTo","databaseName","exists","getDatabaseNames","ignoreTransaction","generatorFn","spawn","currentTransaction","promiseOrFunction","optionalTimeout","mozIndexedDB","webkitIndexedDB","msIndexedDB","webkitIDBKeyRange","semVer","default","maxKey","dbNamesTable","hasDatabasesNative","databases","dbnames","infos","info","DatabaseEnumerator","initDatabaseEnumerator","domError","SCAN_MODE","SCAN_SKIP_MODE","MHRiseCharmScanner","scanMode","scanSkipMode","EQUIPMENT_SPEC_HEADER_BASE_X","EQUIPMENT_SPEC_HEADER_BASE_Y","POINT_RARITY","Point","POINT_SLOTS","POINT_SLOT1","POINT_SLOT2","POINT_SLOT3","POINT_SKILL1","POINT_SKILL2","POINT_SKILL_LEVEL1","POINT_SKILL_LEVEL2","POINT_PAGE","POINT_PAGE_SECOND_DIGIT","POINT_CHARM_AREA","POINT_CHARM_ICON_BASE","SIZE_CHARM_ICON_FRAME","Size","POINT_PAGE_IN_RINNE","POINT_PAGE_SECOND_DIGIT_IN_RINNE","POINT_CHARM_AREA_IN_RINNE","SIZE_CHARM_AREA_IN_RINNE","prevPosition","indexeddb","nCharms","adjustOffset","ROWS_PER_PAGE","COLS_PER_PAGE","templateFetchPromises","others","charmSelectFrame","charmSelectFrameForRinne","equipmentSpecHeader","page-parts","0","1","2","3","4","5","6","7","8","9","rare","10","lvl","skill","KO術","匠","不屈","体術","幸運","心眼","攻撃","業物","渾身","無し","砲術","耐震","耳栓","逆襲","防御","陽動","集中","ボマー","地質学","広域化","挑戦者","早食い","植生学","毒耐性","水耐性","氷耐性","満足感","火耐性","破壊王","納刀術","見切り","超会心","逆恨み","達人芸","雷耐性","鬼火纏","龍耐性","ブレ抑制","ランナー","乗り名人","剛刃研磨","力の解放","反動軽減","回復速度","回避性能","壁面移動","弱点特効","強化持続","弾丸節約","弾導強化","死中に活","気絶耐性","泡沫の舞","泥雪耐性","滑走強化","火事場力","睡眠耐性","砲弾装填","翔蟲使い","装填拡張","装填速度","速射強化","鈍器使い","風圧耐性","飛び込み","高速変形","麻痺耐性","回避距離UP","ひるみ軽減","ガード強化","ガード性能","攻めの守勢","毒属性強化","笛吹き名人","精霊の加護","腹減り耐性","体力回復量UP","キノコ大好き","ジャンプ鉄人","スタミナ奪取","フルチャージ","剥ぎ取り鉄人","抜刀術【力】","抜刀術【技】","爆破属性強化","特殊射撃強化","睡眠属性強化","麻痺属性強化","会心撃【属性】","属性やられ耐性","水属性攻撃強化","氷属性攻撃強化","火属性攻撃強化","爆破やられ耐性","砥石使用高速化","雷属性攻撃強化","龍属性攻撃強化","アイテム使用強化","スタミナ急速回復","散弾・拡散矢強化","貫通弾・貫通矢強化","通常弾・連射矢強化","チャージマスター","チューンアップ","供応","刃鱗磨き","合気","壁面移動【翔】","攻勢","災禍転福","研磨術【鋭】","連撃","炎鱗の恩恵","鋼殻の恩恵","霞皮の恩恵","龍気活性","血氣","激昂","伏魔響命","狂竜症【蝕】","業鎧【修羅】","根性","巧撃","闇討ち","弱点特効【属性】","顕如盤石","状態異常確定蓄積","煽衛","剛心","蓄積時攻撃強化","狂化","奮闘","風纏","粉塵纏","龍気変換","冰気錬成","_getCache","charm","screenshot","matchTemplate","TM_CCOEFF_NORMED","maxLoc","maxVal","minMaxLoc","getAdjustOffset","movieName","matchThresholdOverwrite","_getCurrentPage","matchThreshold","_getCurrentCharmPos","_getCurrentCharmPosForRinne","isCacheEnabled","cache","isCache","rarity","_getRarity","_getSlots","_getSkills","_getSkillLevels","imageName","_setCache","buf","point","Rect","_getTrimRect","rect1","rect2","hsv","COLOR_BGR2HSV","channels","MatVector","brightness","binary","THRESH_OTSU","COLOR_GRAY2BGRA","candidateForAssumingOneDigitNumber","rect","candidateForAssumingTwoDigitNumber","rectForFirstDigit","rectForSecondDigit","firstDigitCandidate","secondDigitCandidate","masked","maskedHsv","yellowInGrayScale","yellow","COLOR_RGBA2GRAY","yellowCount","rowsPerPage","colsPerPage","currentCharm","charmScanner","_getCharmClass","_isCurrentCharm","isRecording","searchValue","headerClass","sortable","renderValue","renderComponent","columns","sortOrder","iconAsc","iconDesc","classNameTable","classNameThead","classNameTbody","classNameSelect","classNameRow","classNameCell","filterSelections","sliceBegin","sliceEnd","disableFilterHeader","sortFunction","showFilterHeader","filterOptions","filterValues","columnByKey","handleClickCol","colKey","handleClickRow","handleClickCell","c_rows","toLocaleLowerCase","filterValue","$sortOn","substitutableCharms","rowid","headerColor","showImageColumn","showSubstitutesColumn","initialOpenedScreentshots","allSkills","nums","evaluation","imagename","toggleScreenshot","isScreenshotShown","isSubstitutableCharmsShown","onClickRow","toShow","getScreenshot","imshow","styleVars","header-background-color","table-width","currentPage","itemsPerPage","nPages","isSameCharm","c1","c2","isSameArray","flatCharm2charm","isAppReady","domCameraReader","charmPosMatchThreshold","isPositionAdjustRequired","charmPosMatchThresholdSliderValues","$isAppReady","isSpinnerShown","searchResults","baseSpec","inputJson","Module","getSubstitutes","matchIds","updateResult","adjustPosition","scan","dayjs","MAX_SLOTS","handleKeydown","click","altKey","elementBasename","focusedId","currentSuffix","nextFocus","getElementById","skillFilters","skillLevelFilters","base","getSubstitutesAll","searchResultsToShow","setInterval","registerCharm","videoWidth","videoHeight","beginTime","endTime","nSplits","videoName","videoData","onCapture","onFinish","progress","oncanplay","processCurrentFrame","currentTime","seekFrames","nFrames","fps","newPosition","N_VIDEO_SPLITS","hardwareConcurrency","domFileInput","countFinishVideoRead","files","videoReaderProps","isVideoReadFinished","currentFileIndex","isScanFinished","nScanedCharms","exportData","saveScreenshot","onFinishVideoRead","file","reader","FileReader","readAsDataURL","$videoReaderProps","countCharms","exportAsText","getCharms","navOptions","tabTitle","iconData","isNavigationOpen","currentNavOptionId","onActivate","selectedComponentId","_scriptDir","sqlite3InitModule","readyPromiseResolve","readyPromiseReject","sqlite3InitModuleState","globalThis","debugModule","xNameOfInstantiateWasm","callee","imports","foo","uri","locateFile","scriptDirectory","wfetch","fetch","credentials","WebAssembly","instantiateStreaming","arg","response","arrayBuffer","bytes","instantiate","moduleOverrides","thisProgram","ENVIRONMENT_IS_WEB","ENVIRONMENT_IS_WORKER","importScripts","process","read_","readAsync","readBinary","currentScript","lastIndexOf","url","xhr","XMLHttpRequest","send","responseText","responseType","wasmBinary","wasmMemory","out","HEAP8","HEAPU8","HEAP16","HEAP32","HEAPU32","ABORT","UTF8Decoder","TextDecoder","UTF8ArrayToString","heapOrArray","maxBytesToRead","endIdx","endPtr","decode","subarray","u0","u1","u2","stringToUTF8Array","heap","outIdx","maxBytesToWrite","startIdx","stringToUTF8","outPtr","lengthBytesUTF8","updateMemoryViews","Int8Array","Int16Array","Int32Array","Uint16Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array","INITIAL_MEMORY","Memory","initial","maximum","byteLength","wasmBinaryFile","tempDouble","tempI64","__ATPRERUN__","__ATINIT__","__ATPOSTRUN__","runDependencies","dependenciesFulfilled","addRunDependency","removeRunDependency","what","RuntimeError","isDataURI","filename","getBinary","callRuntimeCallbacks","URL","PATH","isAbs","charAt","splitPath","exec","normalizeArray","allowAboveRoot","unshift","normalize","isAbsolute","trailingSlash","dirname","basename","lastSlash","paths","join2","PATH_FS","resolvedPath","resolvedAbsolute","FS","cwd","relative","to","arr","fromParts","toParts","samePartsLength","outputParts","intArrayFromString","stringy","dontAddNull","u8array","numBytesWritten","TTY","ttys","shutdown","register","dev","ops","output","registerDevice","stream_ops","tty","rdev","ErrnoError","seekable","fsync","get_char","bytesRead","timestamp","write","put_char","default_tty_ops","prompt","readline","default_tty1_ops","mmapAlloc","alignment","alignMemory","ptr","_emscripten_builtin_memalign","address","zeroMemory","MEMFS","ops_table","mount","createNode","isBlkdev","isFIFO","getattr","node_ops","setattr","lookup","mknod","rename","unlink","rmdir","readdir","symlink","llseek","allocate","mmap","msync","link","readlink","chrdev","chrdev_stream_ops","isDir","contents","isFile","usedBytes","isLink","isChrdev","getFileDataAsTypedArray","expandFileStorage","newCapacity","prevCapacity","oldContents","resizeFileStorage","newSize","ino","nlink","gid","atime","mtime","ctime","blksize","blocks","genericErrors","old_node","new_dir","new_name","new_node","lookupNode","newname","oldpath","canOwn","whence","prot","flags","allocated","byteOffset","mmapFlags","asyncLoad","noRunDep","dep","condition","mounts","streams","nextInode","nameTable","currentPath","initialized","ignorePermissions","filesystems","syncFSRequests","lookupPath","follow_mount","recurse_count","current","current_path","islast","isMountpoint","mounted","getPath","isRoot","mountpoint","hashName","parentid","hashAddNode","name_next","hashRemoveNode","errCode","mayLookup","FSNode","destroyNode","isSocket","flagModes","r+","w+","a+","modeStringToFlags","flagsToPermissionString","flag","perms","nodePermissions","mayCreate","mayDelete","isdir","errno","mayOpen","MAX_OPEN_FDS","nextfd","fd_start","fd_end","fd","getStream","createStream","FSStream","shared","defineProperties","object","isRead","isWrite","isAppend","closeStream","device","getDevice","major","minor","makedev","ma","mi","getMounts","check","syncfs","completed","doCallback","errored","pseudo","mountRoot","unmount","mkdir","mkdirTree","dirs","mkdev","newpath","old_path","new_path","old_dir","old_dirname","new_dirname","old_name","stat","dontFollow","lstat","chmod","lchmod","fchmod","chown","lchown","fchown","truncate","ftruncate","utime","created","ungotten","readFiles","isClosed","getdents","seeking","bytesWritten","munmap","ioctl","cmd","readFile","encoding","writeFile","actualNumBytes","chdir","createDefaultDirectories","createDefaultDevices","random_device","randomBuffer","getRandomValues","getRandomDevice","createDevice","createSpecialDirectories","proc_self","createStandardStreams","ensureErrnoError","setErrno","staticInit","quit","getMode","canRead","canWrite","findObject","dontResolveLastLink","analyzePath","parentExists","parentPath","parentObject","createPath","part","createFile","properties","createDataFile","forceLoadFile","isDevice","isFolder","createLazyFile","LazyUint8Array","lengthKnown","chunks","chunkOffset","chunkSize","chunkNum","getter","setDataGetter","cacheLength","header","datalength","getResponseHeader","hasByteServing","usesGzip","lazyArray","setRequestHeader","overrideMimeType","doXHR","_length","_chunkSize","writeChunks","createPreloadedFile","dontCreateFile","preFinish","fullname","processData","byteArray","finish","Browser","handledByPreloadPlugin","DB_NAME","pathname","DB_VERSION","DB_STORE_NAME","saveFilesToDB","openRequest","ok","total","putRequest","loadFilesFromDB","getRequest","SYSCALLS","DEFAULT_POLLMASK","calculateAt","dirfd","allowEmpty","getStreamFromFD","doStat","func","doMsync","addr","varargs","getStr","UTF8ToString","bigintToI53Checked","readI53FromI64","_emscripten_get_now","__MONTH_DAYS_LEAP_CUMULATIVE","__MONTH_DAYS_REGULAR_CUMULATIVE","allocateUTF8","_malloc","emscripten_realloc_buffer","grow","ENV","getEnvStrings","strings","USER","LOGNAME","PWD","HOME","LANG","languages","readMode","writeMode","asmLibraryArg","__syscall_chmod","__syscall_faccessat","amode","__syscall_fchmod","__syscall_fchown32","owner","__syscall_fcntl64","___errno_location","__syscall_fstat64","__syscall_ftruncate64","__syscall_getcwd","cwdLengthInBytes","__syscall_ioctl","op","argp","__syscall_lstat64","__syscall_mkdirat","__syscall_newfstatat","nofollow","__syscall_openat","__syscall_readlinkat","bufsize","endChar","__syscall_rmdir","__syscall_stat64","__syscall_unlinkat","__syscall_utimensat","times","seconds","nanoseconds","_emscripten_get_now_is_monotonic","_localtime_js","time","tmPtr","yday","__yday_from_date","summerOffset","winterOffset","_mmap_js","off","_munmap_js","_tzset_js","timezone","daylight","tzname","currentYear","winter","summer","stdTimezoneOffset","extractZone","toTimeString","winterName","summerName","winterNamePtr","summerNamePtr","emscripten_date_now","emscripten_get_now","emscripten_resize_heap","requestedSize","multiple","oldSize","maxHeapSize","cutDown","overGrownHeapSize","environ_get","__environ","environ_buf","bufSize","string","writeAsciiToMemory","environ_sizes_get","penviron_count","penviron_buf_size","fd_close","fd_fdstat_get","pbuf","fd_read","iov","iovcnt","pnum","doReadv","fd_seek","newOffset","fd_sync","fd_write","doWritev","memory","wasi_snapshot_preview1","receiveInstance","exports","receiveInstantiationResult","instantiateArrayBuffer","receiver","createWasm","calledRun","doRun","postRun","preRun","runCaller","sqlite3ApiBootstrap","apiConfig","sqlite3ApiConfig","defaultConfig","sqlite3","bigIntEnabled","HEAPU64","wasmfsOpfsDir","useStdAlloc","allocExportName","deallocExportName","reallocExportName","capi","wasm","__rcStr","rc","sqlite3_js_rc_str","SQLite3Error","super","rcStr","resultCode","SQLITE_ERROR","toss","toss3","isInt32","__SAB","SharedArrayBuffer","isSharedTypedArray","aTypedArray","typedArrayPart","begin","isBindableTypedArray","isSQLableTypedArray","affirmBindableTypedArray","utf8Decoder","typedArrayToString","typedArray","flexibleString","isPtr","cstrToJs","WasmAllocError","SQLITE_NOMEM","sqlite3_bind_blob","sqlite3_bind_text","sqlite3_create_function_v2","pDb","funcName","nArg","eTextRep","pApp","xFunc","xStep","xFinal","xDestroy","sqlite3_create_function","sqlite3_create_window_function","xValue","xInverse","sqlite3_prepare_v3","dbPtr","sql","sqlByteLen","prepFlags","stmtPtrPtr","strPtrPtr","sqlite3_prepare_v2","sqlite3_exec","pVoid","pErrMsg","sqlite3_randomness","util","bigIntFits32","bigIntFits64","BigInt","bigIntFitsDouble","MIN_SAFE_INTEGER","isTypedArray","BYTES_PER_ELEMENT","isUIThread","affirmDbHeader","affirmIsDb","ptrSizeof","wasmPtrSizeof","ptrIR","wasmPtrIR","alloc","realloc","dealloc","allocFromTypedArray","srcTypedArray","pRet","heapForSize","keyAlloc","keyDealloc","keyRealloc","Function","impl","m2","__wasmfsOpfsDir","compileOptionUsed","optName","_result","_opt","_rx","_rxInt","opt","ov","sqlite3_compileoption_get","sqlite3_compileoption_used","pstack","restore","sqlite3_wasm_pstack_restore","sizeofIR","sqlite3_wasm_pstack_alloc","allocChunks","sz","mem","allocPtr","safePtrSize","stackPos","pointer","iterable","writeable","sqlite3_wasm_pstack_ptr","quota","sqlite3_wasm_pstack_quota","sqlite3_wasm_pstack_remaining","ta","heap8u","nAlloc","sqlite3_wasmfs_opfs_dir","pdir","FileSystemHandle","FileSystemDirectoryHandle","FileSystemFileHandle","xCallWrapped","sqlite3_wasmfs_filename_is_persistent","sqlite3_js_db_uses_vfs","vfsName","pK","sqlite3_vfs_find","sqlite3_js_db_vfs","sqlite3_js_vfs_list","pVfs","oVfs","sqlite3_vfs","$zName","$pNext","dispose","sqlite3_js_db_export","xWrap","testConvertArg","scope","scopedAllocPush","pOut","pSize","scopedAlloc","ppOut","zSchema","scopedAllocCString","sqlite3_wasm_db_serialize","peekPtr","nOut","peek","sqlite3_free","scopedAllocPop","dbPointer","sqlite3_wasm_db_vfs","sqlite3_js_aggregate_context","pCtx","sqlite3_aggregate_context","sqlite3_js_posix_create_file","dataLen","pData","sqlite3_wasm_posix_create_file","sqlite3_js_vfs_create_file","vfs","sqlite3_wasm_vfs_create_file","sqlite3_js_sql_to_string","__kvvfsInfo","which","sessionStorage","localStorage","sqlite3_js_kvvfs_clear","kvinfo","toRm","kk","removeItem","sqlite3_js_kvvfs_size","getItem","sqlite3_db_config","pii","ip","SQLITE_DBCONFIG_ENABLE_FKEY","SQLITE_DBCONFIG_ENABLE_TRIGGER","SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER","SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION","SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE","SQLITE_DBCONFIG_ENABLE_QPSG","SQLITE_DBCONFIG_TRIGGER_EQP","SQLITE_DBCONFIG_RESET_DATABASE","SQLITE_DBCONFIG_DEFENSIVE","SQLITE_DBCONFIG_WRITABLE_SCHEMA","SQLITE_DBCONFIG_LEGACY_ALTER_TABLE","SQLITE_DBCONFIG_DQS_DML","SQLITE_DBCONFIG_DQS_DDL","SQLITE_DBCONFIG_ENABLE_VIEW","SQLITE_DBCONFIG_LEGACY_FILE_FORMAT","SQLITE_DBCONFIG_TRUSTED_SCHEMA","SQLITE_DBCONFIG_STMT_SCANSTATUS","SQLITE_DBCONFIG_REVERSE_SCANORDER","SQLITE_DBCONFIG_LOOKASIDE","SQLITE_DBCONFIG_MAINDBNAME","SQLITE_MISUSE","sqlite3_value_to_js","pVal","throwIfCannotConvert","valType","sqlite3_value_type","SQLITE_INTEGER","sqlite3_value_int64","sqlite3_value_double","SQLITE_FLOAT","SQLITE_TEXT","sqlite3_value_text","SQLITE_BLOB","sqlite3_value_bytes","pBlob","sqlite3_value_blob","SQLITE_NULL","SQLITE_MISMATCH","sqlite3_values_to_js","argc","pArgv","tgt","sqlite3_result_error_js","sqlite3_result_error_nomem","sqlite3_result_error","sqlite3_result_js","sqlite3_result_int","sqlite3_result_double","sqlite3_result_int64","isInteger","allocCString","sqlite3_result_text","SQLITE_WASM_DEALLOC","sqlite3_result_null","sqlite3_result_blob","sqlite3_column_js","pStmt","iCol","sqlite3_column_value","__newOldValue","pObj","pokePtr","pv","sqlite3_preupdate_new_js","sqlite3_preupdate_old_js","sqlite3changeset_new_js","pChangesetIter","sqlite3changeset_old_js","client","asyncPostInit","ff","isReady","lia","initializersAsync","postInit","__isUnderTest","StructBinder","catcher","scriptInfo","initializers","WhWasmUtilInstaller","pointerIR","heapSize","freeFuncIndexes","utf8Encoder","TextEncoder","endsWith","heapWrappers","HEAP8U","HEAP16U","HEAP32U","HEAP64","HEAP64U","HEAP32F","HEAP64F","heap8","heap16","heap16u","heap32","heap32u","unsigned","functionTable","__indirect_function_table","functionEntry","fptr","ft","jsFuncToWasm","sig","sigTypes","typeCodes","f64","f32","i64","i32","uleb128Encode","method","rxJSig","sigParams","letterType","pushSigType","dest","letter","wasmCode","Instance","__installFunction","scoped","oldLen","installFunction","scopedInstallFunction","uninstallFunction","fi","poke","peek8","poke8","peek16","poke16","peek32","poke32","peek64","poke64","peek32f","poke32f","peek64f","poke64f","getMemValue","getPtrValue","setMemValue","setPtrValue","isPtr32","cstrlen","jstrlen","jstrcpy","jstr","maxBytes","addNul","cstrncpy","tgtPtr","srcPtr","strPtr","jstrToUintArray","encode","__affirmAlloc","__allocCStr","returnWithLength","allocator","__allocMainArgv","isScoped","pList","scopedAllocMainArgv","allocMainArgv","cArgvToJs","scopedAllocCall","__allocPtr","howMany","pIr","scopedAllocPtr","xGet","__argcMismatch","xCall","fname","convert","xArg","xResult","__xArgPtr","copyToResult","adaptPtr","__xArgString","AbstractArgAdapter","argv","argIndex","FuncPtrAdapter","warnOnUse","signature","contextKey","bindScope","bindScopes","bindMod","isTransient","isContext","isPermanent","singleton","callProxy","cm","__cmap","contextMap","fp","debugFuncInstall","debugOut","__xArgAdapterCheck","__xResultAdapterCheck","convertArg","convertArgNoCheck","convertResult","convertResultNoCheck","fArg","resultType","argTypes","fIsFunc","xf","cxw","__xAdapter","typeName","adapter","modeName","xcvPart","resultAdapter","argAdapter","testConvertResult","yawl","wui","finalThen","wasmUtilTarget","malloc","free","Jaccwabyt","StructBinderFactory","SBF","memberPrefix","memberSuffix","debugFlags","__makeDebugFlags","deriveFrom","__flags","setter","_flags","isLittleEndian","DataView","setInt16","sigLetter","isFuncSig","sigIR","affirmBigIntArray","sPropName","__instancePointerMap","WeakMap","xPtrPropName","__freeStruct","ctor","ondispose","StructType","structName","structInfo","sizeof","rop","__allocStruct","__memberKeyProp","__lookupMember","memberName","tossIfNotFound","members","__memberSignature","emscriptenFormat","__ptrPropDescriptor","__structMemberKeys","memberKey","__utf8Decoder","__utf8Encoder","__affirmCStringSignature","member","__memberToJsString","__addOnDispose","__allocCString","lookupMember","memberToJsString","memberIsString","__memberIsString","memberKeys","memberSignature","memoryDump","setMemberCString","__setMemberCString","addOnDispose","isA","hasExternalPointer","isNumericValue","isFinite","makeMemberWrapper","descr","getters","setters","sw","sigDVGetter","sigDVSetter","sigDVSetWrapper","rxSig1","rxSig2","sigCheck","sigGlyph","xPropName","dbg","propName","readOnly","lastMember","StructCtor","externalMemory","methodInfoForKey","mKey","bindingSignatures","aNames","nCols","pColVals","pColNames","aVals","pV","iCode","s0","s3","sqlite3_activate_see","int64","zDb","zTbl","iKey1","iKey2","z0","z1","sqlite3changegroup_add","__ipsProxy","__xString","nilType","oo1","Stmt","DB","sqlite3_index_info","sqlite3_module","SQLITE_NOTFOUND","__xRcPtr","sqlite3_step","doArgcCheck","fI64Disabled","sqlite3_wasm_db_error","__db_err","cJson","ctype","defineGroups","__rcMap","notThese","WasmTestStruct","sqlite3_kvvfs_methods","sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage","structs","sqlite3_vtab_config","__dbArgcMismatch","__errEncoding","SQLITE_FORMAT","__argPDb","__argStr","__dbCleanupMap","dbMap","addCollation","collation","_addUDF","arity","addFunction","udf","addWindowFunc","wudf","closeArgs","sqlite3_create_collation_v2","SQLITE_UTF8","fmap","arities","fargs","__sqlite3CloseV2","sqlite3_close_v2","sqlite3session_table_filter","__sqlite3SessionDelete","sqlite3session_delete","pSession","__sqlite3CreateCollationV2","zName","pArg","xCompare","sqlite3_create_collation","__cfProxy","xInverseAndStep","xFinalAndValue","__sqlite3CreateFunction","__sqlite3CreateWindowFunction","udfSetResult","udfConvertArgs","udfSetError","__flexiString","__prepare","basic","full","sqlLen","ppStmt","pzTail","xSql","xSqlLen","__bindText","__bindBlob","nText","sqlite3_db_handle","pMem","nMem","sqlite3_config","SQLITE_CONFIG_COVERING_INDEX_SCAN","SQLITE_CONFIG_MEMSTATUS","SQLITE_CONFIG_SMALL_MALLOC","SQLITE_CONFIG_SORTERREF_SIZE","SQLITE_CONFIG_STMTJRNL_SPILL","SQLITE_CONFIG_URI","sqlite3_wasm_config_i","SQLITE_CONFIG_LOOKASIDE","sqlite3_wasm_config_ii","SQLITE_CONFIG_MEMDB_MAXSIZE","sqlite3_wasm_config_j","SQLITE_CONFIG_GETMALLOC","SQLITE_CONFIG_GETMUTEX","SQLITE_CONFIG_GETPCACHE2","SQLITE_CONFIG_GETPCACHE","SQLITE_CONFIG_HEAP","SQLITE_CONFIG_LOG","SQLITE_CONFIG_MALLOC","SQLITE_CONFIG_MMAP_SIZE","SQLITE_CONFIG_MULTITHREAD","SQLITE_CONFIG_MUTEX","SQLITE_CONFIG_PAGECACHE","SQLITE_CONFIG_PCACHE2","SQLITE_CONFIG_PCACHE","SQLITE_CONFIG_PCACHE_HDRSZ","SQLITE_CONFIG_PMASZ","SQLITE_CONFIG_SERIALIZED","SQLITE_CONFIG_SINGLETHREAD","SQLITE_CONFIG_SQLLOG","SQLITE_CONFIG_WIN32_HEAPSIZE","__autoExtFptr","sqlite3_auto_extension","fPtr","sqlite3_cancel_auto_extension","sqlite3_reset_auto_extension","pKvvfs","kvvfsMethods","sqlite3_wasm_kvvfs_methods","kvvfsMakeKey","sqlite3_wasm_kvvfsMakeKeyOnPstack","kvvfsStorage","zClass","kvvfsImpls","xRead","zKey","zBuf","nBuf","astack","zXKey","jKey","jV","nV","zV","copyWithin","xWrite","zData","setItem","SQLITE_IOERR","xDelete","sqlite3_vfs_unregister","libVersion","libVersionNumber","sourceId","downloadVersion","__ptrMap","__stmtMap","getOwnOption","dflt","checkSqlite3Rc","sqliteResultCode","sqlite3_errmsg","sqlite3_errstr","__dbTraceToConsole","SQLITE_TRACE_STMT","counter","__vfsPostOpenSql","dbCtorHelper","_name2vfs","isWorkerThread","normalizeArgs","flagsStr","fnJs","vfsCheck","oflags","SQLITE_OPEN_CREATE","SQLITE_OPEN_READWRITE","SQLITE_OPEN_READONLY","SQLITE_OPEN_EXRESCODE","pPtr","sqlite3_open_v2","sqlite3_extended_result_codes","sqlite3_trace_v2","postInitSql","setVfsPostOpenSql","BindTypes","null","number","boolean","blob","bigint","parameterCount","sqlite3_bind_parameter_count","affirmDbOpen","affirmColIndex","stmt","ndx","columnCount","parseExecArgs","resultRows","returnVal","saveSql","rowMode","cbArg","$colName","__selectFirstRow","getArgs","prepare","__selectAll","checkRc","affirmOpen","onclose","before","after","sixtyFour","sqlite3_total_changes64","sqlite3_total_changes","sqlite3_changes64","sqlite3_changes","dbFilename","sqlite3_db_filename","dbNumber","sqlite3_db_name","dbVfsName","evalFirstResult","columnNames","isTA","pSql","pSqlEnd","sqlite3_sql","gotColNames","_lockedByExec","getColumnNames","createFunction","isFunc","isWindow","fFlags","SQLITE_DETERMINISTIC","SQLITE_DIRECTONLY","SQLITE_INNOCUOUS","xArity","arityArg","selectValue","asType","selectValues","selectArray","selectObject","selectArrays","selectObjects","openStatementCount","opener","savepoint","affirmStmtOpen","affirmSupportedBindType","isSupportedBindType","affirmNotLockedByExec","currentOpName","bindOne","bindType","_tooBigInt","asBlob","pStr","sqlite3_bind_parameter_index","affirmParamIndex","sqlite3_bind_null","sqlite3_bind_int","sqlite3_bind_int64","sqlite3_bind_double","_mayGet","sqlite3_finalize","clearBindings","sqlite3_clear_bindings","alsoClearBinds","sqlite3_reset","bindAsBlob","SQLITE_DONE","SQLITE_ROW","stepReset","stepFinalize","sqlite3_column_name","sqlite3_column_type","sqlite3_column_int64","sqlite3_column_double","sqlite3_column_text","sqlite3_column_bytes","sqlite3_column_blob","_blobXfer","getInt","getFloat","getString","getBlob","getJSON","SQLITE_STRING","getColumnName","getParamIndex","sqlite3_column_count","JsStorageDb","storageName","jdb","clearStorage","storageSize","initWorker1API","getDbId","wState","idMap","idSeq","dbList","xfer","dbs","alsoUnlink","ddNdx","sqlite3_wasm_vfs_unlink","post","xferList","postMessage","getDb","require","getMsgDb","msgData","affirmExists","dbId","wMsgHandler","oargs","simulateError","guessVfs","cause","persistent","doUnlink","theCallback","rowNumber","hadColNames","changeCount","countChanges","config-get","vfsList","opfsEnabled","opfs","export","mimetype","opfs-tree","treeList","onmessage","evType","arrivalTime","operation","errorClass","messageId","workerReceivedTime","workerRespondTime","departureTime","vtab","sii","nthConstraint","asPtr","$nConstraint","$aConstraint","nthConstraintUsage","$aConstraintUsage","nthOrderBy","$nOrderBy","$aOrderBy","installMethod","applyArgcCheck","installMethodArgcCheck","argcProxy","removeFuncList","__removeFuncList","sigN","memKey","fProxy","pFunc","installMethods","structInstance","methods","seen","prior","mkey","registerVfs","asDefault","sqlite3_vfs_register","installVfs","propList","struct","StructPtrMapper","__xWrap","methodName","removeMapping","__xWrapFactory","pCObj","unget","xVtab","sqlite3_vtab","xCursor","sqlite3_vtab_cursor","xIndexInfo","pIdxInfo","xError","defaultRc","errorReporter","xRowid","ppRowid64","setupModule","createdMod","mod","xConnect","xDisconnect","catchExceptions","fwrap","pAux","ppVtab","pzErr","mnames","remethods","xCreate","$iVersion","iVersion","$xShadowName","$xSavePoint","$xRelease","$xRollbackTo","installOpfsVfs","Atomics","createSyncAccessHandle","storage","getDirectory","urlParams","searchParams","verbose","sanityChecks","proxyUri","defaultProxyUri","promiseResolve_","promiseReject_","loggers","logImpl","sqlite3_file","sqlite3_io_methods","opfsUtil","metrics","dump","opIds","wait","avgTime","avgWait","s11n","W","serialize","deserialize","opfsIoMethods","opfsVfs","promiseWasRejected","promiseReject","promiseResolve","Worker","_originalOnError","pDVfs","dVfs","$szOsFile","$mxPathname","$xDlOpen","$xDlError","$xDlSym","$xDlClose","littleEndian","asyncIdleWaitTime","asyncS11nExceptions","fileBufferSize","sabS11nOffset","sabS11nSize","sabIO","whichOp","xAccess","xClose","xDeleteNoWait","xFileSize","xLock","xOpen","xSleep","xSync","xTruncate","xUnlock","retry","sabOP","sq3Codes","opfsFlags","OPFS_UNLOCK_ASAP","defaultUnlockAsap","opRun","opNdx","sabOPView","notify","load","asyncShutdown","asyncRestart","randomFilename","_chars","_n","__openFiles","opTimer","mTimeStart","mTimeEnd","ioSyncWrappers","xCheckReservedLock","pFile","lockType","sq3File","xDeviceCharacteristics","SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN","xFileControl","opId","pSz64","pDest","offset64","SQLITE_IOERR_SHORT_READ","sabView","SQLITE_IOERR_READ","sz64","SQLITE_LOCK_NONE","pSrc","SQLITE_IOERR_WRITE","vfsSyncWrappers","xCurrentTime","xCurrentTimeInt64","doSyncDir","xFullPathname","SQLITE_CANTOPEN","xGetLastError","pOutFlags","sqlite3_uri_boolean","fh","fid","sab","sabFileBufView","$pMethods","$xRandomness","$xSleep","xRandomness","getResolvedPath","splitIt","getDirForFilename","absFilename","createDirs","dh","rootDirectory","dirName","getDirectoryHandle","absDirName","entryExists","fsEntryName","getFileHandle","dirHandle","subDir","doDir","rmfr","recurse","removeEntry","recursive","throwOnError","hDir","filenamePart","traverse","defaultOpt","directory","depth","importDb","fnamePart","hFile","chunk","sah","nWrote","checkedHeader","at","importDbChunked","OpfsDb","oo1Db","sqlite3_busy_timeout","payload","io","sabS11nView","textDecoder","textEncoder","viewU8","viewDV","TypeIds","getTypeId","getTypeIdById","tid","typeIds","getInt32","setInt32","initS11n","openFlags","SQLITE_OPEN_MAIN_DB","dbFile","zDbFile","readBuf","jRead","sanityCheck","errMsg","proxyJs","sqlite3Dir","initPromises","HEADER_MAX_PATH_SIZE","HEADER_OFFSET_DATA","PERSISTENT_FILE_TYPES","SQLITE_OPEN_MAIN_JOURNAL","SQLITE_OPEN_SUPER_JOURNAL","SQLITE_OPEN_WAL","OPAQUE_DIR_NAME","getRandomName","optionDefaults","initialCapacity","clearOnInit","verbosity","__mapVfsToPool","getPoolForVfs","setPoolForVfs","pool","__mapSqlite3File","getPoolForPFile","setPoolForPFile","ioMethods","storeErr","getOFileForS3File","mapS3FileToOFile","SQLITE_OPEN_DELETEONCLOSE","deletePath","getSize","nRead","xSectorSize","vfsMethods","hasFilename","SQLITE_IOERR_DELETE","popErr","cMsg","sqlite3Rc","getSAHForPath","getFileCount","getCapacity","nextAvailableSAH","setAssociatedPath","OpfsSAHPool","createOpfsVfs","vfsDir","$error","addCapacity","ah","nRm","clearFiles","getAssociatedPath","releaseAccessHandles","getUint32","fileDigest","HEADER_DIGEST_SIZE","compDigest","computeDigest","pathBytes","findIndex","enc","encodeInto","written","setUint32","h1","h2","acquireAccessHandles","OpfsSAHPoolUtil","sahPool","reduceCapacity","getFileNames","exportFile","removeVfs","installOpfsSAHPoolVfs","apiVersionCheck","$testThrowInInit","thePool","poolUtil","theVfs","getVfs","OpfsSAHPoolDb","SABC","wasmExports","toExportForESM","originalInit","initModuleState","moduleScript","isWorker","URLSearchParams","li","EmscriptenModule","sim","scriptDir","sqlite3Worker1Promiser","onready","handlerMap","idTypeMap","generateMessageId","genMsgId","worker","msgHandler","onrow","proxy","rowCallbackId","skillEvaluationMap","疾之息吹","弓溜め段階解放","MHRiseCharmManager","workers","isDemoMode","_init","_createTable","updateCharmArray","_timer","matFromArray","searchCharms","searchSubstitutableCharms","workerName","substitutes","_applySubstitutableCharmsUpdate","charmsJson","baseId","upperIds","upperId","TITLE","VERSION"],"mappings":"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"}